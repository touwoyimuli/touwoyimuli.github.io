<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>touwoyimuli</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-12-29T16:20:48.715Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>touwoyimuli</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>TCPé€šä¿¡ä¹‹QTcpServerå’ŒQTcpSocketï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯</title>
    <link href="http://yoursite.com/2019/12/30/TCP%E9%80%9A%E4%BF%A1%E4%B9%8BQTcpServer%E5%92%8CQTcpSocket%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E8%AE%AF/"/>
    <id>http://yoursite.com/2019/12/30/TCPé€šä¿¡ä¹‹QTcpServerå’ŒQTcpSocketï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯/</id>
    <published>2019-12-29T16:20:45.000Z</published>
    <updated>2019-12-29T16:20:48.715Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£<code>TCP</code>é€šä¿¡ä¹‹<code>QTcpServer</code>å’Œ<code>QTcpSocket</code>ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ <strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_232206_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103759735" target="_blank" rel="noopener">TCPé€šä¿¡ä¹‹QTcpServerå’ŒQTcpSocketï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯</a></p></blockquote><br><h2 id="ç›¸å…³åšæ–‡ï¼š"><a href="#ç›¸å…³åšæ–‡ï¼š" class="headerlink" title="ç›¸å…³åšæ–‡ï¼š"></a>ç›¸å…³åšæ–‡ï¼š</h2><p><strong>æœ‰ç€ä¸€äº›å…³è”çš„åšæ–‡å…¶ä»–å‚è€ƒï¼š</strong></p><ul><li><br></li></ul><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="Tcpé€šä¿¡æ¦‚è¿°ï¼š"><a href="#Tcpé€šä¿¡æ¦‚è¿°ï¼š" class="headerlink" title="Tcpé€šä¿¡æ¦‚è¿°ï¼š"></a>Tcpé€šä¿¡æ¦‚è¿°ï¼š</h2><p>æˆ‘æƒ³èƒ½å¤Ÿçœ‹åˆ°ç½‘ç»œè¿™ä¸€éƒ¨åˆ†çš„äººï¼ŒåŸºæœ¬éƒ½æ˜¯æœ‰ç€åŸºæœ¬çš„ç½‘ç»œè®¤çŸ¥ï¼›è¿™é‡Œä¸ºäº†è¿™ä¸€ä¸ªç³»åˆ—çš„å®Œæ•´æ€§ï¼Œè¿˜æ˜¯å†³å®šå°†æœ¬ç³»åˆ—çš„åŸºæœ¬çŸ¥è¯†ä»æ—§å†™å‡ºæ¥ã€‚ä¸‡ä¸€ä¹‹å‰çš„ä½ æ˜¯æ²¡æœ‰æ€ä¹ˆæ¥è§¦è¿‡è¿™ç±»ç¯‡æ–‡ç« çš„é¸­é¸­å‘¢ï¼Ÿå°±ç®—æ˜¯å®Œå…¨ä¸çŸ¥ï¼Œä½†æ˜¯ä¸€äº›åŸºç¡€çš„è¿˜æ˜¯èƒ½å¤Ÿè®©ä½ èƒ½å¤Ÿæœ‰æ‰€äº†è§£ï¼Œå†å…·ä½“çš„å°±è¿›è¡Œè‡ªè¡Œgooleå’Œä¸“ä¸šğŸ“šè¿›è¡Œæ‰©å±•æ·±å…¥æ‰©å±•å­¦ä¹ ï¼Œåšæ–‡å°½é‡éƒ½æä¸€ç¬”ï¼Œå…¶ä½™æ›´å¤šå¾…ä½ è‡ªè¡Œå‘æ˜ã€‚</p><p><strong>TCPç‰¹ç‚¹ï¼š</strong></p><p>å¯é ï¼Œé¢å‘æµä¼ æ’­ï¼Œé¢å‘åè®®çš„ä¸€ç§ä¼ è¾“åè®®ï¼›ç‰¹åˆ«é€‚åˆç”¨äºè¿ç»­æ•°æ®ä¼ è¾“ã€‚å®é™…ğŸŒ°ï¼šQQçš„åœ¨çº¿å‘é€æ–‡ä»¶ï¼Œå°±æ˜¯ä¸ºäº†ç¡®ä¿æ–‡ä»¶å‘é€çš„å®Œæ•´æ€§ï¼Œä½¿ç”¨çš„TCPåè®®ã€‚</p><br><h2 id="QTcpServerå±æ€§ï¼š"><a href="#QTcpServerå±æ€§ï¼š" class="headerlink" title="QTcpServerå±æ€§ï¼š"></a>QTcpServerå±æ€§ï¼š</h2><p>TCPé€šä¿¡ï¼Œå¿…é¡»å…ˆè¿›è¡ŒTCPè¿æ¥ï¼Œé€šä¿¡ç«¯å£åˆ†ä¸ºæœåŠ¡å™¨ç«¯å£å’Œå®¢æˆ·ç«¯ã€‚</p><p><code>QTcpServer</code>æ˜¯ä»<code>QObject</code>ç»§æ‰¿çš„ç±»ï¼Œä¸»è¦æ˜¯ç”¨äºæœåŠ¡å™¨å»ºç«‹ç½‘ç»œç›‘å¬ï¼Œåˆ›ç«‹<code>Socket</code>è¿æ¥çš„ï¼›å…¶ä¸­ä¸»è¦çš„ä¸€äº›å¸¸ç”¨æ¥å£ï¼Œæä¾›Â·å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ç±»å‹</th><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>å…¬å…±å‡½æ•°</td><td>void close()</td><td>å…³é—­æœåŠ¡å™¨ï¼Œåœæ­¢ç½‘ç»œç›‘å¬</td></tr><tr><td></td><td>bool listen()</td><td>åœ¨ç»™å®šIPåœ°å€å’Œç«¯å£ä¸Šå¼€å§‹ç›‘å¬ï¼Œè‹¥æ˜¯æˆåŠŸï¼Œå°±è¿”å›true</td></tr><tr><td></td><td>bool isListening()</td><td>è¿”å›trueè¡¨ç¤ºæœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€</td></tr><tr><td></td><td>QTcpSocket * nextPendingConnection()</td><td>è¿”å›ä¸‹ä¸€ä¸ªç­‰å¾…æ¥å…¥çš„è¿æ¥</td></tr><tr><td></td><td>QHostAddres serverAddress()</td><td>å¦‚æœæœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€ï¼Œè¿”å›æœåŠ¡å™¨åœ°å€</td></tr><tr><td></td><td>quint16 serverPort()</td><td>å¦‚æœæœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€ï¼Œè¿”å›æœåŠ¡å™¨ç«¯å£</td></tr><tr><td></td><td>bool waitForNewConnection()</td><td>ä»¥é˜»å¡æ–¹å¼ç­‰å¾…æ–°çš„è¿æ¥</td></tr><tr><td></td><td></td><td></td></tr><tr><td>ä¿¡å·</td><td>void acceptError( QAbstractSocket::SocketError socketError )</td><td>å½“æ¥å—ä¸€ä¸ªæ–°çš„è¿æ¥æ—¶å¤§å£°äº†é”™è¯¯ï¼Œå°±å‘å°„æ­¤ä¿¡å·ï¼›å‚æ•°socketErroræè¿°é”™è¯¯ä¿¡æ¯</td></tr><tr><td></td><td>void new Connection()</td><td>å½“æœ‰æ–°çš„ä¿¡å·è¿æ¥æ—¶å€™ï¼Œå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td></td><td></td></tr><tr><td>ä¿æŠ¤å‡½æ•°</td><td>void incomingConnection(qintptr socketDescriptor)</td><td>å½“æœ‰ä¸€ä¸ªæ–°çš„è¿æ¥å¯ç”¨æ—¶ï¼ŒQTcpServerå†…éƒ¨è°ƒç”¨æ­¤å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªQTcpSocketå¯¹è±¡ï¼Œæ·»åŠ åˆ°å†…éƒ¨å¯ç”¨æ–°è¿æ¥åˆ—è¡¨ï¼Œç„¶åå‘å°„newConnetion()ä¿¡å·ï¼Œç”¨æˆ·è‹¥æ˜¯ä»QTcpServerç»§æ‰¿å®šä¹‰ç±»ï¼Œå¯ä»¥é‡å®šä¹‰æ­¤å‡½æ•°ï¼Œä½†æ˜¯å¿…é¡»è°ƒç”¨QtcpSocketç»§æ‰¿å®šä¹‰ç±»ï¼Œå¯ä»¥é‡æ–°å®šä¹‰æ­¤å‡½æ•°ï¼Œä½†æ˜¯å¿…é¡»è°ƒç”¨addPendingConnetion()</td></tr><tr><td></td><td>void addPendingConnection(QTcp Socket *socket)</td><td>ç”±incomingtion()è°ƒç”¨ï¼Œå°†åˆ›å»ºçš„QTcpSocketæ·»åŠ åˆ°å†…éƒ¨æ–°å¯ç”¨è¿æ¥åˆ—è¡¨</td></tr></tbody></table><p>æœåŠ¡å™¨çš„ç¨‹åºé¦–å…ˆæ˜¯éœ€è¦è°ƒç”¨QTcpServerè¿›è¡Œç›‘å¬çš„ã€è¿™ä¸ªæ—¶å€™ï¼Œæ˜¯æŒ‡å®šç›‘å¬çš„IPå’Œportçš„ã€‘ï¼Œç„¶åå½“QScoketè¿æ¥çš„æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·ğŸ“¶ï¼Œ<code>newConnection()</code>ï¼Œåœ¨<code>newConnection()</code>çš„å¯¹åº”å¥½çš„æ§½å‡½æ•°ä¸­ï¼Œå¯ä»¥ç”¨nextPendingConnetion()æ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œç„¶åä½¿ç”¨QSocketä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ã€‚</p><h2 id="QTcp-QUdpç»§æ‰¿å…³ç³»å›¾ï¼š"><a href="#QTcp-QUdpç»§æ‰¿å…³ç³»å›¾ï¼š" class="headerlink" title="QTcp/QUdpç»§æ‰¿å…³ç³»å›¾ï¼š"></a>QTcp/QUdpç»§æ‰¿å…³ç³»å›¾ï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191229_181530_mark.png"/><br><h2 id="QAbstractSocketæ¥å£è®²è§£ï¼š"><a href="#QAbstractSocketæ¥å£è®²è§£ï¼š" class="headerlink" title="QAbstractSocketæ¥å£è®²è§£ï¼š"></a>QAbstractSocketæ¥å£è®²è§£ï¼š</h2><p><strong>å…¶ä¸­ä¸»è¦çš„<code>QAbstractSocket</code>çš„ä¸»è¦çš„æ¥å£å‡½æ•°å¦‚ä¸‹ï¼š</strong></p><table><thead><tr><th>ç±»å‹</th><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>å…¬å…±å‡½æ•°</td><td>void connectToHost(QHostAddress headdress, quint16 port,)</td><td>ä»¥å¼‚æ­¥çš„æ–¹å¼è¿æ¥åˆ°æŒ‡å®šçš„IPåœ°å€å’Œç«¯å£çš„TCPæœåŠ¡å™¨ï¼Œè¿æ¥æˆåŠŸä¼šå‘å°„connected()ä¿¡å·</td></tr><tr><td></td><td>void disconnectFromHost()</td><td>æ–­å¼€sokcetï¼Œå…³é—­æˆåŠŸåå‘å°„disconnection()ä¿¡å·</td></tr><tr><td></td><td>bool waitForConnected()</td><td>ç­‰å¾…ç›´åˆ°å»ºç«‹socketè¿æ¥</td></tr><tr><td></td><td>bool waitForDisconnected()</td><td>ç­‰å¾…ç›´åˆ°æ–­å¼€socketè¿æ¥</td></tr><tr><td></td><td>QHostAddress localAddress()</td><td>è¿”å›æœ¬socketçš„åœ°å€</td></tr><tr><td></td><td>quint16 localPort()</td><td>è¿”å›æœ¬socketçš„ç«¯å£</td></tr><tr><td></td><td>QHostAddress peerAddress()</td><td>åœ¨å·²ç»è¿æ¥çŠ¶æ€ä¸‹ï¼Œè¿”å›å¯¹æ–¹socketçš„åœ°å€</td></tr><tr><td></td><td>QString peerName()</td><td>è¿”å›connetToHost()è¿æ¥åˆ°å¯¹æ–¹çš„ä¸»æœºçš„å</td></tr><tr><td></td><td>quint16 peerPort()</td><td>åœ¨å·²è¿æ¥çš„çŠ¶æ€ä¸‹ï¼Œè¿”å›å¯¹æ–¹çš„socketçš„port</td></tr><tr><td></td><td>qint64 readBuffer Size()</td><td>è¿”å›å†…éƒ¨è¯»å–ç¼“å†²åŒºçš„å¤§å°çš„æ•°æ®çš„å­—èŠ‚æ•°ï¼›è¯¥å¤§å°å†³å®šäº†read()å’ŒreadAll()å‡½æ•°èƒ½å¤Ÿè¯»å–å‡ºæ¥çš„æ•°æ®çš„å¤§å°</td></tr><tr><td></td><td>void setReadBuAerSize(qint64 size)</td><td>æ•°æ®å†…éƒ¨è¯»å–ç¼“å†²åŒºçš„æ•°æ®çš„å­—èŠ‚æ•°</td></tr><tr><td></td><td>qint64 bytesAvailable()</td><td>è¿”å›éœ€è¦è¯»å–çš„ç¼“å†²åŒºçš„å­—èŠ‚æ•°å­—</td></tr><tr><td></td><td>bool canReadLine()</td><td>å¦‚æœæœ‰è¡Œæ•°æ®è¦ä»socketç¼“å†²åŒºè¯»å–ï¼Œå°±è¿”å›true</td></tr><tr><td></td><td>SocketState state()</td><td>è¿”å›å½“å‰socketçŠ¶æ€</td></tr><tr><td></td><td></td><td></td></tr><tr><td>ä¿¡å·ğŸ“¶</td><td>void connected()</td><td>connectionToHost()æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨åå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void disconnected()</td><td>å½“socketæ–­å¼€è¿æ¥æ—¶ï¼Œå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void error(QAbstractSocket::SocketError socketError)</td><td>å½“socketå‘ç”Ÿé”™è¯¯æ—¶ï¼Œå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void hostFound()</td><td>è°ƒç”¨connectToHost()æ‰¾åˆ°ä¸»æœºåå‘å°„æ­¤ä¿¡å·</td></tr><tr><td></td><td>void stateChanged(QAbstractSocket::SocketState socketState)</td><td>å½“socketçš„çŠ¶æ€å˜åŒ–æ—¶å€™å‘å°„æ­¤ä¿¡å·ï¼Œå‚æ•°socketStateè¡¨ç¤ºäº†socketå½“å‰çš„çŠ¶æ€</td></tr><tr><td></td><td>void ready Read()</td><td>å½“ç¼“å†²åŒºçš„æ•°æ®éœ€è¦è¯»å–æ—¶å€™ï¼Œå‘å°„æ­¤ä¿¡å·ï¼Œåœ¨æ­¤ä¿¡å·çš„æ§½å‡½æ•°é‡Œé¢è¯»å–ç¼“å†²åŒºçš„æ•°æ®</td></tr></tbody></table><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œå…ˆæ”¾ä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191216_232611.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>è¿™é‡Œå°†TCPé€šä¿¡çš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ‹†åˆ†ä¸ºä¸¤ä¸ªå°çš„é¡¹ç›®æ¥å†™ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_232719_mark.png" style="zoom:67%;" /><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹ï¼š</p><h3 id="å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š"><a href="#å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š" class="headerlink" title="å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š"></a>å…¶ä¸­æœåŠ¡å™¨ç«¯ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Copyright (C)  2019 ~ 2019 touwoyimuli.  All rights reserved.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Author:  touwoyimuli &lt;touwoyimuli@gmai.com&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * github:  https://github.com/touwoyimuli</span></span><br><span class="line"><span class="comment"> * blogs:   https://touwoyimuli.github.io/</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * This program is free software: you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment"> * it under the terms of the GNU General Public License as published by</span></span><br><span class="line"><span class="comment"> * the Free Software Foundation, either version 3 of the License, or</span></span><br><span class="line"><span class="comment"> * any later version.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * This program is distributed in the hope that it will be useful,</span></span><br><span class="line"><span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="comment"> * GNU General Public License for more details.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * You should have received a copy of the GNU General Public License</span></span><br><span class="line"><span class="comment"> * along with this program.  If not, see &lt;https://touwoyimuli.github.io/&gt;.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXTCPSERVER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXTCPSERVER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTcpServer&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTcpSocket&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QHostInfo&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExTcpServer</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExTcpServer</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExTcpServer</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExTcpServer();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function">QString <span class="title">getLocalIp</span><span class="params">()</span></span>;      <span class="comment">//è·å–æœ¬æœº IP</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">closeEvent</span><span class="params">(QCloseEvent* event)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line"><span class="comment">//UIçš„æ§½å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actStart_triggered</span><span class="params">()</span></span>;      <span class="comment">//å¼€å§‹ç›‘å¬</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actStop_triggered</span><span class="params">()</span></span>;       <span class="comment">//åœæ­¢ç›‘å¬</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actClear_triggered</span><span class="params">()</span></span>;      <span class="comment">//æ¸…é™¤æ–‡æœ¬æ¡†å†…å®¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actQuit_triggered</span><span class="params">()</span></span>;       <span class="comment">//é€€å‡ºç¨‹åº</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnSend_clicked</span><span class="params">()</span></span>;         <span class="comment">//å‘é€æ¶ˆæ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰çš„æ§½å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onSocketReadyRead</span><span class="params">()</span></span>;          <span class="comment">//è¯»å– socket ä¼ å…¥æ—¶å€™çš„æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onClientConnected</span><span class="params">()</span></span>;          <span class="comment">//client socket conneted</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onClientDisonnected</span><span class="params">()</span></span>;        <span class="comment">//client socket disconneted</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onNewConnection</span><span class="params">()</span></span>;            <span class="comment">//QTcpServer çš„ newConnect() ä¿¡å·</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onSocketStateChange</span><span class="params">(QAbstractSocket::SocketState socketState)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExTcpServer *ui;</span><br><span class="line"></span><br><span class="line">    QLabel* m_labListen;</span><br><span class="line">    QLabel* m_labSocket;</span><br><span class="line">    QTcpServer* m_tcpServer;</span><br><span class="line">    QTcpSocket* m_tcpSocket;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXTCPSERVER_H</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExTcpServer.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExTcpServer.h"</span></span></span><br><span class="line"></span><br><span class="line">ExTcpServer::ExTcpServer(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExTcpServer)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    m_labListen = <span class="keyword">new</span> QLabel(<span class="string">"ç›‘å¬çŠ¶æ€ï¼š"</span>);</span><br><span class="line">    m_labSocket = <span class="keyword">new</span> QLabel(<span class="string">"socketçŠ¶æ€ï¼š"</span>);</span><br><span class="line">    m_labListen-&gt;setMidLineWidth(<span class="number">200</span>);</span><br><span class="line">    m_labSocket-&gt;setMinimumWidth(<span class="number">200</span>);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labListen);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labSocket);</span><br><span class="line"></span><br><span class="line">    QString localeIp = getLocalIp();</span><br><span class="line">    setWindowTitle(windowTitle() + <span class="string">"---IPåœ°å€ï¼š"</span> + localeIp);</span><br><span class="line">    ui-&gt;comboBox-&gt;addItem(localeIp);</span><br><span class="line"></span><br><span class="line">    m_tcpServer = <span class="keyword">new</span> QTcpServer(<span class="keyword">this</span>);</span><br><span class="line">    connect(m_tcpServer, SIGNAL(newConnection()), <span class="keyword">this</span>, SLOT(onNewConnection()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExTcpServer::~ExTcpServer()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QString ExTcpServer::getLocalIp()</span><br><span class="line">&#123;</span><br><span class="line">    QString hostName = QHostInfo::localHostName();</span><br><span class="line">    QHostInfo hostInfo = QHostInfo::fromName(hostName);</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬æœºåç§°ï¼š"</span> + hostName);</span><br><span class="line">    QString locaIp;</span><br><span class="line"></span><br><span class="line">    QList&lt;QHostAddress&gt; <span class="built_in">list</span> = hostInfo.addresses();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">list</span>.empty())</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"null QString"</span>;</span><br><span class="line"></span><br><span class="line">    foreach (QHostAddress addr, <span class="built_in">list</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (addr.protocol() == QAbstractSocket::IPv4Protocol) &#123;</span><br><span class="line">            locaIp = addr.toString();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> locaIp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::closeEvent(QCloseEvent *event)   <span class="comment">//å…³é—­çª—å£æ—¶å€™åœæ­¢ç›‘å¬</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_tcpServer-&gt;isListening())</span><br><span class="line">        m_tcpServer-&gt;close();</span><br><span class="line"></span><br><span class="line">    event-&gt;accept();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::on_actStart_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QString Ip = ui-&gt;comboBox-&gt;currentText();</span><br><span class="line">    quint16 port = ui-&gt;spinBox-&gt;value();</span><br><span class="line"></span><br><span class="line">    <span class="function">QHostAddress <span class="title">addr</span><span class="params">(Ip)</span></span>;</span><br><span class="line">    m_tcpServer-&gt;listen(addr, port);  <span class="comment">//ç›‘å¬æŒ‡å®šçš„ IP å’ŒæŒ‡å®šçš„ port</span></span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœåŠ¡å™¨åœ°å€ä¸º:"</span> + m_tcpServer-&gt;serverAddress().toString() + <span class="string">"   æœåŠ¡å™¨ç«¯å£ï¼š"</span> + QString::number(m_tcpServer-&gt;serverPort()));</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"å¼€å§‹ç›‘å¬..."</span>);</span><br><span class="line"></span><br><span class="line">    ui-&gt;actStart-&gt;setEnabled(<span class="literal">false</span>);</span><br><span class="line">    ui-&gt;actStop-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    m_labListen-&gt;setText(<span class="string">"ç›‘å¬çŠ¶æ€ï¼šæ­£åœ¨ç›‘å¬..."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::on_actStop_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_tcpServer-&gt;isListening())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    m_tcpServer-&gt;close();  <span class="comment">//åœæ­¢ç›‘å¬</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;actStart-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actStop-&gt;setEnabled(<span class="literal">false</span>);</span><br><span class="line">    m_labListen-&gt;setText(<span class="string">"ç›‘å¬çŠ¶æ€ï¼šç›‘å¬å·²ç»åœæ­¢"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::on_actClear_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::on_actQuit_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::on_btnSend_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString msg = ui-&gt;lineEdit-&gt;text();</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"[æœåŠ¡å™¨:]"</span> + msg);</span><br><span class="line">    ui-&gt;lineEdit-&gt;clear();</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;hasFocus();</span><br><span class="line"></span><br><span class="line">    QByteArray str = msg.toUtf8();</span><br><span class="line">    str.append(<span class="string">'\n'</span>);</span><br><span class="line">    m_tcpSocket-&gt;write(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::onSocketReadyRead()     <span class="comment">//è¯»å–ç¼“å†²åŒºè¡Œæ–‡æœ¬</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (m_tcpSocket-&gt;canReadLine()) &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"[å®¢æˆ·ç«¯:]"</span> + m_tcpSocket-&gt;readLine());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::onClientConnected()    <span class="comment">//å®¢æˆ·ç«¯è¿æ¥æ—¶</span></span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"å®¢æˆ·ç«¯å¥—æ¥å­—è¿æ¥\nå¯¹ç­‰(peer)åœ°å€ï¼š"</span> + m_tcpSocket-&gt;peerAddress().toString()</span><br><span class="line">                                       + <span class="string">"    å¯¹ç­‰(peer)ç«¯å£ï¼š"</span> +  QString::number(m_tcpSocket-&gt;peerPort()));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::onClientDisonnected()  <span class="comment">//å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶</span></span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"å®¢æˆ·ç«¯å¥—æ¥å­—æ–­å¼€"</span>);</span><br><span class="line">    m_tcpSocket-&gt;deleteLater();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::onNewConnection()</span><br><span class="line">&#123;</span><br><span class="line">    m_tcpSocket = m_tcpServer-&gt;nextPendingConnection();   <span class="comment">//åˆ›å»º socket</span></span><br><span class="line"></span><br><span class="line">    connect(m_tcpSocket, SIGNAL(connected()), <span class="keyword">this</span>, SLOT(onClientConnected()));</span><br><span class="line">    connect(m_tcpSocket, SIGNAL(disconnected()), <span class="keyword">this</span>, SLOT(onClientDisonnected()));</span><br><span class="line">    connect(m_tcpSocket, SIGNAL(stateChanged(QAbstractSocket::SocketState)), <span class="keyword">this</span>, SLOT(onSocketStateChange(QAbstractSocket::SocketState)));</span><br><span class="line">    onSocketStateChange(m_tcpSocket-&gt;state());</span><br><span class="line">    connect(m_tcpSocket, SIGNAL(readyRead()), <span class="keyword">this</span>, SLOT(onSocketReadyRead()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpServer::onSocketStateChange(QAbstractSocket::SocketState socketState)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (socketState) &#123;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::UnconnectedState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šUnconnectedState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::HostLookupState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šHostLookupState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ConnectingState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šConnectingState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ConnectedState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šConnectedState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::BoundState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šBoundState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ClosingState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šClosingState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ListeningState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šListeningState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šå…¶ä»–æœªçŸ¥çŠ¶æ€..."</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…¶ä¸­å®¢æˆ·ç«¯ï¼š"><a href="#å…¶ä¸­å®¢æˆ·ç«¯ï¼š" class="headerlink" title="å…¶ä¸­å®¢æˆ·ç«¯ï¼š"></a>å…¶ä¸­å®¢æˆ·ç«¯ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXTCPCLIENT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXTCPCLIENT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTcpSocket&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QHostInfo&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExTcpClient</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExTcpClient</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExTcpClient</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExTcpClient();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function">QString <span class="title">getLocalIp</span><span class="params">()</span></span>;                  <span class="comment">//è·å–æœ¬æœ¬æœº IP</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">closeEvent</span><span class="params">(QCloseEvent *event)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="comment">//UI å®šä¹‰çš„æ§½å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actConnect_triggered</span><span class="params">()</span></span>;     <span class="comment">//è¯·æ±‚è¿æ¥åˆ°æœåŠ¡å™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actDisconnect_triggered</span><span class="params">()</span></span>;  <span class="comment">//æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actClear_triggered</span><span class="params">()</span></span>;       <span class="comment">//æ¸…é™¤å†…å®¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actQuit_triggered</span><span class="params">()</span></span>;        <span class="comment">//é€€å‡ºç¨‹åº</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnSend_clicked</span><span class="params">()</span></span>;          <span class="comment">//å‘é€æ–‡æœ¬æ¶ˆæ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰çš„æ§½å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onConnected</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onDisconnected</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onSocketReadyRead</span><span class="params">()</span></span>;           <span class="comment">//ä»socketè¯»å–ä¼ å…¥çš„æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onSocketStateChange</span><span class="params">(QAbstractSocket::SocketState socketState)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExTcpClient *ui;</span><br><span class="line"></span><br><span class="line">    QLabel* m_labSocket;</span><br><span class="line">    QTcpSocket* m_tcpSocket;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXTCPCLIENT_H</span></span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExTcpClient.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExTcpClient.h"</span></span></span><br><span class="line"></span><br><span class="line">ExTcpClient::ExTcpClient(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExTcpClient)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    m_labSocket = <span class="keyword">new</span> QLabel(<span class="string">"socketçŠ¶æ€ï¼š"</span>);</span><br><span class="line">    m_labSocket-&gt;setMidLineWidth(<span class="number">150</span>);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labSocket);</span><br><span class="line"></span><br><span class="line">    m_tcpSocket = <span class="keyword">new</span> QTcpSocket(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    QString localIp = getLocalIp();</span><br><span class="line">    <span class="keyword">this</span>-&gt;setWindowTitle(windowTitle() + <span class="string">"----æœ¬æœºIP:"</span> + localIp);</span><br><span class="line">    ui-&gt;comboBox-&gt;addItem(localIp);</span><br><span class="line"></span><br><span class="line">    connect(m_tcpSocket, SIGNAL(connected()), <span class="keyword">this</span>, SLOT(onConnected()));</span><br><span class="line">    connect(m_tcpSocket, SIGNAL(disconnected()), <span class="keyword">this</span>, SLOT(onDisconnected()));</span><br><span class="line">    connect(m_tcpSocket, SIGNAL(stateChanged(QAbstractSocket::SocketState)), <span class="keyword">this</span>, SLOT(onSocketStateChange(QAbstractSocket::SocketState)));</span><br><span class="line">    connect(m_tcpSocket, SIGNAL(readyRead()), <span class="keyword">this</span>, SLOT(onSocketReadyRead()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExTcpClient::~ExTcpClient()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QString ExTcpClient::getLocalIp()</span><br><span class="line">&#123;</span><br><span class="line">    QString hostName = QHostInfo::localHostName();</span><br><span class="line">    QHostInfo hostInfo = QHostInfo::fromName(hostName);</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬æœºåç§°ï¼š"</span> + hostName);</span><br><span class="line">    QString localIp;</span><br><span class="line"></span><br><span class="line">    foreach (QHostAddress addr, hostInfo.addresses()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (QAbstractSocket::IPv4Protocol == addr.protocol()) &#123;</span><br><span class="line">            localIp = addr.toString();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> localIp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::closeEvent(QCloseEvent *event)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_tcpSocket-&gt;state() == QAbstractSocket::ConnectedState)</span><br><span class="line">        m_tcpSocket-&gt;disconnectFromHost();</span><br><span class="line"></span><br><span class="line">    event-&gt;accept();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::onConnected()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨\nå®¢æˆ·ç«¯å¥—æ¥å­—è¿æ¥\nå¯¹ç­‰(peer)åœ°å€ï¼š"</span> + m_tcpSocket-&gt;peerAddress().toString()</span><br><span class="line">                                       + <span class="string">"    å¯¹ç­‰(peer)ç«¯å£ï¼š"</span> +  QString::number(m_tcpSocket-&gt;peerPort()));</span><br><span class="line">    ui-&gt;actConnect-&gt;setEnabled(<span class="literal">false</span>);</span><br><span class="line">    ui-&gt;actDisconnect-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::onDisconnected()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"å·²ç»æ–­å¼€ä¸æœåŠ¡å™¨çš„è¿æ¥\n"</span>);</span><br><span class="line">    ui-&gt;actConnect-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actDisconnect-&gt;setEnabled(<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::onSocketReadyRead()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (m_tcpSocket-&gt;canReadLine()) &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"[æœåŠ¡å™¨:]"</span> + m_tcpSocket-&gt;readLine());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::onSocketStateChange(QAbstractSocket::SocketState socketState)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (socketState) &#123;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::UnconnectedState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šUnconnectedState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::HostLookupState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šHostLookupState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ConnectingState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šConnectingState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ConnectedState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šConnectedState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::BoundState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šBoundState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ClosingState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šClosingState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::ListeningState:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šListeningState"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        m_labSocket-&gt;setText(<span class="string">"socketçŠ¶æ€ï¼šå…¶ä»–æœªçŸ¥çŠ¶æ€..."</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::on_actConnect_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QString addr = ui-&gt;comboBox-&gt;currentText();</span><br><span class="line">    quint16 port = ui-&gt;spinBox-&gt;value();</span><br><span class="line">    m_tcpSocket-&gt;connectToHost(addr, port);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::on_actDisconnect_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(m_tcpSocket-&gt;state() == QAbstractSocket::ConnectedState)</span><br><span class="line">        m_tcpSocket-&gt;disconnectFromHost();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::on_actClear_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::on_actQuit_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExTcpClient::on_btnSend_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString msg = ui-&gt;lineEdit-&gt;text();</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"[å®¢æˆ·ç«¯:]"</span> + msg);</span><br><span class="line">    ui-&gt;lineEdit-&gt;clear();</span><br><span class="line">    ui-&gt;lineEdit-&gt;setFocus();</span><br><span class="line"></span><br><span class="line">    QByteArray str = msg.toUtf8();</span><br><span class="line">    str.append(<span class="string">'\n'</span>);</span><br><span class="line">    m_tcpSocket-&gt;write(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtTcpExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  äº†è§£&lt;code&gt;TCP&lt;/code&gt;é€šä¿¡ä¹‹&lt;code&gt;QTcpServer&lt;/code&gt;å’Œ&lt;code&gt;QTcpSocket&lt;/code&gt;ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é€šè®¯ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ &lt;strong&gt;Qt&lt;/strong&gt;ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_232206_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>windows10ç¯å¢ƒä¸‹å®‰è£…QtCreator+VisualStudio2015ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</title>
    <link href="http://yoursite.com/2019/12/26/windows10%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85QtCreator+VisualStudio2015%E4%BD%9C%E4%B8%BAc++%E7%9A%84IDE%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    <id>http://yoursite.com/2019/12/26/windows10ç¯å¢ƒä¸‹å®‰è£…QtCreator+VisualStudio2015ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·/</id>
    <published>2019-12-26T13:36:55.000Z</published>
    <updated>2019-12-29T09:33:35.201Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  <code>windows</code>ç¯å¢ƒä¸‹å®‰è£…<code>Qt Creator</code> + <code>Visual Studio 2015</code>ä½œä¸º<code>c++</code>çš„<code>IDE</code>å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨<strong>qt</strong> (å¤‡é€‰)ï¼› <strong>æœ¬æ–‡è¯¦ç»†ä»‹ç»å®‰è£…VS2015çš„è¿‡ç¨‹å’Œå®‰è£…ç•ªèŒ„åŠ©æ‰‹Visual Assist Xï¼›ä»¥åŠå¦‚ä½•é…ç½®QtCreatorçš„ç¯å¢ƒå’Œæ’ä»¶</strong>ï¼Œä½¿å¾—å¯ä»¥åœ¨VS2015é‡Œé¢è¿è¡ŒQtçš„ç¨‹åºï¼Œä½¿ç”¨Qtè‡ªå¸¦çš„è®¾è®¡å¸ˆç­‰ã€‚</p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103755569" target="_blank" rel="noopener">windows10ç¯å¢ƒä¸‹å®‰è£…QtCreator+VisualStudio2015ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</a></p></blockquote><br><h2 id="ç›¸å…³åšæ–‡ï¼š"><a href="#ç›¸å…³åšæ–‡ï¼š" class="headerlink" title="ç›¸å…³åšæ–‡ï¼š"></a>ç›¸å…³åšæ–‡ï¼š</h2><p><strong>æœ‰ç€ä¸€äº›å…³è”çš„åšæ–‡å…¶ä»–å‚è€ƒï¼š</strong></p><ul><li><a href="https://blog.csdn.net/qq_33154343/article/details/103674579" target="_blank" rel="noopener">åœ¨win10ç¯å¢ƒä¸‹å®‰è£…QtCreator5.9.8ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</a></li></ul><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1903</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code>ï¼Œ <code>Visual Studio 2015(ä¸“ä¸šç‰ˆ)</code></p><br><h2 id="ä¸‹è½½å®‰è£…QtCreator"><a href="#ä¸‹è½½å®‰è£…QtCreator" class="headerlink" title="ä¸‹è½½å®‰è£…QtCreator:"></a>ä¸‹è½½å®‰è£…QtCreator:</h2><p>å‚è€ƒæœ¬ç¯‡è¯¦ç»†æ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/103674579" target="_blank" rel="noopener">åœ¨win10ç¯å¢ƒä¸‹å®‰è£…QtCreator5.9.8ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</a></p><br><h2 id="ä¸‹è½½Visual-Studio-2015ä¸“ä¸šç‰ˆï¼š"><a href="#ä¸‹è½½Visual-Studio-2015ä¸“ä¸šç‰ˆï¼š" class="headerlink" title="ä¸‹è½½Visual Studio 2015ä¸“ä¸šç‰ˆï¼š"></a>ä¸‹è½½Visual Studio 2015ä¸“ä¸šç‰ˆï¼š</h2><p>å®˜ç½‘çº¯å‡€ç‰ˆä¸‹è½½ï¼Œæ¨èåœ°å€ï¼š<a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener">https://msdn.itellyou.cn/</a></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223230926.png" alt=""></p><p>å…¶ä¸­è¯¦ç»†é“¾æ¥å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶åï¼š</span><br><span class="line">cn_visual_studio_professional_2015_with_update_3_x86_x64_dvd_8923256.iso</span><br><span class="line"></span><br><span class="line">æ ¡éªŒæ–‡ä»¶å®Œæ•´æ€§SHA1å€¼ï¼š</span><br><span class="line">99E6C061FFB3194D28682D75D5F2F0F12A8D614F</span><br><span class="line"></span><br><span class="line">æ–‡ä»¶å¤§å°ï¼š</span><br><span class="line">7.21GB</span><br><span class="line"></span><br><span class="line">å‘å¸ƒæ—¶é—´ï¼š</span><br><span class="line">2016-06-27</span><br><span class="line"></span><br><span class="line">ç£åŠ›é“¾æ¥ï¼š</span><br><span class="line">ed2k://|file|cn_visual_studio_professional_2015_with_update_3_x86_x64_dvd_8923256.iso|7745202176|DD35D3D169D553224BE5FB44E074ED5E|/</span><br></pre></td></tr></table></figure><br><h2 id="å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š"><a href="#å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š" class="headerlink" title="å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š"></a>å®‰è£…VS2015ä¸“ä¸šç‰ˆï¼š</h2><p><font color=#D0087E size=5 face="å¹¼åœ†"><strong>ä¸‹è½½å¥½å®Œæ•´çš„ç¦»çº¿å®‰è£…åŒ…ä¹‹åï¼Œå»ºè®®æ–­å¼€ç½‘ç»œè¿è¡Œå®‰è£…ç¨‹åº;é¿å…è”ç½‘ä¸‹è½½æ–°æ›´æ–°æ–‡ä»¶ï¼Œå¯¼è‡´å®‰è£…æ—¶é—´å˜å¾—æ›´é•¿ï¼›</strong> </font></p><p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒVS2015çš„è¿è¡Œç¨‹åºï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223232608.png" alt=""></p><ul><li>é€‰æ‹© <strong>è‡ªå®šä¹‰ï¼ˆå®‰è£…åŠŸèƒ½ï¼‰</strong>ï¼Œç„¶åç‚¹å‡» <strong>ä¸‹ä¸€æ­¥</strong>ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223233207.png" alt=""></p><ul><li>é€‰æ‹©æ‰€éœ€è¦çš„çš„æ¨¡å—ï¼ˆ<strong>Visual C++</strong> æ¨¡å—å…¨é€‰ï¼‰</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223233754.png" alt=""></p><ul><li>ç‚¹å‡» <strong>å®‰è£…</strong>ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223234550.png" alt=""></p><ul><li>è€å¿ƒç­‰å¾…ï¼Œä¸€èˆ¬å›ºæ€çº¦20minå·¦å³å³å¯å®‰è£…å®Œæˆï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223234705.png" alt=""></p><ul><li>å¯åŠ¨ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224001504.png" alt=""></p><br><h2 id="å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual-Assist-X-10-9-2248ï¼š"><a href="#å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual-Assist-X-10-9-2248ï¼š" class="headerlink" title="å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual Assist X 10.9.2248ï¼š"></a>å®‰è£…VSå°ç•ªèŒ„åŠ©æ‰‹Visual Assist X 10.9.2248ï¼š</h2><p>ç•ªèŒ„å°åŠ©æ‰‹ï¼Œæ­é…VSä½¿ç”¨ï¼Œä½¿ç”¨èµ·æ¥ï¼Œä¸ä»…ä¼šæ¸¯å‰§ç¼–ç æ•ˆç‡æœ‰æ‰€æé«˜ï¼Œæ•ˆç‡å˜å¿«ï¼Œä¸”ä¼šæ„Ÿè§‰å¯¿å‘½éƒ½åœ¨å¢åŠ ï¼›</p><p> <strong>åˆ†äº«ä¸€ä¸ªç ´è§£ç‰ˆæœ¬ï¼šé“¾æ¥: <a href="https://pan.baidu.com/s/1ZHKufAQ6IzbdIcUT-7k5kg" target="_blank" rel="noopener">https://pan.baidu.com/s/1ZHKufAQ6IzbdIcUT-7k5kg</a> æå–ç : h4c2</strong></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224002041.png" alt=""></p><p><strong>æ­£å¸¸å®‰è£…å’Œç ´è§£æ–¹æ³•ï¼š</strong></p><ul><li><p><strong>ç¬¬ä¸€æ­¥ï¼šå®‰è£…2248ç‰ˆæœ¬</strong><br>ï¼ˆ1ï¼‰è§£å‹ç¼©ã€‚å…±æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼ˆ <strong>VA_X_Setup_10-9-2248.exe</strong> å’Œ  <strong>readMe.txt</strong>ï¼‰å’Œä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆCrackï¼‰ã€‚<br>ï¼ˆ2ï¼‰å…³é—­VSæ‰€æœ‰æ‰“å¼€ç•Œé¢ã€‚<br>ï¼ˆ3ï¼‰åŒå‡» <strong>VA_X_Setup_10-9-2248.exe</strong>å®‰è£…Visual Assist 2248ç‰ˆæœ¬ã€‚</p></li><li><p><strong>ç¬¬äºŒæ­¥ï¼šç ´è§£</strong><br>ï¼ˆ1ï¼‰æ‰“å¼€Cç›˜ã€‚åœ°å€æ ä¸­è¾“å…¥ï¼š<code>C:\Users\</code>ç”¨æˆ·åï¼Œå¦‚æœæ²¡çœ‹åˆ°<code>AppData</code>ç›®å½•ï¼Œç›´æ¥åœ¨åœ°å€æ ä¸­è¾“å…¥<code>\AppData</code>å†å›è½¦ç¡®è®¤è¿›å…¥è¯¥ç›®å½•ã€‚<br>ï¼ˆ2ï¼‰å¯»æ‰¾ç›®æ ‡ä½ç½®ã€‚æ‰“å¼€<code>Local\Microsoft\VisualStudio\15.0_281df2b7\Extensions\</code>ä¸€ä¸ªç›®å½•ã€‚<br>æ³¨æ„ï¼š<br>1.æœ¬åœ°å®‰è£…çš„VSç‰ˆæœ¬ä¸º2017ï¼Œæ‰€ä»¥æœ¬åœ°çš„æ–‡ä»¶å¤¹åç§°ä¸º15.0_281df2b7ã€‚è‹¥æ˜¯VSå…¶ä»–ç‰ˆæœ¬å¯èƒ½ä¼šæœ‰å·®å¼‚ã€‚<br>2.â€œä¸€ä¸ªç›®å½•â€ä¸ºå®‰è£…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåç§°éšæœºã€‚<br>3.å› ä¸ºâ€œä¸€ä¸ªç›®å½•â€çš„åç§°ä¸å›ºå®šï¼Œå»ºè®®åˆ°Extensionç›®å½•ä¸‹æ—¶ï¼Œæœç´¢åç§°ä¸º <strong>â€œVA_X.dllâ€</strong>çš„æ–‡ä»¶ï¼Œç„¶åç¡®å®šç›®æ ‡ä½ç½®ã€‚<br>ï¼ˆ3ï¼‰é‡å‘½åã€‚æ‰¾åˆ° <strong>â€œVA_X.dllâ€</strong>æ–‡ä»¶åï¼Œä¸è¦éšä¾¿åˆ é™¤ã€‚é‡å‘½åä¸º<code>VA_X_old.dll</code>ä½œä¸ºå¤‡ä»½ï¼ˆps:é¿å…ä»¥ä¸‹æ­¥éª¤4ä¹‹åå¯¼è‡´VSæ‰“ä¸å¼€çš„å°´å°¬å±€é¢ï¼ï¼‰<br>ï¼ˆ4ï¼‰æ›¿æ¢ã€‚æ‹·è´Crackæ–‡ä»¶å¤¹ä¸­çš„ <strong>VA_X.dll</strong>åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­ã€‚</p></li></ul><p><strong>æ³¨æ„ï¼šæ¯”è¾ƒæ‡’æˆ–è€…å®åœ¨æ‰¾ä¸åˆ°ç›®æ ‡ä½ç½®ï¼Œè¯·å‚è€ƒä»¥ä¸‹é€šç”¨æ–¹æ³•ï¼š</strong><br>ï¼ˆ1ï¼‰ä¸‹è½½Everything.exeï¼Œä¸€è·¯ä¸‹ä¸€æ­¥å®‰è£…å®Œã€‚<br>ï¼ˆ2ï¼‰åœ¨æœç´¢æ¡†ä¸­è¾“å…¥VA_X.dllï¼Œå›è½¦ã€‚<br>ï¼ˆ3ï¼‰ç”¨è§£å‹æ–‡ä»¶å¤¹Crackä¸­çš„VA_X.dllæ›¿æ¢æ‰æœç´¢å‡ºæ¥çš„VA_X.dllã€‚ï¼ˆä¸€èˆ¬è¿™é‡Œä¼šæœ‰ä¸¤ä¸ªVA_X.dllï¼Œé€šè¿‡çœ‹è·¯å¾„åˆ¤æ–­å“ªä¸ªæ˜¯ç ´è§£ç‰ˆï¼Œå“ªä¸ªæ˜¯å®‰è£…çš„åŸç‰ˆï¼‰ </p><ul><li><strong>ç¬¬ä¸‰æ­¥ï¼šé‡å¯VS</strong></li></ul><br><h2 id="å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š"><a href="#å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š" class="headerlink" title="å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š"></a>å®‰è£…â€œVS-Qtæ’ä»¶â€ï¼š</h2><p>æ‰“å¼€VS2015ï¼Œé€‰ä¸­ <strong>â€œå·¥å…·-æ‰©å±•å’Œæ›´æ–°â€</strong>ï¼Œï¼ˆæ­¤æ—¶ä¿è¯ç”µè„‘å¤„äºè”ç½‘çŠ¶æ€ï¼‰</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224002217.png" alt=""></p><ul><li>åœ¨æœç´¢æ é‡Œé¢è¾“å…¥â€œqtâ€ï¼Œç„¶åé€‰ä¸­å¦‚ä¸‹å›¾è¿™ä¸ªï¼Œç‚¹å‡»ä¸‹è½½å’Œå®‰è£…ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224002912.png" alt=""></p><ul><li>ç‚¹å‡»é…ç½®ï¼Œæ·»åŠ ç”Ÿæˆçš„Qtçš„æ–‡ä»¶å¤¹ç›®å½•ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004107.png" alt=""></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004155.png" alt=""></p><br><h2 id="éªŒè¯å®‰è£…æˆåŠŸï¼š"><a href="#éªŒè¯å®‰è£…æˆåŠŸï¼š" class="headerlink" title="éªŒè¯å®‰è£…æˆåŠŸï¼š"></a>éªŒè¯å®‰è£…æˆåŠŸï¼š</h2><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004530.png" alt=""></p><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼ŒæŒ‰ç…§å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ–¹å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Qtçš„å·¥ç¨‹é¡¹ç›®ï¼ˆåé¢ä¼šå•ç‹¬å†™ä¸€ç¯‡ï¼Œä»‹ç»QtCraetorå’Œä½¿ç”¨VS2015åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå’Œè§£ææ·±ç©¶è¿™äº›IDEé‡Œé¢å¸¸ç”¨çš„åŠŸèƒ½å’ŒåŒºåˆ†æ¨¡å—ç­‰ï¼‰ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004609.png" alt=""></p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191224004728.png" alt=""></p><ul><li>è¿è¡ŒæˆåŠŸï¼š</li></ul><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191226203330.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  &lt;code&gt;windows&lt;/code&gt;ç¯å¢ƒä¸‹å®‰è£…&lt;code&gt;Qt Creator&lt;/code&gt; + &lt;code&gt;Visual Studio 2015&lt;/code&gt;ä½œä¸º&lt;code&gt;c++&lt;/code&gt;çš„&lt;code&gt;IDE&lt;/code&gt;å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨&lt;strong&gt;qt&lt;/strong&gt; (å¤‡é€‰)ï¼› &lt;strong&gt;æœ¬æ–‡è¯¦ç»†ä»‹ç»å®‰è£…VS2015çš„è¿‡ç¨‹å’Œå®‰è£…ç•ªèŒ„åŠ©æ‰‹Visual Assist Xï¼›ä»¥åŠå¦‚ä½•é…ç½®QtCreatorçš„ç¯å¢ƒå’Œæ’ä»¶&lt;/strong&gt;ï¼Œä½¿å¾—å¯ä»¥åœ¨VS2015é‡Œé¢è¿è¡ŒQtçš„ç¨‹åºï¼Œä½¿ç”¨Qtè‡ªå¸¦çš„è®¾è®¡å¸ˆç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>ä¸»æœºä¿¡æ¯æŸ¥è¯¢QHostInfoå’ŒQNetworkInterfaceæŸ¥è¯¢IPç­‰</title>
    <link href="http://yoursite.com/2019/12/25/%E4%B8%BB%E6%9C%BA%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2QHostInfo%E5%92%8CQNetworkInterface%E6%9F%A5%E8%AF%A2IP%E7%AD%89/"/>
    <id>http://yoursite.com/2019/12/25/ä¸»æœºä¿¡æ¯æŸ¥è¯¢QHostInfoå’ŒQNetworkInterfaceæŸ¥è¯¢IPç­‰/</id>
    <published>2019-12-25T13:52:42.000Z</published>
    <updated>2019-12-25T15:00:26.015Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£ä¸»æœºä¿¡æ¯æŸ¥è¯¢<code>QHostInfo</code>å’Œ<code>QNetworkInterface</code>æŸ¥è¯¢IPç­‰å‡½æ•°æ¥å£çš„ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ <strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_214953_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103707035" target="_blank" rel="noopener">ä¸»æœºä¿¡æ¯æŸ¥è¯¢QHostInfoå’ŒQNetworkInterfaceæŸ¥è¯¢IPç­‰</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š"><a href="#ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š" class="headerlink" title="ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š"></a>ç½‘ç»œç›¸å…³çŸ¥è¯†ï¼š</h2><p>ç»ˆäºè®²è§£åˆ°äº†æˆ‘ä¹‹å‰å°±å¿ƒå¿ƒæ‹æ‹çš„ç½‘ç»œæ¨¡å—çš„çŸ¥è¯†äº†ï¼Œæœ‰å‡ ä¸ªç‚¹ä¸€ç›´æ˜¯å¾ˆæƒ³æ¶‰åŠçš„çŸ¥è¯†æ¨¡å—ğŸ‘ğŸ‘ğŸ‘ï¼›ä¸€ä¸ªæ˜¯ç½‘ç»œï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯å¤šçº¿ç¨‹çš„ç›¸å…³çŸ¥è¯†ï¼›æŸ‘æ©˜ğŸŠç°åœ¨å¾ˆå¤šç”µè„‘ğŸ’»çš„åº”ç”¨ç¨‹åºéƒ½ä¼šä½¿ç”¨åˆ°è¿™ä¸¤ä¸ªéƒ¨åˆ†çš„çŸ¥è¯†æ¨¡å—ï¼Œå†â•ä¸€ä¸ªæ•°æ®åº“ğŸ“šå°±æ˜¯==Appï¼Ÿ  æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘è€…ï¼Œå¯ä»¥å†™ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„exeæˆ–è€…appï¼Œæ…¢æ…¢æ‰“ç£¨ï¼›äººç”Ÿæ˜“çŸ­ï¼Œåšè‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼ŒğŸ’°ä¸ï¿¥$$ğŸ’°çš„éƒ½æ˜¯æ— æ‰€è°“çš„ã€‚è°éƒ½æœ‰ç¦»å¼€çš„ä¸€å¤©ï¼Œdieæ˜¯ä¸å¯é¿å…çš„ï¼Œå¯æˆ‘ä»¬å¦‚ä½•è¯æ˜è‡ªå·±æ¥è¿™è¿™é‡Œç©è¿‡å‡ åè½½å‘¢ï¼Ÿæ€»çš„ç•™ä¸‹ä¸€äº›ä»€ä¹ˆçš„ç—•è¿¹å§~</p><p><strong>æˆ–è®¸æœé—»é“ï¼Œå¤•æ­»å¯çŸ£~       ???</strong></p><p>æ¥è‡ªä¸€ä¸ª<code>12-25</code>ğŸ„ğŸ„ğŸ„ğŸ„ï¼šå¤œé—´æ²¡äººçº¦ä¼šçš„+ä¸Šç­çš„å­¤ç‹¬ç‹— âœ ğŸ¶ğŸ‘¨ çš„ä¸€ç¯‡åšå®¢ğŸ“</p><p>æœ‰ç‚¹è·‘åäº†ï¼š</p><p>ç½‘ç»œæ¨¡å—çš„ç›¸å…³çŸ¥è¯†ï¼Œä¸»è¦å°±æ˜¯ä¸ƒå±‚åè®®åŸç† å’Œå®ƒä»¬è¡ç”Ÿå‡ºæ¥çš„ç½‘ç»œåè®®ï¼Œæœ‰Nå¤šç§ï¼Œå…¶ä¸­ç»è¿‡æ—¶é—´çš„æ£€éªŒå’Œç­›é€‰ï¼Œç°åœ¨å¸¸ç”¨çš„å°±æ˜¯<code>TCP/IP</code>åè®®æ—ï¼Œå±•å¼€å°±æ˜¯TCPï¼ŒUDPï¼ŒHTTPï¼ŒHTTPSï¼Œftpï¼Œsocketç­‰ç­‰</p><h3 id="ç½‘ç»œç›¸å…³ï¼š"><a href="#ç½‘ç»œç›¸å…³ï¼š" class="headerlink" title="ç½‘ç»œç›¸å…³ï¼š"></a>ç½‘ç»œç›¸å…³ï¼š</h3><p>å»ºè®®å¼€å§‹ä¹‹å‰ï¼Œå…ˆé—®é—®è‡ªå·±å¦‚ä¸‹é—®é¢˜ï¼Œè‡ªå·±èƒ½å¤ŸåŒºåˆ†æ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Œè‡ªå·±æ‡‚äº†å—â“â“â“</p><ul><li>macåœ°å€</li><li>IPåœ°å€</li><li>portç«¯å£</li><li>ä¸»æœºå</li><li>å­ç½‘æ©ç ï¼ŒA/B/C/Då››ç±»åœ°å€</li><li>æ•°æ®åŒ…ï¼Ÿ æŠ¥æ–‡ï¼Ÿè‡ªå®šä¹‰åè®®ï¼Ÿ</li><li>é€šä¿¡åè®®æœ‰å“ªäº›ï¼Ÿ</li><li>ä¸‰æ¬¡æ¡æ‰‹ğŸ¤ï¼Œå››æ¬¡æŒ¥æ‰‹ğŸ‘‹ï¼Ÿ</li><li>TCP/UDP/HttpåŒºåˆ«</li><li>æ•°æ®åŒ…ç»è¿‡è·¯ç”±å™¨å¦‚ä½•è½¬åˆ°ä¸‹ä¸€å°è®¾å¤‡ï¼Ÿ</li><li>ä¸€æ¬¾ç¨‹åºæ˜¯æ€ä¹ˆåœ¨å±€åŸŸç½‘ä¹‹é—´é€šä¿¡çš„ï¼Ÿ</li><li>ä¸€æ¬¾ç¨‹åºæ˜¯æ€ä¹ˆåœ¨äº’è”ç½‘ä¹‹é—´é€šä¿¡çš„ï¼Ÿ</li></ul><p>å…³äºç½‘ç»œæ›´åº•å±‚çš„åè®®å’Œå®ç°çš„åŸç†çš„ç›¸å…³å­¦ä¹ çŸ¥è¯†ï¼Œå¯ä»¥å¤šçœ‹çœ‹ğŸ‘€ä¸‹é¢è¿™ä¸¤ä¸ªè§†é¢‘é“¾æ¥ï¼Œæˆ‘å°±æ˜¯ä¹‹å‰å­¦ä¹ çš„æ­¤moocç½‘ç»œè¯¾ï¼Œè§‰å¾—è®²è§£çš„å¾ˆæ£’ï¼Œæ•…æ­¤å£å£ç›¸ä¼ çš„æ¨èå‡ºæ¥ï¼š</p><ul><li><p><strong>åå—ç†å·¥å¤§å­¦ è®¡ç®—æœºç½‘ç»œ MOOC</strong> </p><p>  <a href="https://www.bilibili.com/video/av40766904" target="_blank" rel="noopener">https://www.bilibili.com/video/av40766904</a></p></li><li><p>*<em>å·ç”µå­ç§‘æŠ€å¤§å­¦ è®¡ç®—æœºç½‘ç»œè‡ªå­¦ç¬”è®° MOOC  *</em><a href="https://www.bilibili.com/video/av40761275" target="_blank" rel="noopener">https://www.bilibili.com/video/av40761275</a> </p></li></ul><br><h2 id="QHostInfoå±æ€§ï¼š"><a href="#QHostInfoå±æ€§ï¼š" class="headerlink" title="QHostInfoå±æ€§ï¼š"></a>QHostInfoå±æ€§ï¼š</h2><p>å¾—ç›Šäº<code>Qt</code>å¼ºå¤§çš„å°è£…åº“ï¼Œä¸Šé¢çš„å¾ˆå¤šç»†èŠ‚éƒ½ä¸ç”¨æ·±ç©¶ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸¤ä¸ªå¯¹è±¡ï¼Œç„¶åè°ƒç”¨ä»–ä»¬çš„å‡½æ•°ï¼Œå°±å¯ä»¥è·å¾—ä»–ä»¬çš„ç½‘ç»œç›¸å…³çš„ä¿¡æ¯ï¼›</p><p><code>QHostInfo</code>ç±»å¯ä»¥é€šè¿‡é™æ€å‡½æ•°localHostName()è·å– <strong>æœ¬æœºçš„ä¸»æœºå</strong> å†é€šè¿‡fromName()å‡½æ•°å¯ä»¥è·å–åˆ° <strong>IPåœ°å€</strong>ï¼Œè€ŒlookupHost()åˆ™æ˜¯é€šè¿‡å¼‚æ­¥æ–¹å¼æŸ¥è¯¢åˆ°è¿™ä¸ªä¸»æœºçš„IPåœ°å€ã€‚</p><table><thead><tr><th align="center">ç±»åˆ«</th><th align="left">å‡½æ•°åŸå‹</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">QList<QHostAddress> addresses()</td><td align="left">è¿”å›ä¸hostName()å…³è”çš„IPåœ°å€åˆ—è¡¨</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">HostInfoError error()</td><td align="left">å¦‚æœä¸»æœºæŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›å¤±è´¥ç±»å‹</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">QString errorString()</td><td align="left">å¦‚æœä¸»æœºæŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›é”™è¯¯æè¿°å­—ç¬¦ä¸²</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">QString hostName()</td><td align="left">è¿”å›é€šè¿‡IPæŸ¥æ‰¾çš„ä¸»æœºåç§°</td></tr><tr><td align="center">å…¬å…±å‡½æ•°</td><td align="left">int lookupld()</td><td align="left">è¿”å›æœ¬æ¬¡æŸ¥æ‰¾çš„id</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">void abortHostLookup(int id)</td><td align="left">ä¸­æ–­ä¸»æœºæŸ¥æ‰¾</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">QHostInfo fromName(QString &amp;name)</td><td align="left">è¿”å›æŒ‡å®šä¸»æœºåIPçš„åœ°å€</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">QString localDomainName()</td><td align="left">è¿”å›æœ¬æœºDNSåŸŸå</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">QString localHostName()</td><td align="left">è¿”å›æœ¬æœºä¸»æœºå</td></tr><tr><td align="center">é™æ€å‡½æ•°</td><td align="left">int lookupHost(QString byname, QObject *receiver, char *member)</td><td align="left">ä»¥å¼‚æ­¥æ–¹å¼æ ¹æ®ä¸»æœºåæŸ¥æ‰¾ä¸»æœºçš„IPåœ°å€ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºæœ¬æ¬¡æŸ¥æ‰¾çš„IDï¼Œå¯ç”¨äºabortHostLookup()</td></tr></tbody></table><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//QHostInfo è·å–ä¸»æœºä¿¡æ¯</span></span><br><span class="line">    QString hostName = QHostInfo::localHostName();</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬åœ°ä¸»æœºåç§°:"</span> + hostName + <span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    QHostInfo hostInfo = QHostInfo::fromName(hostName);</span><br><span class="line">    QList&lt;QHostAddress&gt; <span class="built_in">list</span> = hostInfo.addresses();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">list</span>.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    foreach (QHostAddress var, <span class="built_in">list</span>) &#123;</span><br><span class="line">        <span class="keyword">bool</span> bIPv4 = ui-&gt;checkBox-&gt;isChecked();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIPv4) &#123;   <span class="comment">//åªæ˜¾ç¤º IPv4</span></span><br><span class="line">            bIPv4 = QAbstractSocket::IPv4Protocol == var.protocol();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            bIPv4 = <span class="literal">true</span>;   <span class="comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIPv4) &#123;</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"åè®®ï¼š"</span> + protocolName(var.protocol()));</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬æœºIPåœ°å€"</span> + var.toString() + <span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><br><h2 id="QNetworkInterfaceå±æ€§ï¼š"><a href="#QNetworkInterfaceå±æ€§ï¼š" class="headerlink" title="QNetworkInterfaceå±æ€§ï¼š"></a>QNetworkInterfaceå±æ€§ï¼š</h2><p><code>QNetworkInterface</code>ç±»æ˜¯å¯ä»¥è·å¾—åº”ç”¨ç¨‹åºçš„ä¸»æœºçš„æ‰€æœ‰IPåœ°å€å’Œç½‘ç»œåœ°å€æ¥å£çš„åˆ—è¡¨ã€‚é™æ€å‡½æ•°allInterfaces()è¿”å›ä¸»æœºä¸Šæ‰€æœ‰ç½‘ç»œæ¥å£çš„åˆ—è¡¨ï¼Œä¸€ä¸ªç½‘ç»œæ¥å£å¯èƒ½åŒ…å«å¤šä¸ªIPåœ°å€ï¼Œæ¯ä¸ªIPåœ°å€ä¸åœ°å€æ©ç æˆ–å¹¿æ’­åœ°å€çš„å…³è”ï¼›å½“ç„¶ä¹Ÿæœ‰ä¸€ä¸ªç®€ç‰ˆçš„è·å–å‡½æ•°allAddresses()å¯ä»¥è·å–åˆ°ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›å­ç½‘æ©ç å’Œå¹¿æ’­çš„IPåœ°å€ã€‚</p><table><thead><tr><th>ç±»åˆ«</th><th>å‡½æ•°åŸå‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>å…¬å…±å‡½æ•°</td><td>QList<QNetworkAddress Entry> addressEntries()</td><td>è¿”å›è¯¥ç½‘ç»œæ¥å£ï¼ˆåŒ…å«å­ç½‘æ©ç +å¹¿æ’­åœ°å€ï¼‰çš„IPåœ°å€åˆ—è¡¨</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>QString hardwareAddress()</td><td>è¿”å›è¯¥æ¥å£çš„ä½çº§ç¡¬ä»¶åœ°å€ï¼Œä»¥å¤ªç½‘é‡Œå°±æ˜¯MACåœ°å€</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>QString humanReadableName()</td><td>è¿”å›å¯ä»¥è¯»æ‡‚çš„æ¥å£åç§°æ²¡å¦‚æœåç§°ä¸ç¡®å®šï¼Œå¾—åˆ°çš„å°±æ˜¯name()çš„è¿”å›å€¼</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>bool isValid()</td><td>å¦‚æœæ¥å£ä¿¡æ¯æœ‰æ•ˆå°±è¿”å›true</td></tr><tr><td>å…¬å…±å‡½æ•°</td><td>QString name()</td><td>è¿”å›ä¸»æœºä¸Šæ‰€æœ‰IPåœ°å€çš„åˆ—è¡¨</td></tr><tr><td>é™æ€å‡½æ•°</td><td>QList<QHostAddress> allAddresses()</td><td>è¿”å›ä¸»æœºä¸Šé¢çš„æ‰€æœ‰IPåœ°å€çš„åˆ—è¡¨</td></tr><tr><td>é™æ€å‡½æ•°</td><td>QList<QNetworklnterface> allInterfaces()</td><td>è¿”å›ä¸»æœºä¸Šé¢çš„æ‰€æœ‰æ¥å£çš„ç½‘ç»œåˆ—è¡¨</td></tr></tbody></table><br><h2 id="QAbstractSocketå±æ€§ï¼š"><a href="#QAbstractSocketå±æ€§ï¼š" class="headerlink" title="QAbstractSocketå±æ€§ï¼š"></a>QAbstractSocketå±æ€§ï¼š</h2><p><strong>QAbstractSocket::NetworkLayerProtocol æšä¸¾</strong>:</p><p>è¯¥æšä¸¾æè¿°äº†Qtä¸­ä½¿ç”¨çš„ç½‘ç»œå±‚åè®®å€¼ã€‚</p><table><thead><tr><th>Constant</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>QAbstractSocket::IPv4Protocol</td><td>0</td><td>IPv4</td></tr><tr><td>QAbstractSocket::IPv6Protocol</td><td>1</td><td>IPv6</td></tr><tr><td>QAbstractSocket::AnyIPProtocol</td><td>2</td><td>Either IPv4 or IPv6</td></tr><tr><td>QAbstractSocket::UnknownNetworkLayerProtocol</td><td>-1</td><td>Other than IPv4 and IPv6</td></tr></tbody></table><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œä¸Šä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p> <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191216_201205_GIF.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹</p><p><strong>å…¶ä¸­.hå¤´æ–‡ä»¶å¦‚ä¸‹ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXQHOSTINFO_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXQHOSTINFO_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QAbstractSocket&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QHostInfo</span>;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQHostInfo</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQHostInfo</span> :</span> <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExQHostInfo</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExQHostInfo();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function">QString <span class="title">protocolName</span><span class="params">(QAbstractSocket::NetworkLayerProtocol protocol)</span></span>;  <span class="comment">//é€šè¿‡åè®®ç±»å‹è¿”å›åè®®åç§°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnGetHostInfo_clicked</span><span class="params">()</span></span>;    <span class="comment">//QHostInfoæŸ¥è¯¢ä¸»æœºåå’ŒIP</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAllAddresses_clicked</span><span class="params">()</span></span>;   <span class="comment">//QNetworkInterface::allAddresses()</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAllInterfaces_clicked</span><span class="params">()</span></span>;  <span class="comment">//QNetworkInterface::allInterfaces()</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnFindIP_clicked</span><span class="params">()</span></span>;         <span class="comment">//QHostInfoæŸ¥è¯¢å·¦ä¾§åŸŸåIPåœ°å€</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnClean_clicked</span><span class="params">()</span></span>;          <span class="comment">//æ¸…ç©ºæ–‡æœ¬æ¡†ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onLookedUpHostInfo</span><span class="params">(<span class="keyword">const</span> QHostInfo&amp; host)</span></span>;  <span class="comment">//æŸ¥è¯¢ä¸»æœºä¿¡æ¯çš„æ§½å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExQHostInfo *ui;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXQHOSTINFO_H</span></span></span><br></pre></td></tr></table></figure><p><strong>å…¶ä¸­.cppæºæ–‡ä»¶å¦‚ä¸‹ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExQHostInfo.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExQHostInfo.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QHostInfo&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QNetworkInterface&gt;</span></span></span><br><span class="line"></span><br><span class="line">ExQHostInfo::ExQHostInfo(QWidget *parent) :</span><br><span class="line">    QWidget(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExQHostInfo)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    setWindowTitle(<span class="string">"QHostInfo/QNetworkInterfaceæŸ¥è¯¢ä¸»æœºç½‘ç»œçŠ¶æ€ï¼š"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExQHostInfo::~ExQHostInfo()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡åè®®ç±»å‹è¿”å›åè®®åç§°</span></span><br><span class="line">QString ExQHostInfo::protocolName(QAbstractSocket::NetworkLayerProtocol protocol)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">switch</span> (protocol) &#123;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::IPv4Protocol:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"IPv4 Protocol"</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::IPv6Protocol:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"IPv6 Protocol"</span>;</span><br><span class="line">    <span class="keyword">case</span> QAbstractSocket::AnyIPProtocol:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Any IP Protocol"</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Unknow Network Layer Protocol"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//QHostInfo è·å–ä¸»æœºä¿¡æ¯</span></span><br><span class="line"><span class="keyword">void</span> ExQHostInfo::on_btnGetHostInfo_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString hostName = QHostInfo::localHostName();</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬åœ°ä¸»æœºåç§°:"</span> + hostName + <span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    QHostInfo hostInfo = QHostInfo::fromName(hostName);</span><br><span class="line">    QList&lt;QHostAddress&gt; <span class="built_in">list</span> = hostInfo.addresses();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">list</span>.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    foreach (QHostAddress var, <span class="built_in">list</span>) &#123;</span><br><span class="line">        <span class="keyword">bool</span> bIPv4 = ui-&gt;checkBox-&gt;isChecked();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIPv4) &#123;   <span class="comment">//åªæ˜¾ç¤º IPv4</span></span><br><span class="line">            bIPv4 = QAbstractSocket::IPv4Protocol == var.protocol();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            bIPv4 = <span class="literal">true</span>;   <span class="comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIPv4) &#123;</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"åè®®ï¼š"</span> + protocolName(var.protocol()));</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬æœºIPåœ°å€"</span> + var.toString() + <span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExQHostInfo::on_btnAllAddresses_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QList&lt;QHostAddress&gt; <span class="built_in">list</span> = QNetworkInterface::allAddresses();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">list</span>.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    foreach (QHostAddress var, <span class="built_in">list</span>) &#123;</span><br><span class="line">        <span class="keyword">bool</span> bIPv4 = ui-&gt;checkBox-&gt;isChecked();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIPv4) &#123;   <span class="comment">//åªæ˜¾ç¤º IPv4</span></span><br><span class="line">            bIPv4 = QAbstractSocket::IPv4Protocol == var.protocol();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            bIPv4 = <span class="literal">true</span>;   <span class="comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIPv4) &#123;</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"åè®®ï¼š"</span> + protocolName(var.protocol()));</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æœ¬æœºIPåœ°å€"</span> + var.toString() + <span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExQHostInfo::on_btnAllInterfaces_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QList&lt;QNetworkInterface&gt; <span class="built_in">list</span> = QNetworkInterface::allInterfaces();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">list</span>.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    foreach (QNetworkInterface var, <span class="built_in">list</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!var.isValid())</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"è®¾å¤‡åç§°ï¼š"</span> + var.humanReadableName());</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"ç¡¬ä»¶åœ°å€ï¼š"</span> + var.hardwareAddress());</span><br><span class="line"></span><br><span class="line">        QList&lt;QNetworkAddressEntry&gt; entry = var.addressEntries();</span><br><span class="line">        foreach (QNetworkAddressEntry ent, entry) &#123;</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"  IP åœ°å€ï¼š"</span> + ent.ip().toString());</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"  å­ç½‘æ©ç ï¼š"</span> + ent.netmask().toString());</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"  å­ç½‘å¹¿æ’­ï¼š"</span> + ent.broadcast().toString() + <span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExQHostInfo::on_btnFindIP_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString hostName = ui-&gt;lineEdit-&gt;text();  <span class="comment">//åŸŸå</span></span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æ­£åœ¨æŸ¥æ‰¾åŸŸåçš„æœåŠ¡å™¨çš„ä¸»æœºä¿¡æ¯ï¼š"</span> + hostName);</span><br><span class="line">    QHostInfo::lookupHost(hostName, <span class="keyword">this</span>, SLOT(onLookedUpHostInfo(QHostInfo)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExQHostInfo::on_btnClean_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥è¯¢ä¸»æœºä¿¡æ¯çš„æ§½å‡½æ•°</span></span><br><span class="line"><span class="keyword">void</span> ExQHostInfo::onLookedUpHostInfo(<span class="keyword">const</span> QHostInfo &amp;host)</span><br><span class="line">&#123;</span><br><span class="line">    QList&lt;QHostAddress&gt; <span class="built_in">list</span> = host.addresses();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">list</span>.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.count(); i++) &#123;</span><br><span class="line">        QHostAddress host = <span class="built_in">list</span>.at(i);</span><br><span class="line">        <span class="keyword">bool</span> bIpv4 = ui-&gt;checkBox-&gt;isChecked();  <span class="comment">//åªæ˜¾ç¤ºIPv4</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIpv4) &#123;   <span class="comment">//åªæ˜¾ç¤º IPv4</span></span><br><span class="line">            bIpv4 = QAbstractSocket::IPv4Protocol == host.protocol();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            bIpv4 = <span class="literal">true</span>;   <span class="comment">//æ˜¾ç¤º IPv4 å’Œ IPv6</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bIpv4) &#123;</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"åè®®ï¼š"</span> + protocolName(host.protocol()));</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(host.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtQHostInfoExã€‘</p><p>&lt;</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  äº†è§£ä¸»æœºä¿¡æ¯æŸ¥è¯¢&lt;code&gt;QHostInfo&lt;/code&gt;å’Œ&lt;code&gt;QNetworkInterface&lt;/code&gt;æŸ¥è¯¢IPç­‰å‡½æ•°æ¥å£çš„ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„ &lt;strong&gt;Qt&lt;/strong&gt;ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191225_214953_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>åœ¨win10ç¯å¢ƒä¸‹å®‰è£…QtCreator5.9.8ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</title>
    <link href="http://yoursite.com/2019/12/23/windows10%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85Qt%20Creator5.9.8%E4%BD%9C%E4%B8%BAc++%E7%9A%84IDE%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%92%8C%E4%BD%BF%E7%94%A8qt/"/>
    <id>http://yoursite.com/2019/12/23/windows10ç¯å¢ƒä¸‹å®‰è£…Qt Creator5.9.8ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨qt/</id>
    <published>2019-12-23T12:58:41.000Z</published>
    <updated>2019-12-23T14:28:27.625Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> åœ¨ <code>windows10</code>ç¯å¢ƒä¸‹å®‰è£…<code>Qt Creator5.9.8</code>ä½œä¸º<code>c++</code>çš„ <strong>IDE</strong>å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨ <strong>qtæ¡†æ¶å­¦ä¹ </strong></p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103674579" target="_blank" rel="noopener">åœ¨win10ç¯å¢ƒä¸‹å®‰è£…QtCreator5.9.8ä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1903</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="ä¸‹è½½QtCreatorï¼š"><a href="#ä¸‹è½½QtCreatorï¼š" class="headerlink" title="ä¸‹è½½QtCreatorï¼š"></a>ä¸‹è½½QtCreatorï¼š</h2><p><strong>qtå®˜ç½‘ä¸‹è½½åœ°å€ï¼š</strong> <a href="https://download.qt.io/archive/qt/" target="_blank" rel="noopener">https://download.qt.io/archive/qt/</a></p><p>æ¨èä¸‹è½½â¬‡ï¸çš„ç‰ˆæœ¬ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223210408.png" style="zoom:80%;" /><br><h2 id="å®‰è£…QtCreatorï¼š"><a href="#å®‰è£…QtCreatorï¼š" class="headerlink" title="å®‰è£…QtCreatorï¼š"></a>å®‰è£…QtCreatorï¼š</h2><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼ˆNextï¼‰ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223210928.png" style="zoom:80%;" /><ul><li>ç‚¹å‡»è·³è¿‡ï¼ˆSKipï¼‰ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223211028.png" style="zoom:80%;" /><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223211130.png" style="zoom:80%;" /><ul><li>å®‰è£…å°±é€‰æ‹©é»˜è®¤ä½ç½®ï¼Œä¸å»ºè®®æ›´æ¢å…¶å®ƒç›˜ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223211201.png" style="zoom:80%;" /><ul><li>é€‰ä¸­æ‰€éœ€è¦çš„æ¨¡å—ï¼Œå‹¾é€‰å³å¯ï¼Œå¦‚ä¸‹æ˜¯æˆ‘çš„ä¸ªäººå®‰è£…ç›®å½•å’Œæ‰€éœ€è¦çš„æ¨¡å—ï¼›ä»¥åŠè§£é‡Šæ¯ä¸€ä¸ªæ¨¡å—çš„å«ä¹‰</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223212933.png" style="zoom:80%;" /><ul><li>é€‰ä¸­åŒæ„åè®®ï¼Œç„¶åç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213305.png" style="zoom:80%;" /><ul><li>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213240.png" style="zoom:80%;" /><ul><li>ç‚¹å‡»å®‰è£…ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213339.png" style="zoom:80%;" /><ul><li>è€å¿ƒç­‰å¾…å®‰è£…å®Œæˆï¼Œçº¦10åˆ†é’Ÿå³å¯å®‰è£…å®Œæˆï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213412.png" style="zoom:80%;" /><ul><li>ç‚¹å‡»å®Œæˆï¼Œåˆ°æ­¤ï¼Œè¯¥è½¯ä»¶æˆåŠŸå®‰è£…å®Œæˆï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213527.png" style="zoom: 80%;" /><h2 id="éªŒè¯å®‰è£…æˆåŠŸï¼š"><a href="#éªŒè¯å®‰è£…æˆåŠŸï¼š" class="headerlink" title="éªŒè¯å®‰è£…æˆåŠŸï¼š"></a>éªŒè¯å®‰è£…æˆåŠŸï¼š</h2><p>æ‰“å¼€<code>Qt Creator 4.8.2 (Enterprise)</code>å›¾æ ‡ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223213821.png" alt=""></p><p>ç„¶åç‚¹æ–°å»ºä¸€ä¸ªç©ºçš„é¡¹ç›®å·¥ç¨‹ï¼Œ</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223221307.png" alt=""></p><p>ç„¶åè¿è¡Œï¼ˆé‚£ä¸ªæ’­æ”¾æŒ‰é’®ï¼‰ï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œå³è¡¨ç¤ºå®‰è£…æˆåŠŸï¼Œå¯ä»¥å¼€å§‹æ–°çš„ç¼–ç ä¹‹æ—…ï¼š</p><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191223221201.png" alt=""></p><h2 id="æ¨èå…³é—­æ’ä»¶ï¼š"><a href="#æ¨èå…³é—­æ’ä»¶ï¼š" class="headerlink" title="æ¨èå…³é—­æ’ä»¶ï¼š"></a>æ¨èå…³é—­æ’ä»¶ï¼š</h2><p>è¿™é‡Œæ¨èå…³é—­å³ä¾§çš„æ ‡çº¢æé†’ï¼Œè¯¦ç»†å‚è€ƒæ­¤åšæ–‡ï¼š<a href="https://blog.csdn.net/qq_33154343/article/details/102943623" target="_blank" rel="noopener">Qt Creator å…³é—­.cppæ–‡ä»¶å³ä¾§çš„é»„è‰²è­¦å‘Š</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt; åœ¨ &lt;code&gt;windows10&lt;/code&gt;ç¯å¢ƒä¸‹å®‰è£…&lt;code&gt;Qt Creator5.9.8&lt;/code&gt;ä½œä¸º&lt;code&gt;c++&lt;/code&gt;çš„ &lt;strong&gt;IDE&lt;/strong&gt;å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨ &lt;strong&gt;qtæ¡†æ¶å­¦ä¹ &lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)çš„å®ç°ï¼ŒQMdiAreaä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/12/20/%E5%A4%9A%E6%96%87%E6%A1%A3%E7%95%8C%E9%9D%A2MDI(Multi-document%20Interface)%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8CQMdiArea%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/12/20/å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)çš„å®ç°ï¼ŒQMdiAreaä½¿ç”¨/</id>
    <published>2019-12-19T16:01:20.000Z</published>
    <updated>2019-12-19T16:01:22.664Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£ <strong>å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)</strong>çš„å®ç°ï¼Œ<code>QMdiArea</code>ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„<strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191218_220755_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103625380" target="_blank" rel="noopener">å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)çš„å®ç°ï¼ŒQMdiAreaä½¿ç”¨</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="MDI-Multi-document-Interface-æ§ä»¶ï¼š"><a href="#MDI-Multi-document-Interface-æ§ä»¶ï¼š" class="headerlink" title="MDI(Multi-document Interface)æ§ä»¶ï¼š"></a>MDI(Multi-document Interface)æ§ä»¶ï¼š</h2><p><code>MDI(Multi-document Interface)</code>æ˜¯ä¼ ç»Ÿçš„å¤šæ–‡æ¡£ç•Œé¢åº”ç”¨ç¨‹åºï¼Œè€ŒQtä¸ºæ­¤æä¾›äº†æ”¯æŒï¼›ä»–ä»¬å¯ä»¥å…±äº«ä¸€ä¸ªä¸»çª—å£ï¼Œä»¥åŠèœå•æ ï¼Œå·¥å…·æ ç­‰ã€‚è€Œ <strong>è®¾è®¡ä¸€ä¸ªMDIçš„åº”ç”¨ç¨‹åºå°±æ˜¯éœ€è¦åœ¨ä¸»çª—å£çš„å·¥ä½œå»æ”¾ä¸€ä¸ªQMdiAreaæ§ä»¶ä½œä¸ºå­çª—å£çš„å®¹å™¨ã€‚</strong></p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™é‡Œæ”¾ä¸‹ä¸€å¼ è¿è¡Œçš„å›¾ç‰‡</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-12-18%2022.19.10.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>ä¸¤ä¸ªå¤´æ–‡ä»¶çš„ç±»å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">lass ExMDI : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExMDI</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExMDI();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">loadFromFile</span><span class="params">(QString&amp; fileName)</span></span>;  <span class="comment">//æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    <span class="function">QString <span class="title">currentFileName</span><span class="params">()</span></span>;             <span class="comment">//è¿”å›å½“å‰æ–‡ä»¶å</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isFileOpended</span><span class="params">()</span></span>;                  <span class="comment">//æ–‡ä»¶å·²ç»æ‰“å¼€</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setEditFont</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">textCut</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">textCopy</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">textPaste</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExMDI *ui;</span><br><span class="line"></span><br><span class="line">    QString m_currentFile;  <span class="comment">//å½“å‰æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">bool</span>    m_fileOpened;   <span class="comment">//true æ‰“å¼€ï¼›false æœªæ‰“å¼€</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lass ExMainWindow : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExMainWindow</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExMainWindow();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actOpen_triggered</span><span class="params">()</span></span>;   <span class="comment">//æ‰“å¼€æ–‡æ¡£</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actQuit_triggered</span><span class="params">()</span></span>;   <span class="comment">//é€€å‡ºç¨‹åº</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actNew_triggered</span><span class="params">()</span></span>;    <span class="comment">//æ–°å»ºMDIçš„å­çª—å£</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actFont_triggered</span><span class="params">()</span></span>;   <span class="comment">//è®¾ç½®å­—ä½“</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actCut_triggered</span><span class="params">()</span></span>;    <span class="comment">//å‰ªåˆ‡æ–‡æœ¬</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actCopy_triggered</span><span class="params">()</span></span>;   <span class="comment">//å¤åˆ¶æ–‡æœ¬</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actPaste_triggered</span><span class="params">()</span></span>;  <span class="comment">//ç²˜è´´æ–‡æœ¬</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actView_triggered</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;  <span class="comment">//MDIæ˜¾ç¤ºï¼š Table å’Œ å­çª—å£é¡µé¢æ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actCascade_triggered</span><span class="params">()</span></span>;<span class="comment">//çº§è”æ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actTile_triggered</span><span class="params">()</span></span>;   <span class="comment">//å¹³é“ºæ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actClose_triggered</span><span class="params">()</span></span>;  <span class="comment">//å…³é—­æ‰€æœ‰å­çª—å£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">closeEvent</span><span class="params">(QCloseEvent *e)</span></span>;   <span class="comment">//ä¸»çª—å£å…³é—­æ—¶å…³é—­æ‰€æœ‰å­çª—å£</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExMainWindow *ui;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…¶å¯¹åº”çš„æºæ–‡ä»¶ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExMDI.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExMDI.h"</span></span></span><br><span class="line"></span><br><span class="line">ExMDI::ExMDI(QWidget *parent) :</span><br><span class="line">    QWidget(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExMDI)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    setWindowTitle(<span class="string">"å¤šæ–‡æ¡£ç•Œé¢MDI (Multi-dociment Interface) çš„ä»‹ç»å’Œä½¿ç”¨"</span>);</span><br><span class="line">    setAttribute(Qt::WA_DeleteOnClose);  <span class="comment">//æ— è®ºæ˜¯å¦è®¾ç½®å…³é—­æ—¶å€™åˆ é™¤ï¼›åœ¨MDIä¸­å…³é—­ä¸€ä¸ªMDIå­çª—å£éƒ½ä¼šåˆ é™¤å­çª—å£å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;setWindowIcon(QIcon(<span class="string">"/Users/yuanyi/picture/å‘å¸ƒã€å¤´åƒã€æµ‹è¯•å›¾ç‰‡/icon.png"</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExMDI::~ExMDI()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">void</span> ExMDI::loadFromFile(QString &amp;fileName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;  <span class="comment">//æ–‡ä»¶ä»¥è¯»çš„æ–¹å¼è¯»å‡º</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (file.open(QIODevice::ReadOnly | QIODevice::Text)) &#123;</span><br><span class="line">        <span class="function">QTextStream <span class="title">stream</span><span class="params">(&amp;file)</span></span>;  <span class="comment">//ä»¥æ–‡æœ¬æµæ–¹å¼è¯»å–æ–‡ä»¶</span></span><br><span class="line">        ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;setPlainText(stream.readAll());</span><br><span class="line">        file.close();</span><br><span class="line"></span><br><span class="line">        m_currentFile = fileName;</span><br><span class="line">        <span class="function">QFileInfo <span class="title">fileInfo</span><span class="params">(fileName)</span></span>;    <span class="comment">//æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">        setWindowTitle(fileInfo.fileName());</span><br><span class="line">        m_fileOpened = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QString ExMDI::currentFileName()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> m_currentFile;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> ExMDI::isFileOpended()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> m_fileOpened;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMDI::setEditFont()</span><br><span class="line">&#123;</span><br><span class="line">    QFont font = ui-&gt;plainTextEdit-&gt;font();</span><br><span class="line">    <span class="keyword">bool</span> ok;</span><br><span class="line">    font = QFontDialog::getFont(&amp;ok, font);</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;setFont(font);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMDI::textCut()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;cut();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMDI::textCopy()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;copy();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMDI::textPaste()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;paste();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExMainWindow.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExMainWindow.h"</span></span></span><br><span class="line"></span><br><span class="line">ExMainWindow::ExMainWindow(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExMainWindow)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setCentralWidget(ui-&gt;mdiArea);</span><br><span class="line">    setWindowState(Qt::WindowMaximized);</span><br><span class="line">    ui-&gt;toolBar-&gt;setToolButtonStyle(Qt::ToolButtonTextUnderIcon);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExMainWindow::~ExMainWindow()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::closeEvent(QCloseEvent *e)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;mdiArea-&gt;closeAllSubWindows();  <span class="comment">//å…³é—­æ‰€æœ‰å­çª—å£</span></span><br><span class="line">    e-&gt;accept();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actOpen_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">bool</span> needNew = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    ExMDI *mdi = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ui-&gt;mdiArea-&gt;subWindowList().count() &gt; <span class="number">0</span>) &#123;  <span class="comment">//å¦‚æœæœ‰æ‰“å¼€çš„ä¸»çª—å£ï¼Œè·å–æ´»åŠ¨çª—å£</span></span><br><span class="line">        mdi =  (ExMDI *)ui-&gt;mdiArea-&gt;activeSubWindow()-&gt;widget();</span><br><span class="line">        needNew = mdi-&gt;isFileOpended();   <span class="comment">//æ–‡ä»¶å·²ç»æ‰“å¼€ï¼Œéœ€è¦æ–°å»ºçª—å£</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        needNew = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QString curPath = QDir::currentPath();</span><br><span class="line">    QString fileName = QFileDialog::getOpenFileName(<span class="keyword">this</span>, <span class="string">"æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶"</span>, curPath, <span class="string">"Cç¨‹åºæ–‡ä»¶(*.h *cpp);;æ–‡æœ¬æ–‡ä»¶(*.txt);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (fileName.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (needNew) &#123;</span><br><span class="line">        mdi = <span class="keyword">new</span> ExMDI(<span class="keyword">this</span>);</span><br><span class="line">        ui-&gt;mdiArea-&gt;addSubWindow(mdi);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mdi-&gt;loadFromFile(fileName);</span><br><span class="line">    mdi-&gt;show();</span><br><span class="line"></span><br><span class="line">    ui-&gt;actCopy-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actCut-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actPaste-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actFont-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actQuit_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actNew_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ExMDI *mdi = <span class="keyword">new</span> ExMDI(<span class="keyword">this</span>);</span><br><span class="line">    ui-&gt;mdiArea-&gt;addSubWindow(mdi);   <span class="comment">//æ·»åŠ ä¸€ä¸ªå­çª—å£MDI</span></span><br><span class="line">    mdi-&gt;show();</span><br><span class="line"></span><br><span class="line">    ui-&gt;actCopy-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actCut-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actPaste-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actFont-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actFont_triggered()</span><br><span class="line">&#123;</span><br><span class="line">     ExMDI* mdi = (ExMDI *)ui-&gt;mdiArea-&gt;activeSubWindow()-&gt;widget();</span><br><span class="line">     mdi-&gt;setEditFont();  <span class="comment">//è®¾ç½®ç¼–å†™çš„å­—ä½“æ–‡æ¡£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actCut_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ExMDI* mdi = (ExMDI *)ui-&gt;mdiArea-&gt;activeSubWindow()-&gt;widget();</span><br><span class="line">    mdi-&gt;textCut();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actCopy_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ExMDI* mdi = (ExMDI *)ui-&gt;mdiArea-&gt;activeSubWindow()-&gt;widget();</span><br><span class="line">    mdi-&gt;textCopy();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actPaste_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ExMDI* mdi = (ExMDI *)ui-&gt;mdiArea-&gt;activeSubWindow()-&gt;widget();</span><br><span class="line">    mdi-&gt;textPaste();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actView_triggered(<span class="keyword">bool</span> checked)   <span class="comment">//MDI æ¨¡å¼è®¾ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (checked) &#123;  <span class="comment">//Tabå¤šé¡µæ˜¾ç¤ºæ¨¡å¼</span></span><br><span class="line">        ui-&gt;mdiArea-&gt;setViewMode(QMdiArea::TabbedView);</span><br><span class="line">        ui-&gt;mdiArea-&gt;setTabsClosable(<span class="literal">true</span>);  <span class="comment">//é¡µé¢å¯ä»¥å…³é—­</span></span><br><span class="line">        ui-&gt;actCascade-&gt;setEnabled(<span class="literal">false</span>);</span><br><span class="line">        ui-&gt;actTile-&gt;setEnabled(<span class="literal">false</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ui-&gt;mdiArea-&gt;setViewMode(QMdiArea::SubWindowView);  <span class="comment">//å­çª—å£æ¨¡å¼</span></span><br><span class="line">        ui-&gt;actCascade-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">        ui-&gt;actTile-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actCascade_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;mdiArea-&gt;cascadeSubWindows();   <span class="comment">//çª—å£çº§è”å±•å¼€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actTile_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;mdiArea-&gt;tileSubWindows();  <span class="comment">//å¹³é“ºå±•å¼€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExMainWindow::on_actClose_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;mdiArea-&gt;closeAllSubWindows();  <span class="comment">//å…³é—­å…¨éƒ¨å­çª—å£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtMDIExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  äº†è§£ &lt;strong&gt;å¤šæ–‡æ¡£ç•Œé¢MDI(Multi-document Interface)&lt;/strong&gt;çš„å®ç°ï¼Œ&lt;code&gt;QMdiArea&lt;/code&gt;ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„&lt;strong&gt;Qt&lt;/strong&gt;ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191218_220755_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>è‡ªå®šä¹‰å’Œæ ‡å‡†å¯¹è¯æ¡†çš„ç”¨æ³•</title>
    <link href="http://yoursite.com/2019/12/19/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%92%8C%E6%A0%87%E5%87%86%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <id>http://yoursite.com/2019/12/19/è‡ªå®šä¹‰å’Œæ ‡å‡†å¯¹è¯æ¡†çš„ç”¨æ³•/</id>
    <published>2019-12-18T16:11:09.000Z</published>
    <updated>2019-12-18T16:12:14.470Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£è‡ªå®šä¹‰é£æ ¼æ§ä»¶æ ·å¼ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„<strong>Qt</strong>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚ä¸”ä¸»è¦æ˜¯è®²è§£ä¸€äº›æ¨¡æ€å’Œç»™éæ¨¡æ€çš„çŸ¥è¯†è®²è§£ï¼Œæœ¬ç¯‡æ¯”è¾ƒæ¨èç›´æ¥çœ‹æœ¬ä¾‹åªæœ‰çŸ¥è¯†è¡Œçš„æºç ï¼Œä¼šæ›´åŠ ç®€æ´å’Œæ¸…æ™°ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191216_201058_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103606981" target="_blank" rel="noopener">è‡ªå®šä¹‰å’Œæ ‡å‡†å¯¹è¯æ¡†çš„ç”¨æ³•</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="æ¨¡æ€-éæ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#æ¨¡æ€-éæ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ¨¡æ€/éæ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>æ¨¡æ€/éæ¨¡æ€å¯¹è¯æ¡†ï¼š</h2><h3 id="æ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#æ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>æ¨¡æ€å¯¹è¯æ¡†ï¼š</h3><p>å¿…é¡»å…³é—­æ­¤å¯¹è¯æ¡†æ‰å¯ä»¥è¿”å›ä¸»çª—å£æ“ä½œï¼›</p><p>ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.exec()</span><br></pre></td></tr></table></figure><h3 id="éæ¨¡æ€å¯¹è¯æ¡†ï¼š"><a href="#éæ¨¡æ€å¯¹è¯æ¡†ï¼š" class="headerlink" title="éæ¨¡æ€å¯¹è¯æ¡†ï¼š"></a>éæ¨¡æ€å¯¹è¯æ¡†ï¼š</h3><p>å…³é—­ï¼ˆå•æœºå…³é—­æŒ‰é’®æˆ–è€…å…³é—­å¯¹è¯æ¡†ï¼‰ååªæ˜¯éšè—ï¼ˆç¼ºçœçš„ï¼‰ï¼Œå¹¶ä¸ç®—åˆ é™¤å¯¹è±¡ï¼ˆå¹¶æ²¡æœ‰ä»å†…å­˜ä¸­åˆ é™¤ï¼‰ï¼Œä¸‹è½½å†è°ƒç”¨æ—¶å€™ï¼Œåªæ˜¯æ‰“å¼€å·²ç»åˆ›å»ºçš„å¯¹è¯æ¡†å¯¹è±¡ã€‚ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.show()</span><br></pre></td></tr></table></figure><br><h2 id="çª—å£ä¸­çš„äº‹ä»¶ï¼š"><a href="#çª—å£ä¸­çš„äº‹ä»¶ï¼š" class="headerlink" title="çª—å£ä¸­çš„äº‹ä»¶ï¼š"></a>çª—å£ä¸­çš„äº‹ä»¶ï¼š</h2><p><font color=#FE7207 size=4 face="å¹¼åœ†"> <strong>åœ¨å¯¹è¯æ¡†å’Œä¸»çª—å£ä¹‹é—´äº’ç›¸æ“ä½œçš„å…³é”®æ˜¯è¦æœ‰å¯¹æ–¹çš„æŒ‡é’ˆï¼Œæ–¹æ‰èƒ½å¤Ÿä¼ é€’å‚æ•°å…µå¹¶ä¸”è°ƒç”¨å¯¹æ–¹å‡½æ•°ã€‚</strong> </font></p><p>äº‹ä»¶(event)æ˜¯ç”±çª—å£ç³»ç»Ÿäº§ç”Ÿçš„ç”±æŸäº›è§¦å‘çš„ç‰¹æ®Šå‡½æ•°ï¼Œä¾‹å¦‚é¼ æ ‡æ“ä½œï¼Œé”®ç›˜æ“ä½œçš„ä¸€äº›äº‹ä»¶ï¼Œè¿˜æ¯”å¦‚è¯´æœ‰çª—å£çš„æ˜¾ç¤ºï¼Œå…³é—­ï¼Œç»˜ç”»ç­‰ç›¸å…³äº‹ä»¶ã€‚ä»QWidgetç»§æ‰¿çš„çª—å£éƒ¨ä»¶å¸¸ç”¨çš„æ—¶é—´å‡½æ•°æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><ul><li><strong>closeEventï¼ˆï¼‰</strong>                      çª—å£å…³é—­æ—¶å€™è§¦å‘çš„äº‹ä»¶ï¼›æ­¤æ—¶å¯ä»¥åŠ å…¥æ“ä½œï¼šè¯¢é—®æ˜¯å¦å…³é—­çª—å£</li><li><strong>ShowEventï¼ˆï¼‰</strong>                     çª—å£æ˜¾ç¤ºçš„æ—¶å€™è§¦å‘çš„äº‹ä»¶</li><li><strong>paintEvent ï¼ˆï¼‰</strong>                    çª—å£ç»˜ç”»çš„äº‹ä»¶ï¼Œ</li><li><strong>mouseMoveEventï¼ˆï¼‰</strong>        é¼ æ ‡ç§»åŠ¨äº‹ä»¶</li><li><strong>mousePressEventï¼ˆï¼‰</strong>        é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</li><li><strong>mouseReleaseEventï¼ˆï¼‰</strong>    é¼ æ ‡é‡Šæ”¾äº‹ä»¶</li><li><strong>keyPressEventï¼ˆï¼‰</strong>              é”®ç›˜æŒ‰ä¸‹äº‹ä»¶</li><li><strong>keyReleaseEventï¼ˆï¼‰</strong>          é”®ç›˜é‡Šæ”¾äº‹ä»¶</li></ul><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191216_201205.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å› ä¸ºå…¶ä¸­ä½¿ç”¨åˆ°äº†ä¸Šé¢çš„æ¨¡æ€å’Œéæ¨¡æ€çŸ¥è¯†ï¼Œä»¥åŠçª—å£ä¹‹ä¸­çš„ä¸€äº›äº‹ä»¶æ¶ˆæ¯ï¼ŒåŠ ä¸Šè¿™ä¸ªä¾‹å­ä¸€çœ‹ä»£ç å°±æ˜ç™½äº†ï¼Œæ¯”æˆ‘å•ç‹¬è¯è´¹ç¬”å¢¨æ¥å†™ä»‹ç»ï¼Œæœ‰ç‚¹åºŸè¯çš„æ„Ÿè§‰ï¼Œæ‰€ä»¥ï¼Œæœ¬ç¯‡æ›´åŠ æ¨èå¤§å®¶ç›´æ¥çœ‹æºç å³å¯ã€‚</p><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191216_203214_mark.png"/><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">lass ExCustomMainWin : <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExCustomMainWin</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExCustomMainWin();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setACellText</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, QString text)</span></span>;   <span class="comment">//å®šä½åˆ°å•å…ƒæ ¼ï¼Œå¹¶è®¾ç½®å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setActLocateEnable</span><span class="params">(<span class="keyword">bool</span> enable)</span></span>;                <span class="comment">//è®¾ç½®actLocateeçš„enabledå±æ€§</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setDlgLocateNull</span><span class="params">()</span></span>;                             <span class="comment">//å°†ExDlgLocateæŒ‡é’ˆè®¾ç½®ä¸ºNULL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actSetHeader_triggered</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actSetSize_triggered</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actLocate_triggered</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_currentChanged</span><span class="params">(<span class="keyword">const</span> QModelIndex &amp;current, <span class="keyword">const</span> QModelIndex &amp;previous)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExCustomMainWin *ui;</span><br><span class="line"></span><br><span class="line">    QStandardItemModel *m_model;                        <span class="comment">//æ•°æ®æ¨¡å‹</span></span><br><span class="line">    QItemSelectionModel *m_seleModel;                   <span class="comment">//itemé€‰æ‹©æ¨¡å‹</span></span><br><span class="line">    ExDlgSetHeaders *m_dlgSetHeaders;</span><br><span class="line">    ExDlgLocate *m_dlglocate;</span><br><span class="line">    QLabel  *m_labCellPos;                              <span class="comment">//å½“å‰å•å…ƒæ ¼è¡Œåˆ—å·</span></span><br><span class="line">    QLabel  *m_labCellText;                             <span class="comment">//å½“å‰å•å…ƒæ ¼å†…å®¹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExDlgLocate</span> :</span> <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExDlgLocate</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExDlgLocate();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setSpinRange</span><span class="params">(<span class="keyword">int</span> rowCount, <span class="keyword">int</span> colCount)</span></span>;         <span class="comment">//è®¾ç½®spinçš„è®¾å®š(æœ€å¤§)å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setSpinValue</span><span class="params">(<span class="keyword">int</span> rowNo, <span class="keyword">int</span> colNo)</span></span>;               <span class="comment">//è®¾ç½®spinçš„åˆå§‹å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnSetText_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnClose_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExDlgLocate *ui;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// QWidget interface</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">closeEvent</span><span class="params">(QCloseEvent *event)</span> override</span>;  <span class="comment">//çª—å£å…³é—­äº‹ä»¶ï¼Œå…³é—­æ—¶é‡Šæ”¾æœ¬çª—å£</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">showEvent</span><span class="params">(QShowEvent *event)</span> override</span>;    <span class="comment">//çª—å£æ˜¾ç¤ºäº‹ä»¶</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExDlgSetHeaders</span> :</span> <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExDlgSetHeaders</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExDlgSetHeaders();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHeaderList</span><span class="params">(QStringList&amp; headers)</span></span>;</span><br><span class="line">    <span class="function">QStringList <span class="title">headerList</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExDlgSetHeaders *ui;</span><br><span class="line"></span><br><span class="line">    QStringListModel *m_model;          <span class="comment">//ç®¡ç†å­—ç¬¦ä¸²åˆ—è¡¨æ•°æ®</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExDlgSize</span> :</span> <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExDlgSize</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExDlgSize();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getRowCount</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getColCount</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setRowCol</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExDlgSize *ui;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtCustomDialogExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  äº†è§£è‡ªå®šä¹‰é£æ ¼æ§ä»¶æ ·å¼ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„&lt;strong&gt;Qt&lt;/strong&gt;ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚ä¸”ä¸»è¦æ˜¯è®²è§£ä¸€äº›æ¨¡æ€å’Œç»™éæ¨¡æ€çš„çŸ¥è¯†è®²è§£ï¼Œæœ¬ç¯‡æ¯”è¾ƒæ¨èç›´æ¥çœ‹æœ¬ä¾‹åªæœ‰çŸ¥è¯†è¡Œçš„æºç ï¼Œä¼šæ›´åŠ ç®€æ´å’Œæ¸…æ™°ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_20191216_201058_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>QTableViewå’ŒQStandardItemModel(ä»¥åŠä»£ç†çš„ä¾‹å­)çš„ç”¨æ³•</title>
    <link href="http://yoursite.com/2019/12/17/QTableView%E5%92%8CQStandardItemModel(%E4%BB%A5%E5%8F%8A%E4%BB%A3%E7%90%86%E7%9A%84%E4%BE%8B%E5%AD%90)%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <id>http://yoursite.com/2019/12/17/QTableViewå’ŒQStandardItemModel(ä»¥åŠä»£ç†çš„ä¾‹å­)çš„ç”¨æ³•/</id>
    <published>2019-12-16T16:03:55.000Z</published>
    <updated>2019-12-16T16:03:57.917Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ç»§ç»­å­¦ä¹ <code>QTableView</code>å’Œ<code>QStandardItemModel</code>çš„ç”¨æ³•ï¼Œä»¥åŠè¿™é‡Œä¾‹å­é‡Œé¢æœ‰å…·ä½“ä½¿ç”¨ä»£ç†çš„ä¾‹å­ï¼ˆ<strong>æ¨¡å‹-è§†å›¾-ä»£ç†ï¼‰</strong>ï¼Œå…¶ä¸­ä¸“é—¨ç»™ä»£ç†å†™ä¸€æˆä¸€ä¸ªç±»æ¥å®ç°ä»–ä»¬ï¼›ä¹¦å†™ä¸€ä¸ªç®€å•çš„<code>Qt</code>ä¾‹å­ğŸŒ°ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„æ§ä»¶çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_23-59-14_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103572418" target="_blank" rel="noopener">QTableViewå’ŒQStandardItemModel(ä»¥åŠä»£ç†çš„ä¾‹å­)çš„ç”¨æ³•</a></p><p><strong>ç›¸å…³åšæ–‡ï¼š</strong> <a href="https://blog.csdn.net/qq_33154343/article/details/103501667" target="_blank" rel="noopener">Model-View-Delegate:â€æ¨¡å‹-è§†å›¾-ä»£ç†â€çš„è®²è§£</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="QStandardItemModelï¼š"><a href="#QStandardItemModelï¼š" class="headerlink" title="QStandardItemModelï¼š"></a>QStandardItemModelï¼š</h2><p><code>QStandardItemModel</code>æ˜¯<font color=#D0087E size=4 face="å¹¼åœ†">æ ‡å‡†çš„ä»¥<strong>é¡¹æ•°æ®ï¼ˆitem dataï¼‰</strong>ä¸ºåŸºç¡€</font>çš„ <strong>æ•°æ®æ¨¡å‹ç±»</strong>ï¼›</p><br><h2 id="QTableViewï¼š"><a href="#QTableViewï¼š" class="headerlink" title="QTableViewï¼š"></a>QTableViewï¼š</h2><p><code>QTableView</code>æ˜¯ä¸€ä¸ªäºŒç»´æ•°æ®è¡¨è§†å›¾ç»„ä»¶ï¼Œå½“é€šè¿‡<code>setModelï¼ˆï¼‰</code>çš„è®¾ç½®ä¸€ä¸ª<code>QStandardItemModel</code>çš„æ—¶å€™ï¼Œä¸€ä¸ªå•å…ƒæ ¼æ˜¾ç¤º<code>QStandardItemModel</code>æ•°æ®æ¨¡å‹çš„ä¸€ä¸ªé¡¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">m_model = <span class="keyword">new</span> QStandardItemModel(<span class="number">2</span>, <span class="number">5</span>, <span class="keyword">this</span>);                          <span class="comment">//è®¾ç½®æ•°æ®æ¨¡å‹ï¼Œä¸€å¼€å§‹è®¾ç½®ä¸ºé»˜è®¤çš„2è¡Œ6åˆ—è¡¨çš„ä¸€ä¸ªè¡¨</span></span><br><span class="line">m_selectModet = <span class="keyword">new</span> QItemSelectionModel(m_model, <span class="keyword">this</span>);                <span class="comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">ui-&gt;tableView-&gt;setModel(m_model);                                      <span class="comment">//è®¾ç½®æ•°æ®æ¨¡å‹</span></span><br><span class="line">ui-&gt;tableView-&gt;setSelectionModel(m_selectModet);                       <span class="comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span></span><br><span class="line">ui-&gt;tableView-&gt;setSelectionMode(QAbstractItemView::ExtendedSelection); <span class="comment">//è®¾ç½®é€‰æ‹©æ¨¡å¼</span></span><br><span class="line">ui-&gt;tableView-&gt;setSelectionBehavior(QAbstractItemView::SelectItems);   <span class="comment">//è®¾ç½®é€‰æ‹©è¡Œä¸º</span></span><br></pre></td></tr></table></figure><br><h2 id="QItemSelectionModel"><a href="#QItemSelectionModel" class="headerlink" title="QItemSelectionModel:"></a>QItemSelectionModel:</h2><p><code>QItemSelectionModel</code>æ˜¯ä¸€ä¸ªç”¨äºè·Ÿè¸ªè§†å›¾ç»„å»ºçš„å•å…ƒæ ¼é€‰æ‹©çŠ¶æ€ç±»ï¼›å½“åœ¨QTableViewé€‰æ‹©æŸä¸€ä¸ªæˆ–è€…ä¸€äº›å•å…ƒæ ¼çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡<code>QItemSelectionModel</code>è·å–é€‰ä¸­çš„å•å…ƒæ ¼çš„æ¨¡å‹ç´¢å¼•ï¼Œä¸ºå•å…ƒæ ¼çš„é€‰æ‹©ç³»ç»Ÿæ–¹ä¾¿ï¼›</p><br><h2 id="è®¾è®¡æ€è·¯ï¼š"><a href="#è®¾è®¡æ€è·¯ï¼š" class="headerlink" title="è®¾è®¡æ€è·¯ï¼š"></a>è®¾è®¡æ€è·¯ï¼š</h2><p>åœ¨ <strong>ExQStandardItemModel.h</strong>å’Œ <strong>ExQStandardItemModel.cpp</strong>é‡Œé¢ï¼Œä½¿ç”¨ä¸­è§„ä¸­çŸ©çš„Tableè§†å›¾å’Œæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥æ˜¾ç¤ºå‡ºæ¥ä¸‹é¢çš„è¿™äº›æ•°æ®ç­‰ï¼›ç„¶åå†å°±å•ç‹¬è®¾è®¡ä¸€ä¸ªä»£ç†æ¥å®ç°ï¼Œåœ¨ <strong>ExDelegate.h</strong>å’Œ  <strong>ExDelegate.cpp</strong> é‡Œé¢ï¼Œå•ç‹¬å†™ä¸€ä¸ªä»£ç†ç»„ä»¶ï¼ˆegï¼šåˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶ï¼‰ï¼Œå°†QComboBoxæ’å…¥åˆ°Tableæ§ä»¶é‡Œé¢ã€‚è¿™æ ·å°±å¯ä»¥å°†æ‰€æœ‰â€œè§†å›¾-æ¨¡å‹-ä»£ç†â€è¿™ä¸‰ä¸ªå…¨éƒ¨éƒ½ä½¿ç”¨å°ä¾‹å­çš„æ–¹å¼æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p><font color=#FE7207 size=4 face="å¹¼åœ†">è‹¥æ˜¯æƒ³è¦ä½¿ç”¨ä»£ç†éƒ¨åˆ†ï¼Œå°±å¿…é¡»é‡åœ¨å¦‚ä¸‹çš„4ä¸ªå‡½æ•°</font></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">virtual</span> QWidget* <span class="title">createEditor</span><span class="params">(QWidget *parent, <span class="keyword">const</span> QStyleOptionViewItem &amp;option, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;      <span class="comment">//åˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setEditorData</span><span class="params">(QWidget *editor, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;                                             <span class="comment">//ä»æ•°æ®æ¨¡å‹è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨ä»£ç†ç»„ä»¶editorä¹‹ä¸­ï¼Œè®©å…¶ç¼–è¾‘</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setModelData</span><span class="params">(QWidget *editor, QAbstractItemModel *model, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;                   <span class="comment">//ä»£ç†ç»„ä»¶editorä¸Šçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ¨¡å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">updateEditorGeometry</span><span class="params">(QWidget *editor, <span class="keyword">const</span> QStyleOptionViewItem &amp;option, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;  <span class="comment">//ç”¨äºç»™widgetç»„ä»¶è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å¤§å°</span></span><br></pre></td></tr></table></figure><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191213_00.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹:</p><h3 id="æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š"><a href="#æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š" class="headerlink" title="æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š"></a>æ¨¡å‹-è§†å›¾éƒ¨åˆ†ï¼š</h3><p>åœ¨ <strong>.h</strong>å¤´æ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQStandardItemModel</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(QStringList&amp; <span class="built_in">list</span>)</span></span>;           <span class="comment">//ä»liståˆå§‹åŒ–æ•°æ®æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onCurrentChanged</span><span class="params">(<span class="keyword">const</span> QModelIndex&amp; current, <span class="keyword">const</span> QModelIndex&amp; previous)</span></span>;  <span class="comment">//å½“å‰å•å…ƒæ ¼å‘ç”Ÿå˜åŒ–æ—¶</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actOpen_triggered</span><span class="params">()</span></span>;            <span class="comment">//æ‰“å¼€å’Œå¯¼å…¥æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨plainTextEdité‡Œé¢æ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAppend_triggered</span><span class="params">()</span></span>;          <span class="comment">//åœ¨è¡¨æ ¼çš„æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actSave_triggered</span><span class="params">()</span></span>;            <span class="comment">//ä¿å­˜æ–‡ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actInsert_triggered</span><span class="params">()</span></span>;          <span class="comment">//åœ¨å½“å‰é€‰ä¸­çš„ä¸€è¡Œï¼Œå…¶å‰é¢æ’å…¥ä¸€è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actDelete_triggered</span><span class="params">()</span></span>;          <span class="comment">//åˆ é™¤ä¸€è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actExit_triggered</span><span class="params">()</span></span>;            <span class="comment">//å…³é—­é€€å‡º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actModelData_triggered</span><span class="params">()</span></span>;       <span class="comment">//é¢„è§ˆæ¨¡å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAlignLeft_triggered</span><span class="params">()</span></span>;       <span class="comment">//å·¦å¯¹é½</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAlignCenter_triggered</span><span class="params">()</span></span>;     <span class="comment">//æ–‡æœ¬å±…ä¸­</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAlingRight_triggered</span><span class="params">()</span></span>;      <span class="comment">//æ–‡æœ¬å³å¯¹é½</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actBold_triggered</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;<span class="comment">//æ–‡æœ¬åŠ ç²—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QLabel  *m_labCurrFile;                 <span class="comment">//å½“å‰æ–‡ä»¶</span></span><br><span class="line">    QLabel *m_labCellPos;                   <span class="comment">//å½“å‰å•å…ƒæ ¼è¡Œåˆ—å·</span></span><br><span class="line">    QLabel *m_labCellText;                  <span class="comment">//å½“å‰å•å…ƒæ ¼æ•°æ®å†…å®¹</span></span><br><span class="line">    QStandardItemModel *m_model;            <span class="comment">//æ•°æ®æ¨¡å‹</span></span><br><span class="line">    QItemSelectionModel *m_selectModet;     <span class="comment">//é€‰æ‹©æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ <strong>.cpp</strong>æºæ–‡ä»¶é‡Œé¢</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> COLUMN 6  <span class="comment">//æ•°æ®è¡¨çš„åˆ—æ•°</span></span></span><br><span class="line"></span><br><span class="line">ExQStandardItemModel::ExQStandardItemModel(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExQStandardItemModel)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setWindowTitle(QObject::tr(<span class="string">"QTableViewå’ŒQStandardItemModelçš„ç”¨æ³•"</span>));</span><br><span class="line"></span><br><span class="line">    ui-&gt;mainToolBar-&gt;setToolButtonStyle(Qt::ToolButtonTextUnderIcon);     <span class="comment">//è®¾ç½®ä¸»å·¥å…·æ çš„å›¾æ ‡æ ·å¼é£æ ¼</span></span><br><span class="line"></span><br><span class="line">    m_labCurrFile = <span class="keyword">new</span> QLabel(<span class="string">"å½“å‰æ–‡ä»¶ï¼š"</span>, <span class="keyword">this</span>);                       <span class="comment">//è®¾ç½®çŠ¶æ€æ </span></span><br><span class="line">    m_labCellPos = <span class="keyword">new</span> QLabel(<span class="string">"å½“å‰å•å…ƒæ ¼ï¼š"</span>, <span class="keyword">this</span>);</span><br><span class="line">    m_labCellText = <span class="keyword">new</span> QLabel(<span class="string">"å•å…ƒæ ¼å†…å®¹ï¼š"</span>, <span class="keyword">this</span>);</span><br><span class="line">    m_labCurrFile-&gt;setMinimumWidth(<span class="number">200</span>);</span><br><span class="line">    m_labCellPos-&gt;setMinimumWidth(<span class="number">200</span>);</span><br><span class="line">    m_labCellText-&gt;setMinimumWidth(<span class="number">200</span>);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labCurrFile);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labCellPos);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labCellText);</span><br><span class="line"></span><br><span class="line">    m_model = <span class="keyword">new</span> QStandardItemModel(<span class="number">2</span>, COLUMN, <span class="keyword">this</span>);                          <span class="comment">//è®¾ç½®æ•°æ®æ¨¡å‹ï¼Œä¸€å¼€å§‹è®¾ç½®ä¸ºé»˜è®¤çš„2è¡Œ6åˆ—è¡¨çš„ä¸€ä¸ªè¡¨</span></span><br><span class="line">    m_selectModet = <span class="keyword">new</span> QItemSelectionModel(m_model, <span class="keyword">this</span>);                <span class="comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;tableView-&gt;setModel(m_model);                                      <span class="comment">//è®¾ç½®æ•°æ®æ¨¡å‹</span></span><br><span class="line">    ui-&gt;tableView-&gt;setSelectionModel(m_selectModet);                       <span class="comment">//è®¾ç½®é€‰æ‹©æ¨¡å‹</span></span><br><span class="line">    ui-&gt;tableView-&gt;setSelectionMode(QAbstractItemView::ExtendedSelection); <span class="comment">//è®¾ç½®é€‰æ‹©æ¨¡å¼</span></span><br><span class="line">    ui-&gt;tableView-&gt;setSelectionBehavior(QAbstractItemView::SelectItems);   <span class="comment">//è®¾ç½®é€‰æ‹©è¡Œä¸º</span></span><br><span class="line"></span><br><span class="line">    connect(m_selectModet, SIGNAL(currentChanged(QModelIndex, QModelIndex)), <span class="keyword">this</span>, SLOT(onCurrentChanged(QModelIndex, QModelIndex)));  <span class="comment">//é€‰æ‹©å½“å‰å•å…ƒæ ¼å˜åŒ–æ—¶çš„ä¿¡å·ä¸æ§½</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExQStandardItemModel::~ExQStandardItemModel()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»liståˆå§‹åŒ–æ•°æ®æ¨¡å‹QTableViewé‡Œé¢</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::init(QStringList &amp;<span class="built_in">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> rowCount = <span class="built_in">list</span>.count();                                           <span class="comment">//æ–‡æœ¬è¡Œæ•°ï¼Œç¬¬ä¸€è¡Œä¸ºè¡¨å¤´</span></span><br><span class="line">    m_model-&gt;setRowCount(rowCount - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    QString header = <span class="built_in">list</span>.at(<span class="number">0</span>);</span><br><span class="line">    QStringList headerList = header.split(QRegExp(<span class="string">"\\s+"</span>), QString::SkipEmptyParts); <span class="comment">//é€šè¿‡ä¸€ä¸ªæˆ–è€…å¤šä¸ªç©ºæ ¼æˆ–è€…tabæŒ‰é”®åˆ‡å‰²</span></span><br><span class="line">    m_model-&gt;setHorizontalHeaderLabels(headerList);                       <span class="comment">//è®¾ç½®è¡¨å¤´</span></span><br><span class="line"></span><br><span class="line">    QStandardItem *item = <span class="literal">nullptr</span>;                                        <span class="comment">//æ­¤å¤„å¼€å§‹ï¼Œè®¾ç½®è¡¨æ ¼æ•°æ®</span></span><br><span class="line">    QStringList tempList;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; rowCount; i++) &#123;</span><br><span class="line">        QString aLineText = <span class="built_in">list</span>.at(i);</span><br><span class="line">        tempList = aLineText.split(QRegExp(<span class="string">"\\s+"</span>), QString::SkipEmptyParts);<span class="comment">//æ­£åˆ™è¡¨è¾¾å¼ä¸­\såŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰, ç­‰ä»·äº[ \f\n\r\t\v]</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; COLUMN - <span class="number">1</span>; j++) &#123;                                     <span class="comment">//è®¾ç½®å‰5åˆ—çš„item</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (j == <span class="number">3</span>) &#123;</span><br><span class="line">                ExDelegate *itemDelegate = <span class="keyword">new</span> ExDelegate();</span><br><span class="line">                ui-&gt;tableView-&gt;setItemDelegateForColumn(<span class="number">3</span>, itemDelegate);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            item = <span class="keyword">new</span> QStandardItem(tempList.at(j));</span><br><span class="line">            m_model-&gt;setItem(i - <span class="number">1</span>, j, item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        item = <span class="keyword">new</span> QStandardItem(tempList.at(j));                          <span class="comment">//æœ€åä¸€åˆ—çš„item</span></span><br><span class="line">        item-&gt;setCheckable(<span class="literal">true</span>);                                          <span class="comment">//è®¾ç½®æœ‰æ£€æŸ¥æ¡†</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ( tempList.at(j) == <span class="string">"https://www.google.com"</span>)</span><br><span class="line">            item-&gt;setCheckState(Qt::Unchecked);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            item-&gt;setCheckState(Qt::Checked);</span><br><span class="line"></span><br><span class="line">        m_model-&gt;setItem(i - <span class="number">1</span>, COLUMN <span class="number">-1</span>, item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å‰å•å…ƒæ ¼å‘ç”Ÿå˜åŒ–æ—¶</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::onCurrentChanged(<span class="keyword">const</span> QModelIndex &amp;current, <span class="keyword">const</span> QModelIndex &amp;previous)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (current.isValid()) &#123;                                               <span class="comment">//å½“å‰æ¨¡å‹ç´¢æ€§æœ‰æ•ˆ</span></span><br><span class="line">        m_labCellPos-&gt;setText(QString(<span class="string">"å½“å‰å•å…ƒæ ¼ï¼š%1è¡Œ, %2åˆ—"</span>).arg(current.row()).arg(current.column()));</span><br><span class="line">        QStandardItem *item = m_model-&gt;itemFromIndex(current);             <span class="comment">//ä»æ¨¡å‹ç´¢å¼•è·å¾—Item</span></span><br><span class="line">        m_labCellText-&gt;setText(QString(<span class="string">"å½“å‰æ–‡ä»¶ï¼š%1"</span>).arg(item-&gt;text()));  <span class="comment">//æ˜¾ç¤ºitemçš„æ–‡å­—å†…å®¹</span></span><br><span class="line"></span><br><span class="line">        QFont font = item-&gt;font();</span><br><span class="line">        ui-&gt;actBold-&gt;setChecked(font.bold());                              <span class="comment">//æ›´æ–°actFontBoldçš„checkçŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//action+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="comment">//æ‰“å¼€å’Œå¯¼å…¥æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨plainTextEdité‡Œé¢æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actOpen_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QString currPath = QCoreApplication::applicationDirPath();</span><br><span class="line">    QString fileName = QFileDialog::getOpenFileName(<span class="keyword">this</span>, <span class="string">"æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶"</span>, currPath, <span class="string">"å¯¼å…¥æ•°æ®æ–‡ä»¶(*txt);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (fileName.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QStringList <span class="built_in">list</span>;</span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (file.open(QIODevice::ReadOnly | QIODevice::Text)) &#123;                <span class="comment">//åªè¯»å½¢å¼æ‰“å¼€æ–‡æœ¬æ–‡ä»¶</span></span><br><span class="line">        <span class="function">QTextStream <span class="title">stream</span><span class="params">(&amp;file)</span></span>;                                         <span class="comment">//ç”¨æ–‡æœ¬æµè¯»å–æ–‡ä»¶</span></span><br><span class="line">        ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!stream.atEnd()) &#123;                                          <span class="comment">//è¯»å–æ–‡æœ¬ä¸­æ–‡æœ¬çš„å†…å®¹</span></span><br><span class="line">            QString str = stream.readLine();</span><br><span class="line">            ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line">            <span class="built_in">list</span>.append(str);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        file.close();                                                      <span class="comment">//å…³é—­</span></span><br><span class="line">        m_labCurrFile-&gt;setText(<span class="string">"å½“å‰æ–‡ä»¶ï¼š"</span> + fileName);                    <span class="comment">//è®¾ç½®çŠ¶æ€æ </span></span><br><span class="line"></span><br><span class="line">        ui-&gt;actAppend-&gt;setEnabled(<span class="literal">true</span>);                                   <span class="comment">//è®¾ç½®actionçš„Enabledçš„å±æ€§</span></span><br><span class="line">        ui-&gt;actInsert-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">        ui-&gt;actDelete-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">        ui-&gt;actSave-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    init(<span class="built_in">list</span>);                                                            <span class="comment">//åˆå§‹åŒ–.txtçš„æ•°æ®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨è¡¨æ ¼çš„æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actAppend_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QList&lt;QStandardItem *&gt; <span class="built_in">list</span>;</span><br><span class="line">    QStandardItem *item;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–è¡¨å¤´å‰äº”åˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; COLUMN - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        item = <span class="keyword">new</span> QStandardItem(<span class="string">"æ·»åŠ ä¸€è¡Œ"</span>);</span><br><span class="line">        <span class="built_in">list</span>&lt;&lt;item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //è·å–æœ€åä¸€åˆ—</span><br><span class="line">    QString str = m_model-&gt;headerData(m_model-&gt;columnCount() - <span class="number">1</span>, Qt::Horizontal, Qt::DisplayRole).toString();</span><br><span class="line">    item = <span class="keyword">new</span> QStandardItem(str + <span class="string">"æ·»åŠ ä¸€è¡Œ"</span>);</span><br><span class="line">    item-&gt;setCheckable(<span class="literal">true</span>);</span><br><span class="line">    <span class="built_in">list</span>&lt;&lt;item;</span><br><span class="line"></span><br><span class="line">    m_model-&gt;insertRow(m_model-&gt;rowCount(), <span class="built_in">list</span>);</span><br><span class="line">    QModelIndex currIndex = m_model-&gt;index(m_model-&gt;rowCount() - <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">//åˆ›å»ºæœ€åä¸€è¡Œçš„ModelIndex</span></span><br><span class="line">    m_selectModet-&gt;clearSelection();</span><br><span class="line">    m_selectModet-&gt;setCurrentIndex(currIndex, QItemSelectionModel::Select);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿å­˜æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actSave_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QString path = QCoreApplication::applicationDirPath();</span><br><span class="line">    QString fileName = QFileDialog::getSaveFileName(<span class="keyword">this</span>, tr(<span class="string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span>), path, <span class="string">"å¦å­˜æ•°æ®(*.txt);;æ‰€æœ‰æ•°æ®(*.*)"</span>);</span><br><span class="line">    <span class="keyword">if</span> ( fileName.isEmpty())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!(file.open(QIODevice::ReadWrite | QIODevice::Text | QIODevice::Truncate))) <span class="comment">//è¯»å†™ï¼Œæ–‡æœ¬ï¼Œè¦†ç›–åŸæœ‰å†…å®¹æ‰“å¼€</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">QTextStream <span class="title">stream</span><span class="params">(&amp;file)</span></span>;                                            <span class="comment">//ç”¨æ–‡æœ¬æµè¯»å–æ–‡ä»¶</span></span><br><span class="line">    QStandardItem *item;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    QString str = <span class="string">""</span>;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–è¡¨å¤´æ–‡å­—</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m_model-&gt;columnCount(); i++) &#123;</span><br><span class="line">        item =  m_model-&gt;horizontalHeaderItem(i);</span><br><span class="line">        str = str + item-&gt;text() + <span class="string">"\t\t"</span>;                                 <span class="comment">//ä»¥TABæŒ‰é”®éš”å¼€</span></span><br><span class="line">    &#125;</span><br><span class="line">    stream&lt;&lt;str&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–æ•°æ®åŒºæ–‡å­—</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; m_model-&gt;rowCount(); i++) &#123;</span><br><span class="line">        str = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m_model-&gt;columnCount(); j++) &#123;</span><br><span class="line">            item = m_model-&gt;item(i, j);</span><br><span class="line">            str = str + item-&gt;text() + <span class="string">"\t\t"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        stream&lt;&lt;str&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å½“å‰é€‰ä¸­çš„ä¸€è¡Œï¼Œå…¶å‰é¢æ’å…¥ä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actInsert_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QList&lt;QStandardItem *&gt; <span class="built_in">list</span>;</span><br><span class="line">    QStandardItem *item;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; COLUMN - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        item = <span class="keyword">new</span> QStandardItem(<span class="string">"æ’å…¥ä¸€è¡Œ"</span>);</span><br><span class="line">        <span class="built_in">list</span>&lt;&lt;item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QString str = m_model-&gt;headerData(m_model-&gt;columnCount() - <span class="number">1</span>, Qt::Horizontal, Qt::DisplayRole).toString();</span><br><span class="line">    item = <span class="keyword">new</span> QStandardItem(str + <span class="string">"æ’å…¥ä¸€è¡Œ"</span>);</span><br><span class="line">    item-&gt;setCheckable(<span class="literal">true</span>);</span><br><span class="line">    <span class="built_in">list</span>&lt;&lt;item;</span><br><span class="line"></span><br><span class="line">    QModelIndex currIndex = m_selectModet-&gt;currentIndex();</span><br><span class="line">    m_model-&gt;insertRow(currIndex.row(), <span class="built_in">list</span>);                 <span class="comment">//åœ¨å½“å‰è¡Œçš„å‰é¢æ’å…¥ä¸€è¡Œ</span></span><br><span class="line">    m_selectModet-&gt;clearSelection();</span><br><span class="line">    m_selectModet-&gt;setCurrentIndex(currIndex, QItemSelectionModel::Select);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤ä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actDelete_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QModelIndex currIndex = m_selectModet-&gt;currentIndex();</span><br><span class="line">    m_model-&gt;removeRow(currIndex.row());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…³é—­é€€å‡º</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actExit_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢„è§ˆæ•°æ®æ¨¡å‹:æ¨¡å‹æ•°æ®å¯¼å‡ºåˆ°PlainTextEditæ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actModelData_triggered()</span><br><span class="line">&#123;                                          <span class="comment">//ç”¨æ–‡æœ¬æµè¯»å–æ–‡ä»¶</span></span><br><span class="line">    QStandardItem *item;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    QString str = <span class="string">""</span>;</span><br><span class="line">    ui-&gt;plainTextEdit-&gt;clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–è¡¨å¤´æ–‡å­—</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m_model-&gt;columnCount(); i++) &#123;</span><br><span class="line">        item =  m_model-&gt;horizontalHeaderItem(i);</span><br><span class="line">        str = str + item-&gt;text() + <span class="string">"\t\t"</span>;                                 <span class="comment">//ä»¥TABæŒ‰é”®éš”å¼€</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–æ•°æ®åŒºæ–‡å­—</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; m_model-&gt;rowCount(); i++) &#123;</span><br><span class="line">        str = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m_model-&gt;columnCount(); j++) &#123;</span><br><span class="line">            item = m_model-&gt;item(i, j);</span><br><span class="line">            str = str + item-&gt;text() + <span class="string">"\t\t"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å·¦å¯¹é½</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actAlignLeft_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_selectModet-&gt;hasSelection())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QModelIndexList <span class="built_in">list</span> = m_selectModet-&gt;selectedIndexes();     <span class="comment">//è·å¾—é€‰ä¸­çš„List&lt;item&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.count(); i++) &#123;</span><br><span class="line">        QModelIndex index = <span class="built_in">list</span>.at(i);</span><br><span class="line">        QStandardItem *item = m_model-&gt;itemFromIndex(index);</span><br><span class="line">        item-&gt;setTextAlignment(Qt::AlignLeft);                   <span class="comment">//è®¾ç½®æ–‡æœ¬å·¦å¯¹é½</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡æœ¬å±…ä¸­</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actAlignCenter_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_selectModet-&gt;hasSelection())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QModelIndexList <span class="built_in">list</span> = m_selectModet-&gt;selectedIndexes();     <span class="comment">//è·å¾—é€‰ä¸­çš„List&lt;item&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.count(); i++) &#123;</span><br><span class="line">        QModelIndex index = <span class="built_in">list</span>.at(i);                          <span class="comment">//è·å–ä¸€ä¸ªæ¨¡å‹ç´¢å¼•</span></span><br><span class="line">        QStandardItem *item = m_model-&gt;itemFromIndex(index);</span><br><span class="line">        item-&gt;setTextAlignment(Qt::AlignCenter);                 <span class="comment">//è®¾ç½®æ–‡æœ¬å±…ä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡æœ¬å³å¯¹é½</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actAlingRight_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_selectModet-&gt;hasSelection())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QModelIndexList <span class="built_in">list</span> = m_selectModet-&gt;selectedIndexes();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.count(); i++) &#123;</span><br><span class="line">        QModelIndex index = <span class="built_in">list</span>.at(i);</span><br><span class="line">        QStandardItem *item = m_model-&gt;itemFromIndex(index);</span><br><span class="line">        item-&gt;setTextAlignment(Qt::AlignRight);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–‡æœ¬åŠ ç²—</span></span><br><span class="line"><span class="keyword">void</span> ExQStandardItemModel::on_actBold_triggered(<span class="keyword">bool</span> checked)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!m_selectModet-&gt;hasSelection())</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QModelIndexList <span class="built_in">list</span> = m_selectModet-&gt;selectedIndexes();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.count(); i++) &#123;</span><br><span class="line">        QModelIndex index = <span class="built_in">list</span>.at(i);</span><br><span class="line">        QStandardItem *item = m_model-&gt;itemFromIndex(index);</span><br><span class="line">        QFont font = item-&gt;font();</span><br><span class="line">        font.setBold(checked);</span><br><span class="line">        item-&gt;setFont(font);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç†éƒ¨åˆ†ï¼š"><a href="#ä»£ç†éƒ¨åˆ†ï¼š" class="headerlink" title="ä»£ç†éƒ¨åˆ†ï¼š"></a>ä»£ç†éƒ¨åˆ†ï¼š</h3><p>åœ¨ <strong>.h</strong>å¤´æ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXDELEGATE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXDELEGATE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QStyledItemDelegate&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExDelegate</span> :</span> <span class="keyword">public</span> QStyledItemDelegate</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ExDelegate();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//è‹¥æ˜¯å†™ä»£ç†çš„ç»„ä»¶ï¼Œé‚£ä¹ˆå¿…é¡»è¦æœ‰ä¸‹é¢è¿™æ˜¯ä¸ªé‡å†™è¿™å››ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> QWidget* <span class="title">createEditor</span><span class="params">(QWidget *parent, <span class="keyword">const</span> QStyleOptionViewItem &amp;option, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;      <span class="comment">//åˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setEditorData</span><span class="params">(QWidget *editor, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;                                             <span class="comment">//ä»æ•°æ®æ¨¡å‹è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨ä»£ç†ç»„ä»¶editorä¹‹ä¸­ï¼Œè®©å…¶ç¼–è¾‘</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setModelData</span><span class="params">(QWidget *editor, QAbstractItemModel *model, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;                   <span class="comment">//ä»£ç†ç»„ä»¶editorä¸Šçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ¨¡å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">updateEditorGeometry</span><span class="params">(QWidget *editor, <span class="keyword">const</span> QStyleOptionViewItem &amp;option, <span class="keyword">const</span> QModelIndex &amp;index)</span> <span class="keyword">const</span> override</span>;  <span class="comment">//ç”¨äºç»™widgetç»„ä»¶è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å¤§å°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXDELEGATE_H</span></span></span><br></pre></td></tr></table></figure><p>åœ¨ <strong>.cpp</strong>å¤´æ–‡ä»¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExDelegate.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QComboBox&gt;</span></span></span><br><span class="line"></span><br><span class="line">ExDelegate::ExDelegate()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºç”¨äºç¼–è¾‘çš„æ¨¡å‹æ•°æ®çš„widgetç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªQComboBoxç»„ä»¶</span></span><br><span class="line">QWidget *ExDelegate::createEditor(QWidget *parent, <span class="keyword">const</span> QStyleOptionViewItem &amp;option, <span class="keyword">const</span> QModelIndex &amp;index) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    QComboBox *comboBox = <span class="keyword">new</span> QComboBox(parent);</span><br><span class="line">    comboBox-&gt;addItem(<span class="string">"githubï¼šhttps://github.com/touwoyimuli"</span>);</span><br><span class="line">    comboBox-&gt;addItem(<span class="string">"csdnåšå®¢ï¼šhttps://blog.csdn.net/qq_33154343"</span>);</span><br><span class="line">    comboBox-&gt;addItem(<span class="string">"github.ioåšå®¢ï¼šhttps://touwoyimuli.github.io/"</span>);</span><br><span class="line">    comboBox-&gt;addItem(<span class="string">"https://www.google.com/ qt å­¦ä¹  åŠ æ²¹ 2019-09-30"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>  comboBox;                      <span class="comment">//è¿”å›æ­¤ç¼–è¾‘å™¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»æ•°æ®æ¨¡å‹è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨ä»£ç†ç»„ä»¶ä¹‹ä¸­ï¼Œè®©å…¶ç¼–è¾‘</span></span><br><span class="line"><span class="keyword">void</span> ExDelegate::setEditorData(QWidget *editor, <span class="keyword">const</span> QModelIndex &amp;index) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    QString str = index.model()-&gt;data(index, Qt::EditRole).toString();</span><br><span class="line">    QComboBox *comboBox = <span class="keyword">static_cast</span>&lt;QComboBox *&gt;(editor);</span><br><span class="line">    comboBox-&gt;addItem(str);</span><br><span class="line">    <span class="comment">//å…¶ä»–ç»„ä»¶çš„è¯ï¼Œ æ­¤å¤„å¯ä»¥è®¾å®šå†™çš„å€¼ä¸€ç±»ï¼Œegï¼šsetText(str)  setValue()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†widgetä¸Šçš„æ•°æ®æ›´æ–°åˆ°æ•°æ®æ¨¡å‹</span></span><br><span class="line"><span class="keyword">void</span> ExDelegate::setModelData(QWidget *editor, QAbstractItemModel *model, <span class="keyword">const</span> QModelIndex &amp;index) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    QComboBox *comboBox = <span class="keyword">static_cast</span>&lt;QComboBox *&gt;(editor);</span><br><span class="line">    QString str = comboBox-&gt;currentText();</span><br><span class="line">    model-&gt;setData(index, str, Qt::EditRole);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨äºç»™widgetç»„ä»¶è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å¤§å°</span></span><br><span class="line"><span class="keyword">void</span> ExDelegate::updateEditorGeometry(QWidget *editor, <span class="keyword">const</span> QStyleOptionViewItem &amp;option, <span class="keyword">const</span> QModelIndex &amp;index) <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    editor-&gt;setGeometry(option.rect);      <span class="comment">//è®¾ç½®ç»„ä»¶çš„å¤§å°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtQStandardItemModelExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  ç»§ç»­å­¦ä¹ &lt;code&gt;QTableView&lt;/code&gt;å’Œ&lt;code&gt;QStandardItemModel&lt;/code&gt;çš„ç”¨æ³•ï¼Œä»¥åŠè¿™é‡Œä¾‹å­é‡Œé¢æœ‰å…·ä½“ä½¿ç”¨ä»£ç†çš„ä¾‹å­ï¼ˆ&lt;strong&gt;æ¨¡å‹-è§†å›¾-ä»£ç†ï¼‰&lt;/strong&gt;ï¼Œå…¶ä¸­ä¸“é—¨ç»™ä»£ç†å†™ä¸€æˆä¸€ä¸ªç±»æ¥å®ç°ä»–ä»¬ï¼›ä¹¦å†™ä¸€ä¸ªç®€å•çš„&lt;code&gt;Qt&lt;/code&gt;ä¾‹å­ğŸŒ°ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„æ§ä»¶çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_23-59-14_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>getOpenFileNameæ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰å¯¹è¯æ¡†çš„ä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/12/15/getOpenFileName%E6%A0%87%E5%87%86%E5%AF%B9%E8%AF%9D%E6%A1%86%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/12/15/getOpenFileNameæ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰å¯¹è¯æ¡†çš„ä½¿ç”¨/</id>
    <published>2019-12-14T17:12:47.000Z</published>
    <updated>2019-12-14T17:14:59.356Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  äº†è§£æ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰çš„å¯¹è¯æ¡†çš„ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„<code>Qt</code>ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-54-52_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103545066" target="_blank" rel="noopener">getOpenFileNameæ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰å¯¹è¯æ¡†çš„ä½¿ç”¨</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>     <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="æ ‡å‡†å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†å¯¹è¯æ¡†ï¼š</h2><p>ä¸€ä¸ªè½¯ä»¶çš„è®¾è®¡ï¼Œæœ€ååŒ…å«ç€å¾ˆå¤šçš„å¾ˆå¤šä¸ªçª—ä½“ä¹‹é—´çš„äº¤äº’ï¼Œè€Œä¸”ä¼šæœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„å¯¹è¯æ¡†å’Œç³»ç»Ÿçš„æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ç­‰å‡ºç°ï¼Œæ¯”å¦‚è¯´ï¼šæ–‡ä»¶å¯¹è¯æ¡†ï¼Œé¢œè‰²å¯¹è¯æ¡†ï¼Œå­—ä½“å¯¹è¯æ¡†ï¼Œæ¶ˆæ¯å¯¹è¯æ¡†å’Œç¡®è®¤å¯¹è¯æ¡†ç­‰ç­‰ã€‚</p><br><ul><li><input checked="" disabled="" type="checkbox"> <code>QFileDialog</code>  <strong>æ–‡ä»¶å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QColorDialog</code>  <strong>é¢œè‰²å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QFontDialog</code>  <strong>å­—ä½“å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QInputDialog</code>  <strong>è¾“å…¥å¯¹è¯æ¡†</strong></li><li><input checked="" disabled="" type="checkbox"> <code>QMessageBox</code>  <strong>æ¶ˆæ¯å¯¹è¯æ¡†</strong></li></ul><p>ä¸‹é¢å±•ç¤ºä¸€ä¸‹ä¸Šé¢è¿™äº›åœ¨<code>windows</code>å’Œ<code>macOS</code>ä¸Šé¢çš„æ ·å¼ï¼š</p><h3 id="æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">QMessageBox::information(<span class="keyword">this</span>, <span class="string">"ä¿¡æ¯æ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"informationå¯¹è¯æ¡†çš„å†…å®¹"</span>, QMessageBox::Ok, QMessageBox::NoButton);</span><br><span class="line"></span><br><span class="line">QMessageBox::warning(<span class="keyword">this</span>, <span class="string">"è­¦å‘Šæ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"warningå¯¹è¯æ¡†çš„å†…å®¹"</span>, QMessageBox::Ok, QMessageBox::NoButton);</span><br><span class="line"></span><br><span class="line">QMessageBox::critical(<span class="keyword">this</span>, <span class="string">"å±æœºæ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"criticalå¯¹è¯æ¡†çš„å†…å®¹"</span>, QMessageBox::Ok, QMessageBox::NoButton);</span><br><span class="line"></span><br><span class="line">QMessageBox::about(<span class="keyword">this</span>, <span class="string">"å…³äºæ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"abou ä½œè€…: æŠ•æˆ‘ä»¥æœ¨æï¼ŒæŠ¥ä¹‹ä»¥ç¼ç–"</span>);</span><br><span class="line"></span><br><span class="line">QMessageBox::aboutQt(<span class="keyword">this</span>, <span class="string">"å…³äºQtæ¶ˆæ¯å¯¹è¯æ¡†"</span>);</span><br></pre></td></tr></table></figure><ul><li>macæ ·å¼ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-11-51_mark.png"/><ul><li>winæ ·å¼ï¼š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191013_162030_17_mark.jpg"/><br><h3 id="QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š"><a href="#QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š" class="headerlink" title="QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š"></a>QFileDialogæ–‡ä»¶å¯¹è¯æ¡†ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QString fileNmae = QFileDialog::getOpenFileName(<span class="keyword">this</span>, <span class="string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span>, path, fileter);</span><br><span class="line"></span><br><span class="line">QString path = QFileDialog::getExistingDirectory(<span class="keyword">this</span>, <span class="string">"é€‰æ‹©ä¸€ä¸ªç›®å½•ã€éæ–‡ä»¶ã€‘"</span>, currPath, QFileDialog::ShowDirsOnly);   <span class="comment">//æœ€åä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåªæ˜¾ç¤ºè·¯å¾„</span></span><br><span class="line"></span><br><span class="line">QString fileNmae = QFileDialog::getSaveFileName(<span class="keyword">this</span>, <span class="string">"ä¿å­˜æ–‡ä»¶"</span>, path, fileter);</span><br></pre></td></tr></table></figure><br><h3 id="QColorDialogé¢œè‰²å¯¹è¯æ¡†"><a href="#QColorDialogé¢œè‰²å¯¹è¯æ¡†" class="headerlink" title="QColorDialogé¢œè‰²å¯¹è¯æ¡†:"></a>QColorDialogé¢œè‰²å¯¹è¯æ¡†:</h3><p>é¢œè‰²å¯¹è¯æ¡†å¦‚ä¸‹å›¾æ‰€ç¤º</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QColor color = QColorDialog::getColor(initColor, <span class="keyword">this</span>, <span class="string">"é€‰æ‹©é¢œè‰²"</span>);</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-53-18_mark.png"/>     <img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191014_000359_1_mark.jpg"/></p><br><h3 id="QFontDialogå­—ä½“å¯¹è¯æ¡†"><a href="#QFontDialogå­—ä½“å¯¹è¯æ¡†" class="headerlink" title="QFontDialogå­—ä½“å¯¹è¯æ¡†:"></a>QFontDialogå­—ä½“å¯¹è¯æ¡†:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">QFont font = QFontDialog::getFont(&amp;ok, initFont);</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-53-29_mark.png"/><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191212223615.png"/></p><br><h3 id="æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š"><a href="#æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š" class="headerlink" title="æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š"></a>æ ‡å‡†æ¶ˆæ¯è¾“å…¥å¯¹è¯æ¡†ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">QString text = QInputDialog::getText(<span class="keyword">this</span>, <span class="string">"è¾“å…¥æ–‡å­—å¯¹è¯æ¡†"</span>, <span class="string">"è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²"</span>, QLineEdit::Normal, <span class="string">"é»˜è®¤è¾“å…¥çš„å­—ç¬¦ä¸²"</span>, &amp;ok);</span><br><span class="line"></span><br><span class="line">QStringList <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>&lt;&lt;"2019-10-02"&lt;&lt;"04:28"&lt;&lt;"åœ¨æ­¦æ±‰çš„å§å®¤"&lt;&lt;"æ•²ä»£ç "&lt;&lt;"è¿™ä¼šæ²¡æœ‰å›°æ„";</span><br><span class="line">    <span class="keyword">int</span> index = 0;</span><br><span class="line">    <span class="keyword">bool</span> editable = <span class="literal">true</span>;   //ComboBoxæ˜¯å¦å¯ç¼–è¾‘</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    QString text = QInputDialog::getItem(<span class="keyword">this</span>, "è¾“å…¥itemå¯¹è¯æ¡†", "è¯·é€‰æ‹©ä¸€ä¸ªitem", <span class="built_in">list</span>, index, editable, &amp;ok);</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span> val = QInputDialog::getInt(<span class="keyword">this</span>, "è¾“å…¥æ•´æ•°å¯¹è¯æ¡†", "è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°", size, min, max, stepVal, &amp;ok);</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">double</span> ret = QInputDialog::getDouble(<span class="keyword">this</span>, "è¾“å…¥æµ®ç‚¹æ•°å¯¹è¯æ¡†", "è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°", d, min, max, val, &amp;ok);</span><br></pre></td></tr></table></figure><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_225638.gif"/><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191212_214919.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>å…¶ä¸­æ ¸å¿ƒéƒ¨åˆ†çš„æºç ï¼Œé‡ç‚¹å’Œä¸€äº›éš¾ç‚¹ä»¥åŠéœ€è¦æ³¨æ„çš„ä¸€äº›åœ°æ–¹ï¼Œè´´å‡ºæ¥å¦‚ä¸‹ï¼Œ</p><p>å…¶ä¸­  <strong>.h</strong> æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXDIALOG_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXDIALOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDialog&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExDialog</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExDialog</span> :</span> <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExDialog</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExDialog();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnOpenFile_clicked</span><span class="params">()</span></span>;        <span class="comment">//æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnOpenFiles_clicked</span><span class="params">()</span></span>;       <span class="comment">//æ‰“å¼€å¤šä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnExistingDir_clicked</span><span class="params">()</span></span>;     <span class="comment">//é€‰æ‹©å·²æœ‰ç›®å½•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnGetColor_clicked</span><span class="params">()</span></span>;        <span class="comment">//é€‰æ‹©é¢œè‰²</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnGetFont_clicked</span><span class="params">()</span></span>;         <span class="comment">//é€‰æ‹©å­—ä½“</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnSaveFile_clicked</span><span class="params">()</span></span>;        <span class="comment">//ä¿å­˜æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnQuestion_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnInformation_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnWarning_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnCritical_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAbout_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAboutQt_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnGetString_clicked</span><span class="params">()</span></span>;       <span class="comment">//è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnGetItem_clicked</span><span class="params">()</span></span>;         <span class="comment">//itemé€‰æ‹©è¾“å…¥</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnInt_clicked</span><span class="params">()</span></span>;             <span class="comment">//è¾“å…¥æ•´æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnDouble_clicked</span><span class="params">()</span></span>;          <span class="comment">//è¾“å…¥æµ®ç‚¹æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExDialog *ui;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXDIALOG_H</span></span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­  <strong>.cpp</strong> æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExDialog.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExDialog.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QFileDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QColorDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QFontDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QInputDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"></span><br><span class="line">ExDialog::ExDialog(QWidget *parent) :</span><br><span class="line">    QDialog(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExDialog)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setWindowTitle(QObject::tr(<span class="string">"æ–‡ä»¶ã€é¢œè‰²ã€å­—ä½“ã€ä¿å­˜ã€æ¶ˆæ¯ã€è¾“å…¥ç­‰å¯¹è¯æ¡†ä½¿ç”¨"</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExDialog::~ExDialog()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‡å‡†æ–‡ä»¶å¯¹è¯æ¡†QFileDialog+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnOpenFile_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString path = QDir::currentPath();                        <span class="comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span></span><br><span class="line">    QString fileter = <span class="string">"æ–‡æœ¬æ–‡ä»¶(*.txt);;å›¾ç‰‡æ–‡ä»¶(*.jpg *.gif);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span>;</span><br><span class="line"></span><br><span class="line">    QString fileNmae = QFileDialog::getOpenFileName(<span class="keyword">this</span>, <span class="string">"é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶"</span>, path, fileter);</span><br><span class="line">    <span class="keyword">if</span> (! fileNmae.isEmpty()) &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(fileNmae);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnOpenFiles_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString path = QDir::currentPath();                        <span class="comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span></span><br><span class="line">    QString fileter = <span class="string">"æ–‡æœ¬æ–‡ä»¶(*.txt);;å›¾ç‰‡æ–‡ä»¶(*.jpg *.gif);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span>;</span><br><span class="line"></span><br><span class="line">    QStringList fileNmaeList = QFileDialog::getOpenFileNames(<span class="keyword">this</span>, <span class="string">"é€‰æ‹©å¤šä¸ªæ–‡ä»¶"</span>, path, fileter);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileNmaeList.count(); i++) &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(fileNmaeList.at(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnExistingDir_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString currPath = QCoreApplication::applicationDirPath(); <span class="comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span></span><br><span class="line">    QString path = QFileDialog::getExistingDirectory(<span class="keyword">this</span>, <span class="string">"é€‰æ‹©ä¸€ä¸ªç›®å½•ã€éæ–‡ä»¶ã€‘"</span>, currPath, QFileDialog::ShowDirsOnly);   <span class="comment">//æœ€åä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåªæ˜¾ç¤ºè·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!path.isEmpty()) &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnGetColor_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QPalette pal = ui-&gt;plainTextEdit-&gt;palette();              <span class="comment">//è·å–æ¡è°ƒè‰²æ¿</span></span><br><span class="line">    QColor initColor = pal.color(QPalette::Text);</span><br><span class="line">    QColor color = QColorDialog::getColor(initColor, <span class="keyword">this</span>, <span class="string">"é€‰æ‹©é¢œè‰²"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (color.isValid()) &#123;                                    <span class="comment">//å› ä¸ºæ²¡æœ‰.isEmpty(),æ•…è€Œä½¿ç”¨.isValid()æ¥åˆ¤æ–­</span></span><br><span class="line">        pal.setColor(QPalette::Text, color);</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;setPalette(pal);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnGetFont_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QFont initFont = ui-&gt;plainTextEdit-&gt;font();</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    QFont font = QFontDialog::getFont(&amp;ok, initFont);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ok)</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;setFont(font);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnSaveFile_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QString path = QDir::currentPath();                        <span class="comment">//è·å–åº”ç”¨ç¨‹åºå½“å‰ç›®å½•</span></span><br><span class="line">    QString fileter = <span class="string">"å¤´æ–‡ä»¶(*.h);;æºæ–‡ä»¶(*.cpp);;æ‰€æœ‰æ–‡ä»¶(*.*)"</span>;</span><br><span class="line">    QString fileNmae = QFileDialog::getSaveFileName(<span class="keyword">this</span>, <span class="string">"ä¿å­˜æ–‡ä»¶"</span>, path, fileter);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!fileNmae.isEmpty())</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(fileNmae);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‡å‡†æ¶ˆæ¯å¯¹è¯æ¡†+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnQuestion_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::StandardButton ret = QMessageBox::question(<span class="keyword">this</span>, <span class="string">"é—®é¢˜æ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"questionå¯¹è¯æ¡†çš„å†…å®¹"</span>,  QMessageBox::Yes | QMessageBox::No | QMessageBox::Close, QMessageBox::NoButton);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (ret) &#123;</span><br><span class="line">    <span class="keyword">case</span> QMessageBox::Yes: &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"QMessageBox::yes æŒ‰é’®è¢«é€‰ä¸­"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> QMessageBox::No: &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"QMessageBox::No æŒ‰é’®è¢«é€‰ä¸­"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> QMessageBox::Close: &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"QMessageBox::Close æŒ‰é’®è¢«é€‰ä¸­"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>: &#123;</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"è¿™æ˜¯ switch çš„default çš„é€‰é¡¹"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnInformation_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::information(<span class="keyword">this</span>, <span class="string">"ä¿¡æ¯æ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"informationå¯¹è¯æ¡†çš„å†…å®¹"</span>, QMessageBox::Ok, QMessageBox::NoButton);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnWarning_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::warning(<span class="keyword">this</span>, <span class="string">"è­¦å‘Šæ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"warningå¯¹è¯æ¡†çš„å†…å®¹"</span>, QMessageBox::Ok, QMessageBox::NoButton);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnCritical_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::critical(<span class="keyword">this</span>, <span class="string">"å±æœºæ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"criticalå¯¹è¯æ¡†çš„å†…å®¹"</span>, QMessageBox::Ok, QMessageBox::NoButton);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnAbout_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::about(<span class="keyword">this</span>, <span class="string">"å…³äºæ¶ˆæ¯å¯¹è¯æ¡†"</span>, <span class="string">"abou ä½œè€…: æŠ•æˆ‘ä»¥æœ¨æï¼ŒæŠ¥ä¹‹ä»¥ç¼ç–"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnAboutQt_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QMessageBox::aboutQt(<span class="keyword">this</span>, <span class="string">"å…³äºQtæ¶ˆæ¯å¯¹è¯æ¡†"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‡å‡†è¾“å…¥å¯¹è¯æ¡†QInputDialog+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnGetString_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    QString text = QInputDialog::getText(<span class="keyword">this</span>, <span class="string">"è¾“å…¥æ–‡å­—å¯¹è¯æ¡†"</span>, <span class="string">"è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²"</span>, QLineEdit::Normal, <span class="string">"é»˜è®¤è¾“å…¥çš„å­—ç¬¦ä¸²"</span>, &amp;ok);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ok &amp;&amp; !text.isEmpty())</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnGetItem_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QStringList <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>&lt;&lt;"2019-10-02"&lt;&lt;"04:28"&lt;&lt;"åœ¨æ­¦æ±‰çš„å§å®¤"&lt;&lt;"æ•²ä»£ç "&lt;&lt;"è¿™ä¼šæ²¡æœ‰å›°æ„";</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> index = 0;</span><br><span class="line">    <span class="keyword">bool</span> editable = <span class="literal">true</span>;   //ComboBoxæ˜¯å¦å¯ç¼–è¾‘</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    QString text = QInputDialog::getItem(<span class="keyword">this</span>, "è¾“å…¥itemå¯¹è¯æ¡†", "è¯·é€‰æ‹©ä¸€ä¸ªitem", <span class="built_in">list</span>, index, editable, &amp;ok);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ok &amp;&amp; !text.isEmpty())</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnInt_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> min = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> stepVal = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> size = ui-&gt;plainTextEdit-&gt;font().pointSize();</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span> val = QInputDialog::getInt(<span class="keyword">this</span>, <span class="string">"è¾“å…¥æ•´æ•°å¯¹è¯æ¡†"</span>, <span class="string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span>, size, min, max, stepVal, &amp;ok);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ok) &#123;</span><br><span class="line">        QFont font = ui-&gt;plainTextEdit-&gt;font();</span><br><span class="line">        font.setPointSize(val);</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;setFont(font);</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"å­—ä½“å¤§å°å·²ç»è¢«è®¾ç½®ä¸º:"</span> + QString::number(val));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> ExDialog::on_btnDouble_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> min = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> d = <span class="number">2</span>;                 <span class="comment">//å°æ•°ç‚¹çš„ä½æ•°</span></span><br><span class="line">    <span class="keyword">double</span> val = <span class="number">3.1415</span>;</span><br><span class="line">    <span class="keyword">bool</span> ok = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">double</span> ret = QInputDialog::getDouble(<span class="keyword">this</span>, <span class="string">"è¾“å…¥æµ®ç‚¹æ•°å¯¹è¯æ¡†"</span>, <span class="string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°æ”¹å˜å­—ä½“å¤§å°"</span>, d, min, max, val, &amp;ok);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ok)</span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(<span class="string">"æµ®ç‚¹æ•°å¤§å°ä¸º:"</span> + QString::number(ret, <span class="string">'f'</span>, <span class="number">4</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtQDialogExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  äº†è§£æ ‡å‡†å¯¹è¯æ¡†å’Œè‡ªå®šä¹‰çš„å¯¹è¯æ¡†çš„ä½¿ç”¨ï¼Œä¹¦å†™ä¸€ä¸ªç®€å•åœ°ä¾‹å­ï¼›ç„¶åå†™äº†ä¸€ä¸ªå°çš„&lt;code&gt;Qt&lt;/code&gt;ä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„ç©ºé—´çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-12_21-54-52_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>QFileSystemModelæ•°æ®æ¨¡å‹è·å–æœ¬æœºæ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/12/14/QFileSystemModel%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E5%8A%9F%E8%83%BD%E7%9A%84%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/"/>
    <id>http://yoursite.com/2019/12/14/QFileSystemModelæ•°æ®æ¨¡å‹çš„å±æ€§å’ŒåŠŸèƒ½çš„ä½¿ç”¨ä»‹ç»/</id>
    <published>2019-12-14T15:53:18.000Z</published>
    <updated>2019-12-14T17:12:30.070Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  <code>QFileSystemModel</code>æ˜¯å¯<strong>ç”¨äºè®¿é—®æœ¬æœºç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ</strong>çš„<strong>æ•°æ®æ¨¡å‹</strong>ï¼›å…¶çš„å±æ€§å’ŒåŠŸèƒ½çš„ä½¿ç”¨ä»‹ç»ï¼›ç„¶åå†™äº†ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„åŠŸèƒ½çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚è¿™é‡Œä¸»è¦æ˜¯æ•°æ®çš„è¯»å–éƒ¨åˆ†æ˜¯ä½¿ç”¨åˆ°äº†<code>QFileSystemModel</code>ç±»ï¼Œç„¶ååˆ†åˆ«ä½¿ç”¨<code>QTreeView</code>å’Œ<code>QListView</code>å’Œ<code>ColumnView</code>å’Œ<code>QTableView</code>è¿™å››ç§è§†å›¾æ§ä»¶æ¥æ˜¾ç¤ºã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_233142_5.jpg"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103544820" target="_blank" rel="noopener">QFileSystemModelæ•°æ®æ¨¡å‹è·å–æœ¬æœºæ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨</a></p><p><strong>ç›¸å…³åšå®¢ï¼š</strong> <a href="https://blog.csdn.net/qq_33154343/article/details/103501667" target="_blank" rel="noopener">Model-View-Delegate:â€æ¨¡å‹-è§†å›¾-ä»£ç†â€çš„è®²è§£</a></p></blockquote><br><h2 id="ç³»ç»Ÿç¯å¢ƒï¼š"><a href="#ç³»ç»Ÿç¯å¢ƒï¼š" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒï¼š"></a>ç³»ç»Ÿç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>win10 x64 ä¸“ä¸šç‰ˆ 1803</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8ï¼ŒQt Creator 4.8.2 (Enterprise)</code></p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong>  <code>Qt 5.9.8</code>ï¼Œ<code>Qt Creator 4.8.2 (Enterprise)</code></p><br><h2 id="QFileSystemModelå±æ€§ï¼š"><a href="#QFileSystemModelå±æ€§ï¼š" class="headerlink" title="QFileSystemModelå±æ€§ï¼š"></a>QFileSystemModelå±æ€§ï¼š</h2><p> <code>QFileSystemModel</code>æ˜¯å¯<strong>ç”¨äºè®¿é—®æœ¬æœºç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ</strong>çš„<strong>æ•°æ®æ¨¡å‹</strong>ï¼›ä¸€å¼€å§‹æ˜¯éœ€è¦ä½¿ç”¨è®¾ç½®ä¸€ä¸ªæ ¹ç›®å½•çš„ï¼›</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QString currPath = QDir::currentPath();  <span class="comment">//è·å–å½“å‰è·¯å¾„</span></span><br><span class="line">m_model-&gt;setRootPath(currPath);          <span class="comment">//è®¾ç½®æ ¹ç›®å½•</span></span><br></pre></td></tr></table></figure><p>å’Œ<code>QFileSystemModel</code>ä¸€æ ·ï¼Œå¯ä»¥è·å–ç£ç›˜æ–‡ä»¶ç›®å½•çš„æ•°æ®æ¨¡å‹çš„è¿˜æœ‰<code>QDirModel</code>ï¼Œä½†æ˜¯<code>QFileSystemModel</code>æ˜¯ä½¿ç”¨å•ç‹¬çš„çº¿ç¨‹æ¥è·å–ç›®å½•çš„æ–‡ä»¶çš„ç»“æ„çš„ï¼Œè€Œ<code>QDirModel</code>ä¸æ˜¯é‡‡ç”¨çš„å•ç‹¬çš„çº¿ç¨‹</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_233142.gif"/><br><h2 id="æºç åˆ†æï¼š"><a href="#æºç åˆ†æï¼š" class="headerlink" title="æºç åˆ†æï¼š"></a>æºç åˆ†æï¼š</h2><p>è¿™ä¸ªä¾‹å­ï¼Œä¸»è¦æ˜¯æ ¹æ®<strong>â€Mode-View-Delegateï¼ˆæ¨¡å‹-è§†å›¾-ä»£ç†ï¼‰â€</strong> æ¥å®ç°ï¼Œæˆ‘ä¼šåœ¨å‰é¢å°†å…¶ä»”ç»†çš„å†™å‡ºæ¥ï¼›è¿™ä¸ªä¾‹å­å¾—ç›ŠäºQtè‡ªå¸¦çš„è¿™äº›æ¨¡å‹çš„å¼ºå¤§ï¼Œçœ‹èµ·æ¥éœ€è¦å†™å¥½å¤šä»£ç ï¼Œä½†æ˜¯å®é™…åªéœ€è¦çš„ä»£ç é‡ä¸ç®—å¤šï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å°±æ˜¯å°†å®ç°çš„éƒ¨åˆ†æºç ï¼Œç›´æ¥æ”¾åœ¨ä¸‹é¢ï¼š</p><p><strong>.h</strong>å¤´æ–‡ä»¶çš„å®ç°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXQFILESYSTEMMODEL_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXQFILESYSTEMMODEL_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QCheckBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QFileSystemModel&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQFileSystemModel</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQFileSystemModel</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExQFileSystemModel</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExQFileSystemModel();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>;                <span class="comment">//åˆå§‹åŒ–ï¼Œä»¥åŠåˆå§‹åŒ–çŠ¶æ€æ </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_treeView_clicked</span><span class="params">(<span class="keyword">const</span> QModelIndex &amp;index)</span></span>;  <span class="comment">//å•å‡»treeViewï¼Œä¼šåœ¨çŠ¶æ€æ æ˜¾ç¤ºå½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExQFileSystemModel *ui;</span><br><span class="line"></span><br><span class="line">    QLabel* m_labFileName;       <span class="comment">//æ–‡ä»¶å</span></span><br><span class="line">    QLabel* m_labFileSize;       <span class="comment">//æ–‡ä»¶å¤§å°</span></span><br><span class="line">    QLabel* m_labFileType;       <span class="comment">//æ–‡ä»¶ç±»å‹</span></span><br><span class="line">    QLabel* m_labPath;           <span class="comment">//è·¯å¾„</span></span><br><span class="line">    QCheckBox* m_chkBoxIsFile;   <span class="comment">//å½“å‰æ˜¯å¦ä¸ºæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</span></span><br><span class="line">    QFileSystemModel* m_model;   <span class="comment">//è®¾ç½®æ–‡ä»¶ç³»ç»Ÿçš„æ¨¡å‹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXQFILESYSTEMMODEL_H</span></span></span><br></pre></td></tr></table></figure><p>.cppæ–‡ä»¶çš„å®ç°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExQFileSystemModel.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExQFileSystemModel.h"</span></span></span><br><span class="line"></span><br><span class="line">ExQFileSystemModel::ExQFileSystemModel(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExQFileSystemModel)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setWindowTitle(QObject::tr(<span class="string">"æ–‡ä»¶ç³»ç»Ÿæ¨¡å‹QFileSystemModelçš„ä»‹ç»å’Œä½¿ç”¨"</span>));</span><br><span class="line"></span><br><span class="line">    init();</span><br><span class="line">    connect(ui-&gt;treeView, &amp;QTreeView::clicked, ui-&gt;listView, &amp;QListView::setRootIndex);</span><br><span class="line">    connect(ui-&gt;treeView, &amp;QTreeView::clicked, ui-&gt;tableView, &amp;QTableView::setRootIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExQFileSystemModel::~ExQFileSystemModel()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–ï¼Œä»¥åŠåˆå§‹åŒ–çŠ¶æ€æ </span></span><br><span class="line"><span class="keyword">void</span> ExQFileSystemModel::init()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®æ•°æ®æ¨¡å‹ï¼Œä¸”åŠ è½½åˆ°å„ä¸ªè§†å›¾ä¸Šé¢</span></span><br><span class="line">    m_model = <span class="keyword">new</span> QFileSystemModel(<span class="keyword">this</span>);</span><br><span class="line">    QString currPath = QDir::currentPath();  <span class="comment">//è·å–å½“å‰è·¯å¾„</span></span><br><span class="line">    m_model-&gt;setRootPath(currPath);          <span class="comment">//è®¾ç½®æ ¹ç›®å½•</span></span><br><span class="line">    ui-&gt;treeView-&gt;setModel(m_model);         <span class="comment">//è®¾ç½®æ•°æ®æ¨¡å‹</span></span><br><span class="line">    ui-&gt;listView-&gt;setModel(m_model);</span><br><span class="line">    ui-&gt;tableView-&gt;setModel(m_model);</span><br><span class="line">    ui-&gt;columnView-&gt;setModel(m_model);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–çŠ¶æ€æ </span></span><br><span class="line">    m_labFileName = <span class="keyword">new</span> QLabel(<span class="string">"åç§°ï¼š"</span>, ui-&gt;statusBar);</span><br><span class="line">    m_labFileName-&gt;setMinimumWidth(<span class="number">180</span>);</span><br><span class="line">    m_labFileSize = <span class="keyword">new</span> QLabel(<span class="string">"å¤§å°ï¼š"</span>, ui-&gt;statusBar);</span><br><span class="line">    m_labFileSize-&gt;setFixedWidth(<span class="number">130</span>);</span><br><span class="line">    m_labFileType = <span class="keyword">new</span> QLabel(<span class="string">"ç±»å‹ï¼š"</span>, ui-&gt;statusBar);</span><br><span class="line">    m_labFileType-&gt;setFixedWidth(<span class="number">130</span>);</span><br><span class="line">    m_labPath = <span class="keyword">new</span> QLabel(<span class="string">"è·¯å¾„ï¼š"</span> + currPath, ui-&gt;statusBar);</span><br><span class="line">    m_chkBoxIsFile = <span class="keyword">new</span> QCheckBox(<span class="string">"å½“å‰ä¸ºæ–‡ä»¶å¤¹"</span>, ui-&gt;statusBar);</span><br><span class="line">    m_chkBoxIsFile-&gt;setFixedWidth(<span class="number">130</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å„ç§QLableæ·»åŠ åˆ°çŠ¶æ€æ </span></span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labFileName);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labFileSize);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labFileType);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_chkBoxIsFile);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labPath);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å•å‡»treeViewï¼Œä¼šåœ¨çŠ¶æ€æ æ˜¾ç¤ºå½“å‰èŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">void</span> ExQFileSystemModel::on_treeView_clicked(<span class="keyword">const</span> QModelIndex &amp;index)</span><br><span class="line">&#123;</span><br><span class="line">    m_chkBoxIsFile-&gt;setChecked(m_model-&gt;isDir(index));                <span class="comment">//æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line">    m_labFileName-&gt;setText(<span class="string">"åç§°ï¼š"</span> + m_model-&gt;fileName(index));      <span class="comment">//æ–‡ä»¶åç§°</span></span><br><span class="line">    <span class="keyword">double</span> size = m_model-&gt;size(index) / <span class="number">1024.0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size &lt; <span class="number">1024</span>)</span><br><span class="line">        m_labFileSize-&gt;setText(<span class="string">"ç±»å‹ï¼š"</span> + QString::number(size, <span class="string">'f'</span>, <span class="number">2</span>) + <span class="string">"KB"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">1024</span> &lt;= size &amp;&amp; size &lt; <span class="number">1024</span> * <span class="number">1024</span>)</span><br><span class="line">        m_labFileSize-&gt;setText(<span class="string">"ç±»å‹ï¼š"</span> + QString::number(size / <span class="number">1024</span>, <span class="string">'f'</span>, <span class="number">2</span>) + <span class="string">"MB"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        m_labFileSize-&gt;setText(<span class="string">"ç±»å‹ï¼š"</span> + QString::number(size / (<span class="number">1024</span> * <span class="number">1024</span>), <span class="string">'f'</span>, <span class="number">2</span>) + <span class="string">"GB"</span>);</span><br><span class="line"></span><br><span class="line">    m_labFileType-&gt;setText(m_model-&gt;type(index));</span><br><span class="line">    m_labPath-&gt;setText(m_model-&gt;filePath(index));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtQFileSystemModelExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  &lt;code&gt;QFileSystemModel&lt;/code&gt;æ˜¯å¯&lt;strong&gt;ç”¨äºè®¿é—®æœ¬æœºç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ&lt;/strong&gt;çš„&lt;strong&gt;æ•°æ®æ¨¡å‹&lt;/strong&gt;ï¼›å…¶çš„å±æ€§å’ŒåŠŸèƒ½çš„ä½¿ç”¨ä»‹ç»ï¼›ç„¶åå†™äº†ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ¥å®ç°å’ŒéªŒè¯å®ƒçš„åŠŸèƒ½çš„ä¸€äº›å±æ€§å’ŒåŠŸèƒ½çš„ç”¨æ³•ã€‚è¿™é‡Œä¸»è¦æ˜¯æ•°æ®çš„è¯»å–éƒ¨åˆ†æ˜¯ä½¿ç”¨åˆ°äº†&lt;code&gt;QFileSystemModel&lt;/code&gt;ç±»ï¼Œç„¶ååˆ†åˆ«ä½¿ç”¨&lt;code&gt;QTreeView&lt;/code&gt;å’Œ&lt;code&gt;QListView&lt;/code&gt;å’Œ&lt;code&gt;ColumnView&lt;/code&gt;å’Œ&lt;code&gt;QTableView&lt;/code&gt;è¿™å››ç§è§†å›¾æ§ä»¶æ¥æ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191208_233142_5.jpg&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>Model-View-Delegate:&quot;æ¨¡å‹-è§†å›¾-ä»£ç†&quot;çš„è®²è§£</title>
    <link href="http://yoursite.com/2019/12/12/Model-View-Delegate:%22%E6%A8%A1%E5%9E%8B-%E8%A7%86%E5%9B%BE-%E4%BB%A3%E7%90%86%22%E7%9A%84%E8%AE%B2%E8%A7%A3/"/>
    <id>http://yoursite.com/2019/12/12/Model-View-Delegate:&quot;æ¨¡å‹-è§†å›¾-ä»£ç†&quot;çš„è®²è§£/</id>
    <published>2019-12-11T16:21:06.000Z</published>
    <updated>2019-12-11T16:22:49.911Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨Qtä¸­ï¼Œæœ‰ä¸€ç§å°†æ•°æ®å’Œå’Œè§†å›¾è¿›è¡Œä¸²é€šèµ·æ¥ï¼Œå°±åƒç½‘é¡µå’Œæ•°æ®åº“çš„å…³ç³»ä¸€æ ·ï¼›è€Œè¿™å°±æ˜¯<strong>â€œModel-View-Delegateâ€</strong>ï¼ˆ<strong>æ¨¡å‹-è§†å›¾-ä»£ç†</strong>ï¼‰çš„ç»“æ„ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-09_22-34-00_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103501667" target="_blank" rel="noopener">Model-View-Delegate:â€æ¨¡å‹-è§†å›¾-ä»£ç†â€çš„è®²è§£</a></p></blockquote><br><h2 id="Model-View-æ¨¡å‹-è§†å›¾"><a href="#Model-View-æ¨¡å‹-è§†å›¾" class="headerlink" title="Model/View(æ¨¡å‹/è§†å›¾):"></a>Model/View(æ¨¡å‹/è§†å›¾):</h2><p>åœ¨GUIç•Œé¢äº¤äº’çš„æ—¶å€™ï¼Œç”¨æˆ·åœ¨ï¼ˆè½¯ä»¶/ç½‘é¡µçš„ï¼‰ç•Œé¢è¿›è¡ŒæŸ¥çœ‹æ•°æ®çš„æ—¶å€™ï¼Œçœ‹åˆ°è¿™ä¸ªè¿™ä¸ªå°±è¢«ç§°ä¹‹ä¸º<strong>è§†å›¾</strong>ï¼›è€Œè§†å›¾å±•ç¤ºå‡ºæ¥çš„æ•°æ®ï¼Œæ˜¯ä»<strong>æ¨¡å‹</strong>é‡Œé¢å–å‡ºæ¥çš„ï¼Œä½ å¯ä»¥å°†å®ƒçœ‹åšçœ‹åšä¸€ä¸ªä¸“é—¨å­˜æ”¾æ•°æ®çš„å®¹å™¨ï¼ˆé»‘åŒ£å­ï¼‰ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-10_23-53-09_mark.png"/><br><h3 id="æ•°æ®ï¼ˆDataï¼‰ï¼š"><a href="#æ•°æ®ï¼ˆDataï¼‰ï¼š" class="headerlink" title="æ•°æ®ï¼ˆDataï¼‰ï¼š"></a>æ•°æ®ï¼ˆDataï¼‰ï¼š</h3><p>å®é™…çš„æ•°æ®ï¼Œæ¯”å¦‚æ˜¯æ•°æ®è¡¨é‡Œé¢çš„ä¸€ä¸ªé¡¹ï¼Œä¹Ÿæˆ–è®¸æ˜¯ä¸€ä¸ªQStringListï¼Œä¹Ÿè®¸åªæ˜¯ä¸€ä¸ªæ•°å­—æˆ–è€…å­—æ¯æˆ–è€…å­—ç¬¦ä¸²:abc:</p><br><h3 id="è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶-Viewï¼‰ï¼š"><a href="#è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶-Viewï¼‰ï¼š" class="headerlink" title="è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶ Viewï¼‰ï¼š"></a>è§†å›¾ï¼ˆæˆ–è§†å›¾ç»„ä»¶ Viewï¼‰ï¼š</h3><p>å®¢æˆ·ç«¯çš„ç•Œé¢ï¼Œç”¨æ¥æŸ¥çœ‹æ•°æ®çš„æ§ä»¶ï¼Œæ¯”å¦‚è¡¨æ ¼Tableæˆ–è€…æ ‘å½¢å›¾ç›®å½•ç»“æ„Treeï¼›<strong>è§†å›¾ä»æ•°æ®æ¨¡å‹è·å–å¾—åˆ°æ¯ä¸€ä¸ªæ•°æ®é¡¹çš„æ¨¡å‹ç´¢å¼•ï¼ˆmodelindexï¼‰ï¼Œç„¶åé€šè¿‡æ¨¡å‹ç´¢å¼•è·å–æ•°æ®ï¼›</strong> Qtæä¾›ä¸€äº›ç°æˆçš„æ•°æ®æ¨¡å‹è§†å›¾ç»„ä»¶ï¼š  </p><ul><li><p><strong>ä¸»è¦çš„æ•°æ®æ¨¡å‹ï¼š</strong> QListView / QTreeView / QTableView</p></li><li><p><strong>å…¶å¯¹åº”çš„ç®€ä¾¿åˆ©ç±»ï¼š</strong>  QListWidget / QTreeWidget / QTableWidget</p></li></ul><br><h3 id="æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹-Modelï¼‰"><a href="#æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹-Modelï¼‰" class="headerlink" title="æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹ Modelï¼‰:"></a>æ¨¡å‹ï¼ˆæ•°æ®æ¨¡å‹ Modelï¼‰:</h3><p>ä¸å®é™…æ•°æ®æ•°æ®è¿›è¡ŒåŒè¡Œï¼Œå¹¶ä¸”ä¸ºè§†å›¾ç»„ä»¶æä¾›æ•°æ®ç»“æ„</p><br><h2 id="ä»£ç†-Delegate"><a href="#ä»£ç†-Delegate" class="headerlink" title="ä»£ç†(Delegate):"></a>ä»£ç†(Delegate):</h2><p>ä»£ç†æ˜¯å¯ä»¥è®©ç”¨æˆ·ï¼Œè‡ªå·±æ›´åŠ ç»†è‡´å®šä¹‰ç»˜ç”»è‡ªå·±æ‰€éœ€è¦çš„çª—å£çš„ï¼›æ¯”å¦‚è¯´ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªTableçš„æ§ä»¶é‡Œé¢ï¼Œå°†ä¸€ä¸ªitemçš„é¡¹æ›¿æ¢æˆä¸€ä¸ªQCheckBoxæˆ–è€…ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨è¡¨æ¡†çš„æ§ä»¶ä¹‹ç±»çš„ï¼ˆegï¼šè®©ä½ å¡«è¡¨æ—¶å€™ï¼Œé€‰æ‹©å¹´é¾„ç­‰ï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-09_23-03-07_mark.png"/><p><font color=#D0087E size=4 face="å¹¼åœ†">ç”±äºæ•°æ®å’Œæ¨¡å‹å®é™…ç›¸äº’åˆ†ç¦»å¼€ï¼Œæ‰€ä»¥æ˜¯<strong>å¯ä»¥ä¸€ä¸ªæ•°æ®æ¨¡å‹å¯¹åº”â‡’å¤šä¸ªæ•°æ®æ¨¡å‹</strong>çš„</font></p><br><h2 id="æ•°æ®æ¨¡å‹ï¼š"><a href="#æ•°æ®æ¨¡å‹ï¼š" class="headerlink" title="æ•°æ®æ¨¡å‹ï¼š"></a>æ•°æ®æ¨¡å‹ï¼š</h2><p>æ‰€æœ‰åŸºäº<strong>é¡¹æ•°æ®</strong>ï¼ˆitem Dataï¼‰çš„<strong>æ•°æ®æ¨¡å‹</strong>ï¼ˆModelï¼‰éƒ½æ˜¯åŸºäº<code>QAbstractItemModel</code>è¿™ä¸ªæŠ½è±¡ç±»çš„ã€‚</p><p>å…¶å‡ ä¸ªä¸»è¦çš„ç±»çš„å±‚æ¬¡ç»“æ„å¦‚ä¸‹ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-10_23-39-22_mark.png"/><p>å…¶ä¸­ï¼š</p><ul><li><code>QStringList Modelï¼š</code>ç”¨äºå¤„ç†å­—ç¬¦ä¸²åˆ—è¡¨æ•°æ®çš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QStandardltem Modelï¼š</code>æ ‡å‡†çš„åŸºäºé¡¹æ•°æ®çš„æ•°æ®æ¨¡å‹ç±»ï¼Œæ¯ä¸ªæ•°æ®é¡¹æ•°æ®éƒ½å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹</li><li><code>QFileSystem Modelï¼š</code>è®¡ç®—æœºä¸Šæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSortFilterProxy Modelï¼š</code> ç”¨äºå…¶ä»–æ•°æ®æ¨¡å‹çš„ç»“åˆï¼Œæä¾›æ’åºå’Œè¿‡æ»¤åŠŸèƒ½çš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSqlQuery Model:</code> ç”¨äºæ•°æ®åº“SQLæŸ¥è¯¢ç»“æœçš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSqlTable Model:</code>  ç”¨äºæ•°æ®åº“çš„ä¸€ä¸ªæ•°æ®è¡¨çš„æ•°æ®æ¨¡å‹ç±»</li><li><code>QSqlRelationalTable Modelï¼š</code>ç”¨äºå…³ç³»å‹æ•°æ®è¡¨çš„æ•°æ®æ¨¡å‹ç±»</li></ul><br><h2 id="è§†å›¾æ¨¡å‹ï¼š"><a href="#è§†å›¾æ¨¡å‹ï¼š" class="headerlink" title="è§†å›¾æ¨¡å‹ï¼š"></a>è§†å›¾æ¨¡å‹ï¼š</h2><p>å…¶ä¸­å®ƒä»¬çš„å…³ç³»å¦‚ä¸‹ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¾€å¾€åªæ˜¯éœ€è¦è°ƒç”¨setModel()ï¼Œå°±å¯ä»¥å®ç°ä¸€ä¸ªæ•°æ®æ¨¡å‹å’Œè§†å›¾ç»„ä»¶å’Œæ•°æ®æ¨¡å‹ä¹‹é—´çš„å…³è”ï¼›<strong>å¯¹è§†å›¾ç»„ä»¶çš„æ•°æ®ä¿®æ”¹ï¼Œå°†ä¼šç›´åˆ°è‡ªåŠ¨ä¿å­˜åˆ°å…³è”çš„æ•°æ®æ¨¡å‹é‡Œé¢ï¼Œä¸”ä¸€ä¸ªæ•°æ®æ¨¡å‹æ˜¯å¯ä»¥åœ¨å¤šä¸ªè§†å›¾ç»„ä»¶é‡Œé¢æ˜¾ç¤ºæ•°æ®çš„ã€‚</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-10_23-44-41_mark.png"/><p>å…¶ä¸­çš„è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><code>QListView:</code> ç”¨äºæ˜¾ç¤ºå•åˆ—çš„åˆ—è¡¨æ•°æ®æ¨¡å‹ï¼Œé€‚ç”¨äºä¸€ç»´æ•°æ®çš„æ“ä½œ</li><li><code>QTreeView:</code>  ç”¨äºæ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œä½¿ç”¨ä¸æ ‘çŠ¶ç»“æ„æ•°æ®çš„æ“ä½œ</li><li><code>QTableView:</code>  ç”¨äºæ˜¾ç¤ºè¡¨æ ¼çŠ¶æ•°æ®ï¼Œé€‚ç”¨äºäºŒç»´å‹æ•°æ®çš„æ“ä½œ</li><li><code>QColumnView:</code>  ç”¨äºå¤šä¸ªQListViewæ˜¾ç¤ºæ ‘çŠ¶å±‚æ¬¡ç»“æ„ï¼Œæ ‘çŠ¶ç»“æ„çš„ä¸€å±‚ç”¨ä¸€ä¸ªQLIstViewæ˜¾ç¤º</li><li><code>QHeaderView:</code>  æä¾›è¡Œè¡¨å¤´æˆ–è€…åˆ—è¡¨å¤´çš„è§†å›¾ç»„ä»¶</li></ul><br><h2 id="æ¨¡å‹ç´¢å¼•ï¼š"><a href="#æ¨¡å‹ç´¢å¼•ï¼š" class="headerlink" title="æ¨¡å‹ç´¢å¼•ï¼š"></a>æ¨¡å‹ç´¢å¼•ï¼š</h2><p><strong>æ¨¡å‹ç´¢å¼•ï¼ˆModel Indexï¼‰</strong>ï¼šæ˜¯æ¥ä¿è¯æ•°æ®å’Œå…¶å­˜å–æ–¹å¼çš„éš”ç¦»ã€‚</p><p><code>QModeIndex</code>æ˜¯ï¼ˆä¸´æ—¶çš„ï¼‰ä¸€ä¸ªç´¢å¼•ç±»ã€‚æ¨¡å‹ç´¢å¼•æä¾›æ•°æ®å­˜å–çš„ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆï¼Œç”¨äºé€šè¿‡æ•°æ®æ¨¡å‹çš„æå–æˆ–è€…ä¿®æ”¹ï¼Œå› ä¸ºæ¨¡å‹å†…éƒ¨ç»„ç»‡ç»“æ„çš„æ•°æ®å¾ˆå®¹æ˜“å˜åŒ–ï¼Œæ‰€ä»¥è¿™ä¸ªæ¨¡å‹ç´¢å¼•æ˜¯ä¸´æ—¶çš„ï¼›</p><p><code>QPersistentModeIndex</code>æ˜¯æŒä¹…æ€§çš„æ¨¡å‹ç´¢å¼•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  åœ¨Qtä¸­ï¼Œæœ‰ä¸€ç§å°†æ•°æ®å’Œå’Œè§†å›¾è¿›è¡Œä¸²é€šèµ·æ¥ï¼Œå°±åƒç½‘é¡µå’Œæ•°æ®åº“çš„å…³ç³»ä¸€æ ·ï¼›è€Œè¿™å°±æ˜¯&lt;strong&gt;â€œModel-View-Delegateâ€&lt;/strong&gt;ï¼ˆ&lt;strong&gt;æ¨¡å‹-è§†å›¾-ä»£ç†&lt;/strong&gt;ï¼‰çš„ç»“æ„ã€‚&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-09_22-34-00_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>QTableWidgetè¡¨æ ¼ç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/12/11/QTableWidget%E8%A1%A8%E6%A0%BC%E7%BB%84%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7%E4%BB%8B%E7%BB%8D%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/12/11/QTableWidgetè¡¨æ ¼ç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨/</id>
    <published>2019-12-10T16:04:06.000Z</published>
    <updated>2019-12-10T16:09:29.183Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  <code>QTableWidget</code>è¡¨æ ¼ï¼Œç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨ï¼Œè¿™é‡Œå†™ä¸€ä¸ªç®€å•å°ä¾‹å­çš„ä½¿ç”¨ä»‹ç»å®ƒçš„åŸºæœ¬å±æ€§çš„ä½¿ç”¨</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_22-42-50_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103485154" target="_blank" rel="noopener">QTableWidgetè¡¨æ ¼ç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨</a></p></blockquote><br><h2 id="å¼€å‘ç¯å¢ƒï¼š"><a href="#å¼€å‘ç¯å¢ƒï¼š" class="headerlink" title="å¼€å‘ç¯å¢ƒï¼š"></a>å¼€å‘ç¯å¢ƒï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code></p><br><h2 id="QTableWidgetå±æ€§ï¼š"><a href="#QTableWidgetå±æ€§ï¼š" class="headerlink" title="QTableWidgetå±æ€§ï¼š"></a>QTableWidgetå±æ€§ï¼š</h2><p><code>QTableWidget</code>æ˜¯ <strong>è¡¨æ ¼ç»„ä»¶</strong> ï¼›å…¶å±äºæ˜¾ç¤ºçª—å£çš„æ§ä»¶ï¼Œåªæ˜¯å°†æ•°æ®ä»¥è¡¨æ ¼çš„å½¢å¼å±•ç¤ºå‡ºæ¥ï¼Œ </p><p>å…¶ä¸»è¦å±æ€§æ˜¯ï¼š</p><ul><li>rowè¡Œ</li></ul><p>è¡Œå·</p><ul><li>Columåˆ—</li></ul><p>åˆ—å·</p><ul><li>Itemé¡¹</li></ul><p><code>QTableWidgetItem</code>æ˜¯å…·ä½“çš„æŸä¸€ä¸ªé¡¹itemï¼Œå°±æ˜¯è¡¨æ ¼ä¸­é—´çš„å…·ä½“ä¸€ä¸ªé¡¹ï¼ˆå°é•¿æ–¹å—ï¼‰ï¼›è¿˜å¯ä»¥ç”¨æ¥å­˜å‚¨æ•°æ®ï¼ˆä½†æ˜¯åœ¨ç•Œé¢è¯¥æ•°æ®æ˜¯ä¸æ˜¾ç¤ºçš„ï¼‰ï¼Œæ¯ä¸€ä¸ªiteméƒ½å¯ä»¥å­˜å‚¨ä¸€ä¸ªè‡ªå·±çš„<code>QVariant</code>æ•°æ®ï¼›</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>æ¥ä¸€å¼ è¿è¡Œæ•ˆæœå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-12-08-22-56-38.gif"/><br><h2 id="æ ¸å¿ƒæºç è®²è§£ï¼š"><a href="#æ ¸å¿ƒæºç è®²è§£ï¼š" class="headerlink" title="æ ¸å¿ƒæºç è®²è§£ï¼š"></a>æ ¸å¿ƒæºç è®²è§£ï¼š</h2><p>å› ä¸ºè¿™ä¸ªæ§ä»¶å±äºæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æ­¤å¤„ç›´æ¥å°†éƒ¨åˆ†<strong>.h</strong>æºç è´´å‡ºæ¥:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQTableWidget</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">createItemsARow</span><span class="params">(<span class="keyword">int</span> row, QString name, QString sex, QDate birth, QString nation, <span class="keyword">int</span> score, <span class="keyword">bool</span> isAnime)</span></span>;   <span class="comment">//ä¸ºæŸä¸€è¡Œåˆ›å»ºitems</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnSetHeader_clicked</span><span class="params">()</span></span>;                      <span class="comment">//è®¾ç½®è¡¨å¤´</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnInitTable_clicked</span><span class="params">()</span></span>;                      <span class="comment">//åˆå§‹åŒ–æ•°æ®è¡¨</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnSetRow_clicked</span><span class="params">()</span></span>;                         <span class="comment">//è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnInsertRow_clicked</span><span class="params">()</span></span>;                      <span class="comment">//æ’å…¥è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAddRow_clicked</span><span class="params">()</span></span>;                         <span class="comment">//åœ¨æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnDelRow_clicked</span><span class="params">()</span></span>;                         <span class="comment">//åˆ é™¤å½“å‰è¡Œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAutoHeight_clicked</span><span class="params">()</span></span>;                     <span class="comment">//è‡ªåŠ¨è®¾ç½®è¡Œé«˜</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnAutoWidth_clicked</span><span class="params">()</span></span>;                      <span class="comment">//è‡ªåŠ¨è®¾ç½®åˆ—é«˜</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_btnReadToEdit_clicked</span><span class="params">()</span></span>;                     <span class="comment">//è¯»å–è¡¨æ ¼å†…å®¹åˆ°æ–‡æœ¬</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_chkBoxHeadEdit_clicked</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;        <span class="comment">//è¡¨æ ¼å¯ç¼–è¾‘æ¨¡å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_chkBoxRowColor_clicked</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;        <span class="comment">//é—´éš”è¡Œåº•è‰²</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_chkBoxHeadRow_clicked</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;         <span class="comment">//æ˜¾ç¤ºè¡Œè¡¨å¤´</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_chkBoxHeadCol_clicked</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;         <span class="comment">//æ˜¾ç¤ºåˆ—è¡¨å¤´</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_radioBtnSelectItem_clicked</span><span class="params">()</span></span>;                <span class="comment">//å•å…ƒæ ¼é€‰æ‹©</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_radioBtnSelectRow_clicked</span><span class="params">()</span></span>;                 <span class="comment">//è¡Œé€‰æ‹©</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_tableWidget_currentCellChanged</span><span class="params">(<span class="keyword">int</span> currentRow, <span class="keyword">int</span> currentColumn, <span class="keyword">int</span> previousRow, <span class="keyword">int</span> previousColumn)</span></span>;  <span class="comment">//è·å–å½“å‰itemå’Œå‰ä¸€ä¸ª(ç‚¹å‡»)itemçš„è¡Œåˆ—å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QLabel *m_labCellIndex;                              <span class="comment">//çŠ¶æ€æ ä¸Šç”¨æ¥æ˜¾ç¤ºå•å…ƒæ ¼çš„è¡Œå·ã€åˆ—å·</span></span><br><span class="line">    QLabel *m_labCellType;                               <span class="comment">//çŠ¶æ€æ ä¸Šç”¨æ¥æ˜¾ç¤ºå•å…ƒæ ¼çš„type</span></span><br><span class="line">    QLabel *m_labStudID;                                 <span class="comment">//çŠ¶æ€æ ä¸Šç”¨æ¥æ˜¾ç¤ºå•å…ƒæ ¼çš„å­¦å·</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…¶å¯¹åº”çš„<strong>.cpp</strong>æ–‡ä»¶ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br></pre></td><td class="code"><pre><span class="line">ExQTableWidget::ExQTableWidget(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExQTableWidget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setWindowTitle(QObject::tr(<span class="string">"QTableWidgetçš„è®²è§£å’Œä½¿ç”¨"</span>));</span><br><span class="line"></span><br><span class="line">    m_labCellIndex = <span class="keyword">new</span> QLabel(<span class="string">"å½“å‰å•å…ƒæ ¼åæ ‡ï¼š"</span>, <span class="keyword">this</span>);          <span class="comment">//çŠ¶æ€æ åˆå§‹åŒ–</span></span><br><span class="line">    m_labCellIndex-&gt;setMinimumWidth(<span class="number">250</span>);</span><br><span class="line">    m_labCellType = <span class="keyword">new</span> QLabel(<span class="string">"å½“å‰å•å…ƒæ ¼ç±»å‹ï¼š"</span>, <span class="keyword">this</span>);</span><br><span class="line">    m_labCellType-&gt;setMinimumWidth(<span class="number">200</span>);</span><br><span class="line">    m_labStudID = <span class="keyword">new</span> QLabel(<span class="string">"å­¦ç”ŸIDï¼š"</span>, <span class="keyword">this</span>);</span><br><span class="line">    m_labStudID-&gt;setMinimumWidth(<span class="number">200</span>);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labCellIndex);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labCellType);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labStudID);</span><br><span class="line">    ui-&gt;chkBoxHeadEdit-&gt;setChecked(Qt::Unchecked);</span><br><span class="line"></span><br><span class="line">    setCentralWidget(ui-&gt;splitter_2);</span><br><span class="line">    on_btnSetHeader_clicked();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸ºæŸä¸€è¡Œåˆ›å»ºitems</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::createItemsARow(<span class="keyword">int</span> row, QString name, QString sex, QDate birth, QString nation, <span class="keyword">int</span> score, <span class="keyword">bool</span> isAnime)</span><br><span class="line">&#123;</span><br><span class="line">    QTableWidgetItem* item = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">int</span> stunID = <span class="number">20190913</span>;</span><br><span class="line">    QString str = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(name, cellType::ctName);            <span class="comment">//åˆ›å»ºname åæ ‡ä¸º(0, 0)çš„item</span></span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);    <span class="comment">//æ–‡æœ¬æ˜¾ç¤ºå±…ä¸­</span></span><br><span class="line">    stunID += row;                                                  <span class="comment">//å­¦å· = åŸºæ•° + è¡Œå·</span></span><br><span class="line">    item-&gt;setData(Qt::UserRole, QVariant(stunID));                  <span class="comment">//è®¾ç½®stunIDä¸ºdata</span></span><br><span class="line">    ui-&gt;tableWidget-&gt;setItem(row, fieldColNum::colName, item);      <span class="comment">//æ’å…¥itemåˆ°tableWidgeté‡Œé¢</span></span><br><span class="line"></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(sex, cellType::ctSex);              <span class="comment">//æ€§åˆ«</span></span><br><span class="line">    QIcon icon;</span><br><span class="line">    <span class="keyword">if</span> (sex == <span class="string">"ç”·"</span>)</span><br><span class="line">        icon.addFile(<span class="string">":/images/Image002.ico"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        icon.addFile(<span class="string">":/images/Image003.ico"</span>);</span><br><span class="line">    item-&gt;setIcon(icon);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableWidget-&gt;setItem(row, fieldColNum::colSex, item);</span><br><span class="line"></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(birth.toString(<span class="string">"yyyy-MM-dd"</span>), cellType::ctBirth);<span class="comment">//å‡ºç”Ÿæ—¥æœŸ</span></span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableWidget-&gt;setItem(row, fieldColNum::colBirth, item);</span><br><span class="line"></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(nation, cellType::ctNation);          <span class="comment">//ç±è´¯</span></span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableWidget-&gt;setItem(row, fieldColNum::colNation, item);</span><br><span class="line"></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(str.setNum(score), cellType::ctScore);<span class="comment">//æˆç»©</span></span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    ui-&gt;tableWidget-&gt;setItem(row, fieldColNum::colScore, item);</span><br><span class="line"></span><br><span class="line">    item = <span class="keyword">new</span> QTableWidgetItem(<span class="string">"å–œæ¬¢"</span>, cellType::ctLikeAnime);       <span class="comment">//å–œæ¬¢äºŒæ¬¡å…ƒå¦?</span></span><br><span class="line">    <span class="keyword">if</span> (isAnime)</span><br><span class="line">        item-&gt;setCheckState(Qt::Checked);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        item-&gt;setCheckState(Qt::Unchecked);</span><br><span class="line">    item-&gt;setTextAlignment(Qt::AlignHCenter | Qt::AlignVCenter);</span><br><span class="line">    item-&gt;setBackgroundColor(Qt::gray);</span><br><span class="line">    ui-&gt;tableWidget-&gt;setItem(row, fieldColNum::colLikeAnime, item);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="comment">//è®¾ç½®è¡¨å¤´</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnSetHeader_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QTableWidgetItem* item = <span class="literal">nullptr</span>;</span><br><span class="line">    QStringList <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span> &lt;&lt; "å§“å" &lt;&lt; "æ€§åˆ«" &lt;&lt; "å‡ºç”Ÿæ—¥æœŸ" &lt;&lt; "ç±è´¯" &lt;&lt; "åˆ†æ•°" &lt;&lt; "æ˜¯å¦å–œæ¬¢äºŒæ¬¡å…ƒ";</span><br><span class="line"></span><br><span class="line">//    ui-&gt;tableWidget-&gt;setHorizontalHeaderLabels(<span class="built_in">list</span>);            <span class="comment">//åªæ˜¯åˆå§‹åŒ–è¡¨å¤´çš„æ¯ä¸€åˆ—çš„åå­—</span></span><br><span class="line">    ui-&gt;tableWidget-&gt;setColumnCount(<span class="built_in">list</span>.count());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ui-&gt;tableWidget-&gt;columnCount(); i++) &#123;</span><br><span class="line">        item = <span class="keyword">new</span> QTableWidgetItem(<span class="built_in">list</span>.at(i));                   <span class="comment">//åˆ›å»ºä¸€ä¸ªitem</span></span><br><span class="line">        QFont font;</span><br><span class="line">        font.setBold(<span class="literal">true</span>);</span><br><span class="line">        font.setPointSize(<span class="number">12</span>);</span><br><span class="line">        item-&gt;setFont(font);                                       <span class="comment">//è®¾ç½®itemçš„å­—ä½“ï¼Œé¢œè‰²ï¼Œç²—ä½“ï¼Œå¤§å°</span></span><br><span class="line">        item-&gt;setTextColor(Qt::red);</span><br><span class="line">        ui-&gt;tableWidget-&gt;setHorizontalHeaderItem(i, item);         <span class="comment">//æ·»åŠ itemåˆ°tableWidget</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æ•°æ®è¡¨</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnInitTable_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QTime time;</span><br><span class="line">    time = QTime::currentTime();</span><br><span class="line">    qsrand(<span class="keyword">static_cast</span>&lt;uint&gt;(time.msec() + time.second() * <span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">    QString name = <span class="string">"å­¦ç”Ÿ"</span>;</span><br><span class="line">    QString sex = <span class="string">"ä¿å¯†"</span>;</span><br><span class="line">    <span class="function">QDate <span class="title">birth</span><span class="params">(<span class="number">2019</span>, <span class="number">9</span>, <span class="number">12</span>)</span></span>;</span><br><span class="line">    QString nation = <span class="string">"æ­¦æ±‰"</span>;</span><br><span class="line">    <span class="keyword">int</span> score = <span class="number">87</span>;</span><br><span class="line">    <span class="keyword">bool</span> isAnime = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    ui-&gt;tableWidget-&gt;clearContents();                              <span class="comment">//æ¸…é™¤å·¥ä½œåŒºï¼Œä¸æ¸…é™¤è¡¨å¤´</span></span><br><span class="line">    <span class="keyword">int</span> row = ui-&gt;tableWidget-&gt;rowCount();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;                                <span class="comment">//åˆå§‹åŒ–ä¸€è¡Œè¡Œçš„æ•°æ®</span></span><br><span class="line">        name = <span class="string">"å­¦ç”Ÿ"</span>;</span><br><span class="line">        name += QString::number(i);</span><br><span class="line">        <span class="keyword">int</span> n  = qrand() % <span class="number">2</span>;                                      <span class="comment">//äº§ç”Ÿéšæœºæ•°å°äº2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">            sex = <span class="string">"ç”·"</span>;</span><br><span class="line">            isAnime = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            sex = <span class="string">"å¥³"</span>;</span><br><span class="line">            isAnime = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        score += <span class="number">10</span>;</span><br><span class="line">        birth = birth.addDays(<span class="number">30</span>);</span><br><span class="line">        createItemsARow(i, name, sex, birth, nation, score, isAnime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®è¡¨æ ¼çš„è¡Œæ•°</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnSetRow_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> n = ui-&gt;spinBoxRow-&gt;value();</span><br><span class="line">    ui-&gt;tableWidget-&gt;setRowCount(n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’å…¥è¡Œ</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnInsertRow_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> currRow = ui-&gt;tableWidget-&gt;currentRow();</span><br><span class="line">    ui-&gt;tableWidget-&gt;insertRow(currRow);                           <span class="comment">//æ’å…¥ä¸€è¡Œï¼Œä¸ä¼šè‡ªåŠ¨ä¸ºå•å…ƒæ ¼åˆ›å»ºitem</span></span><br><span class="line">    createItemsARow(currRow, <span class="string">"æ’å…¥å­¦ç”Ÿ"</span>, <span class="string">"å¥³"</span>, QDate(<span class="number">2020</span>, <span class="number">07</span>, <span class="number">17</span>), <span class="string">"æ¥šå›½"</span>, <span class="number">87</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨æœ€åä¸€è¡Œæ·»åŠ ä¸€è¡Œ</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnAddRow_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> row = ui-&gt;tableWidget-&gt;rowCount();</span><br><span class="line">     ui-&gt;tableWidget-&gt;insertRow(row);</span><br><span class="line">    createItemsARow(row, <span class="string">"æ·»åŠ å­¦ç”Ÿ"</span>, <span class="string">"å¥³"</span>, QDate(<span class="number">2021</span>, <span class="number">07</span>, <span class="number">17</span>), <span class="string">"å”æœ"</span>, <span class="number">93</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤å½“å‰è¡Œ</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnDelRow_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> currRow = ui-&gt;tableWidget-&gt;currentRow();</span><br><span class="line">    ui-&gt;tableWidget-&gt;removeRow(currRow);                           <span class="comment">//åˆ é™¤å½“å‰è¡Œä»¥åŠå…¶ä»–items</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªåŠ¨è®¾ç½®è¡Œé«˜</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnAutoHeight_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;resizeRowsToContents();                       <span class="comment">//è‡ªåŠ¨è°ƒæ•´æ‰€æœ‰è¡Œçš„å†…å®¹ï¼Œä»¥é€‚åº”å†…å®¹é«˜åº¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªåŠ¨è®¾ç½®åˆ—é«˜</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnAutoWidth_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;resizeColumnsToContents();                    <span class="comment">//è‡ªåŠ¨è°ƒæ•´æ‰€æœ‰åˆ—çš„å†…å®¹ï¼Œä»¥é€‚åº”å†…å®¹å®½åº¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–è¡¨æ ¼å†…å®¹åˆ°æ–‡æœ¬</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_btnReadToEdit_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    QTableWidgetItem* item = <span class="literal">nullptr</span>;</span><br><span class="line">    QString str = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ui-&gt;tableWidget-&gt;rowCount(); i++) &#123;</span><br><span class="line">        str = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ui-&gt;tableWidget-&gt;columnCount() - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            item = ui-&gt;tableWidget-&gt;item(i, j);</span><br><span class="line">            str += item-&gt;text() + <span class="string">"  "</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        item = ui-&gt;tableWidget-&gt;item(i, fieldColNum::colLikeAnime);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item-&gt;checkState() == Qt::Checked)</span><br><span class="line">            str += <span class="string">"å–œæ¬¢äºŒæ¬¡å…ƒ"</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            str += <span class="string">"ä¸å–œæ¬¢äºŒæ¬¡å…ƒ"</span>;</span><br><span class="line"></span><br><span class="line">        ui-&gt;plainTextEdit-&gt;appendPlainText(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡¨æ ¼å¯ç¼–è¾‘æ¨¡å¼</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_chkBoxHeadEdit_clicked(<span class="keyword">bool</span> checked)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (checked)</span><br><span class="line">        ui-&gt;tableWidget-&gt;setEditTriggers(QAbstractItemView::DoubleClicked | QAbstractItemView::SelectedClicked);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ui-&gt;tableWidget-&gt;setEditTriggers(QAbstractItemView::DoubleClicked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é—´éš”è¡Œåº•è‰²</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_chkBoxRowColor_clicked(<span class="keyword">bool</span> checked)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;setAlternatingRowColors(checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¾ç¤ºè¡Œè¡¨å¤´</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_chkBoxHeadRow_clicked(<span class="keyword">bool</span> checked)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;horizontalHeader()-&gt;setVisible(checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¾ç¤ºåˆ—è¡¨å¤´</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_chkBoxHeadCol_clicked(<span class="keyword">bool</span> checked)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;verticalHeader()-&gt;setVisible(checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å•å…ƒæ ¼é€‰æ‹©</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_radioBtnSelectItem_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectItems);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¡Œé€‰æ‹©</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_radioBtnSelectRow_clicked()</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;tableWidget-&gt;setSelectionBehavior(QAbstractItemView::SelectRows);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–å½“å‰itemå’Œå‰ä¸€ä¸ª(ç‚¹å‡»)itemçš„è¡Œåˆ—å·</span></span><br><span class="line"><span class="keyword">void</span> ExQTableWidget::on_tableWidget_currentCellChanged(<span class="keyword">int</span> currentRow, <span class="keyword">int</span> currentColumn, <span class="keyword">int</span> previousRow, <span class="keyword">int</span> previousColumn)</span><br><span class="line">&#123;</span><br><span class="line">    m_labCellIndex-&gt;setText(<span class="string">"å½“å‰å•å…ƒæ ¼åæ ‡ï¼š["</span> + QString::number(currentRow) + <span class="string">"è¡Œ, "</span> + QString::number(currentColumn) + <span class="string">"åˆ—]"</span>);</span><br><span class="line">    QTableWidgetItem* item = ui-&gt;tableWidget-&gt;item(currentRow, currentColumn);</span><br><span class="line">    <span class="keyword">int</span> type = item-&gt;type();</span><br><span class="line">    m_labCellType-&gt;setText(<span class="string">"å½“å‰å•å…ƒæ ¼ç±»å‹ï¼š"</span> + QString::number(type));</span><br><span class="line">    QTableWidgetItem* item2 = ui-&gt;tableWidget-&gt;item(currentRow, fieldColNum::colName);</span><br><span class="line">    m_labStudID-&gt;setText(<span class="string">"å­¦ç”ŸIDï¼š"</span> + item2-&gt;data(Qt::UserRole).toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtQTableWidgetExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  &lt;code&gt;QTableWidget&lt;/code&gt;è¡¨æ ¼ï¼Œç»„ä»¶çš„å±æ€§ä»‹ç»å’Œä½¿ç”¨ï¼Œè¿™é‡Œå†™ä¸€ä¸ªç®€å•å°ä¾‹å­çš„ä½¿ç”¨ä»‹ç»å®ƒçš„åŸºæœ¬å±æ€§çš„ä½¿ç”¨&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_22-42-50_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>ç›®å½•æ ‘ç»„ä»¶QTreeWidgetå’Œåœé åŒºåŸŸç»„ä»¶QDockWidgetçš„ç”¨æ³•</title>
    <link href="http://yoursite.com/2019/12/10/%E7%9B%AE%E5%BD%95%E6%A0%91%E7%BB%84%E4%BB%B6QTreeWidget%E5%92%8C%E5%81%9C%E9%9D%A0%E5%8C%BA%E5%9F%9F%E7%BB%84%E4%BB%B6QDockWidget%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <id>http://yoursite.com/2019/12/10/ç›®å½•æ ‘ç»„ä»¶QTreeWidgetå’Œåœé åŒºåŸŸç»„ä»¶QDockWidgetçš„ç”¨æ³•/</id>
    <published>2019-12-09T16:13:34.000Z</published>
    <updated>2019-12-09T16:16:40.895Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  ç›®å½•æ ‘ç»„ä»¶<code>QTreeWidget</code>å’Œåœé åŒºåŸŸç»„ä»¶<code>QDockWidget</code>çš„å’Œ<code>QScrollArea</code>ç”¨æ³•ï¼›ç„¶åå†™çš„ä¸€ä¸ªå°çš„ç›¸å†ŒæŸ¥çœ‹å™¨ä¾‹å­</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_18-38-19_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103467757" target="_blank" rel="noopener">ç›®å½•æ ‘ç»„ä»¶QTreeWidgetå’Œåœé åŒºåŸŸç»„ä»¶QDockWidgetçš„ç”¨æ³•</a></p></blockquote><br><h2 id="QTreeWidgetç»„ä»¶ï¼š"><a href="#QTreeWidgetç»„ä»¶ï¼š" class="headerlink" title="QTreeWidgetç»„ä»¶ï¼š"></a>QTreeWidgetç»„ä»¶ï¼š</h2><p><code>QTreeWidget</code>æ˜¯ <strong>ç›®å½•æ ‘ç»„ä»¶</strong> æ§ä»¶ï¼Œç”¨æ¥åˆ›å»ºå’Œç®¡ç†æ ‘å½¢ç»“æ„çš„ç±»çš„</p><br><h2 id="QDockWidgetç»„ä»¶ï¼š"><a href="#QDockWidgetç»„ä»¶ï¼š" class="headerlink" title="QDockWidgetç»„ä»¶ï¼š"></a>QDockWidgetç»„ä»¶ï¼š</h2><p><code>QDockWidget</code>æ˜¯å¯ä»¥åœ¨<code>QMainWindow</code>çª—å£åœé ï¼Œæˆ–è€…åœ¨æ¡Œé¢æœ€ä¸Šå±‚æµ®åŠ¨çš„ç•Œé¢ç»„ä»¶ï¼›åœ¨æœ¬æ–‡é‡Œé¢çš„ä¾‹å­é‡Œé¢ï¼Œå°†<code>QTreeWidget</code>æ§ä»¶å­˜æ”¾åœ¨<code>QDockWidget</code>ä¸Šé¢ï¼Œè®¾ç½®å…¶å¯ä»¥åœ¨ä¸»çª—å£çš„å·¦æˆ–å³ä¾§ï¼Œä¹Ÿæ˜¯å¯ä»¥æµ®åŠ¨çš„ï¼Œè¿˜å¯ä»¥æµ®åŠ¨ï¼›è¿˜å¯ä»¥è®¾ç½®å…¶ä¸ºéšè—/æ˜¾ç¤ºä¸æ˜¾ç¤ºçª—ä½“çš„æ•ˆæœ</p><h3 id="allowedAreaså±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ"><a href="#allowedAreaså±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ" class="headerlink" title="allowedAreaså±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ"></a><strong>allowedAreas</strong>å±æ€§ï¼Œè®¾ç½®å…è®¸åœé åŒºåŸŸ</h3><p>ä½¿ç”¨setAllowedAreas()è®¾ç½®å…è®¸åœé åŒºåŸŸï¼ˆä¸Šä¸‹å·¦å³çš„åŒºåŸŸï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_21-58-56_mark.png"/><h3 id="featå±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§"><a href="#featå±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§" class="headerlink" title="featå±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§"></a><strong>feat</strong>å±æ€§ï¼Œè®¾ç½®åœé åŒºç»„ä»¶çš„ç‰¹æ€§</h3><p>ç”±<code>setFeatures()</code>å‡½æ•°æ¥è®¾ç½®åœé åŒºåŸŸç»„ä»¶çš„ç‰¹æ€§ï¼Œå…¶å‚æ•°æ˜¯å¦‚ä¸‹çš„æšä¸¾ç±»å‹çš„ç»„åˆå€¼çš„ä½¿ç”¨</p><table><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td>QDockWidget::DockWidgetClosable</td><td>åœé åŒºåŸŸå¯å…³é—­</td></tr><tr><td>QDockWidget::DockWidgetMovable</td><td>åœé åŒºåŸŸå¯ç§»åŠ¨</td></tr><tr><td>QDockWidget::DockWidgetFloatable</td><td>åœé åŒºåŸŸå¯æµ®åŠ¨</td></tr><tr><td>QDockWidget::DockWidgetVerticalTitleBar</td><td>åœ¨åœé åŒºåŸŸå·¦ä¾§æ˜¾ç¤ºå‚ç›´æ ‡é¢˜æ </td></tr><tr><td>QDockWidget::AllDockWidgetFeatures</td><td>ä½¿ç”¨ä»¥ä¸Šæ‰€æœ‰ç‰¹å¾</td></tr><tr><td>QDockWidget::NoDockWidgetFeatures</td><td>ä¸èƒ½åœé ï¼Œç§»åŠ¨å’Œå…³é—­</td></tr></tbody></table><br><h2 id="QScrollAreaç»„ä»¶ï¼š"><a href="#QScrollAreaç»„ä»¶ï¼š" class="headerlink" title="QScrollAreaç»„ä»¶ï¼š"></a>QScrollAreaç»„ä»¶ï¼š</h2><p><code>QScrollArea</code>æ˜¯ä¸€ä¸ª<strong>è‡ªåŠ¨æ»šåŒºåŸŸç»„ä»¶</strong>çš„æ§ä»¶ï¼Œå¯ä»¥ç”¨æ¥å®ç°æœ‰æ¯”è¾ƒé•¿çš„æ˜¾ç¤ºå†…å®¹ã€‚</p><br><h2 id="è¿è¡Œæ•ˆæœï¼š"><a href="#è¿è¡Œæ•ˆæœï¼š" class="headerlink" title="è¿è¡Œæ•ˆæœï¼š"></a>è¿è¡Œæ•ˆæœï¼š</h2><p>è¿™ç§<code>gif</code>å½•åˆ¶äº†ä¸€ä¸‹åˆï¼ˆNå¤šæ¬¡ï¼Œå°±æ˜¯æ²¡æœ‰ç‰¹åˆ«æ»¡æ„ï¼Œè¦ä¹ˆå¤ªå¤§è¦ä¹ˆä¸æ¸…æ™°ï¼‰ï¼Œä½†æ˜¯<code>gif</code>å¥½åƒå½•åˆ¶çš„å¹¶ä¸ç®—å¤ªå¥½ï¼Œå½•åˆ¶è¿™å¼ å›¾ï¼Œä½†æ˜¯æ€»æ˜¯ä½“ç§¯å¤ªå¤§æˆ–è€…ä¸æ¸…æ™°ï¼Œåœ¨<code>mac</code>ä¸Šé¢æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°æ¯”è¾ƒå¥½çš„å½•åˆ¶å’Œå‹ç¼©<strong>gif</strong>çš„è½¯ä»¶æ¥ä»£æ›¿<code>win10</code>ä¸Šé¢çš„(<strong>ScreenGif</strong>  + <strong>FSREsizer</strong> + <strong>FSCapture</strong>)è¿™ä¸‰ä¸ªè½¯ä»¶ï¼Œæœ‰åˆé€‚çš„è¯ï¼Œå¯ä»¥çŸ¥é“çš„å¯ä»¥ç•™è¨€æ¨èä¸€ä¸‹ï¼Œåˆé€‚å’Œå½•gifå·¥å…·ä¹Ÿåœ¨å°è¯•ä¸­ï¼›</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-12-08-17.27.31.gif"/><br><h2 id="å®ç°ä»£ç ï¼š"><a href="#å®ç°ä»£ç ï¼š" class="headerlink" title="å®ç°ä»£ç ï¼š"></a>å®ç°ä»£ç ï¼š</h2><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>   <strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.9.8</code>ï¼Œ <code>Qt Creator 4.8.2</code>;</p><p>åœ¨<strong>.h</strong>å¤´æ–‡ä»¶é‡Œé¢ï¼Œå®ç°ééƒ¨åˆ†ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> EXQTREEWIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXQTREEWIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QTreeWidgetItem&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QFileDialog&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQTreeWidget</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExQTreeWidget</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">enum</span> treeItemType &#123;         <span class="comment">//æšä¸¾ï¼ŒèŠ‚ç‚¹ç±»å‹</span></span><br><span class="line">        itemRoot,</span><br><span class="line">        itemFile,</span><br><span class="line">        itemImage</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">enum</span> treeColNum &#123;           <span class="comment">//ç›®å½•æ ‘åˆ—è¡¨çš„ç¼–å·</span></span><br><span class="line">        colItem = <span class="number">0</span>,</span><br><span class="line">        colItemType = <span class="number">1</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">ExQTreeWidget</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~ExQTreeWidget();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initTree</span><span class="params">()</span></span>;                                                <span class="comment">//åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ï¼ˆå”¯ä¸€ï¼‰</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addFolderItem</span><span class="params">(QTreeWidgetItem *parItem, QString dirName)</span></span>;  <span class="comment">//æ·»åŠ ç›®å½•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addImageItem</span><span class="params">(QTreeWidgetItem *parItem, QString fileName)</span></span>;  <span class="comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">    <span class="function">QString <span class="title">getFinalFolderName</span><span class="params">(<span class="keyword">const</span> QString &amp;pathName)</span></span>;            <span class="comment">//ä»å®Œæ•´çš„è·¯å¾„é‡Œé¢ï¼Œè·å–æœ€åçš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeItemCaption</span><span class="params">(QTreeWidgetItem* parItem)</span></span>;               <span class="comment">//éå†itemä¸‹é¢çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displayImage</span><span class="params">(QTreeWidgetItem* item)</span></span>;                       <span class="comment">//æ˜¾ç¤ºå½“å‰itemçš„å›¾ç‰‡ï¼ˆé»˜è®¤ä»¥é€‚é…é«˜åº¦ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAddFolder_triggered</span><span class="params">()</span></span>;                               <span class="comment">//å¢åŠ æ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAddFile_triggered</span><span class="params">()</span></span>;                                 <span class="comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actDeleFile_triggered</span><span class="params">()</span></span>;                                <span class="comment">//åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actScanItems_triggered</span><span class="params">()</span></span>;                               <span class="comment">//éå†æ‰€æœ‰çš„é¡¶å±‚èŠ‚ç‚¹(æœ¬å¤„åªæœ‰ä¸€ä¸ªrooté¡¶å±‚èŠ‚ç‚¹)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAdaptiveHeight_triggered</span><span class="params">()</span></span>;                          <span class="comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”é«˜åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAdaptiveWidth_triggered</span><span class="params">()</span></span>;                           <span class="comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”å®½åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actAmplification_triggered</span><span class="params">()</span></span>;                           <span class="comment">//æ”¾å¤§</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actShrink_triggered</span><span class="params">()</span></span>;                                  <span class="comment">//ç¼©å°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actZoomRealSize_triggered</span><span class="params">()</span></span>;                            <span class="comment">//è¿˜åŸ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actDockFloating_triggered</span><span class="params">(<span class="keyword">bool</span> check)</span></span>;                  <span class="comment">//è®¾ç½®Dockçª—å£æ˜¯å¦æµ®åŠ¨</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actDockVisible_triggered</span><span class="params">(<span class="keyword">bool</span> checked)</span></span>;                 <span class="comment">//è®¾ç½®Dockçª—å£æ˜¯å¦éšè—ä¸æ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actQiut_triggered</span><span class="params">()</span></span>;                                    <span class="comment">//é€€å‡º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_treeFiles_currentItemChanged</span><span class="params">(QTreeWidgetItem *current, QTreeWidgetItem *previous)</span></span>;  <span class="comment">//å½“å‰èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å½“å‰å›¾ç‰‡</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_dockWidget_visibilityChanged</span><span class="params">(<span class="keyword">bool</span> visible)</span></span>;             <span class="comment">//å•å‡»DockWidgetç»„ä»¶çš„æ ‡é¢˜æ çš„å…³é—­æŒ‰é’®æ—¶å€™ï¼Œä¼šéšè—åœ¨åœé åŒºåŸŸï¼Œå¹¶ä¸”å‘å°„ä¿¡å·visibilityChanged;  åœé åŒºåŸŸå¯è§æ€§å˜åŒ–</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_dockWidget_topLevelChanged</span><span class="params">(<span class="keyword">bool</span> topLevel)</span></span>;              <span class="comment">//å½“æ‹–åŠ¨DockWidgetç»„ä»¶ï¼Œä½¿å…¶æµ®åŠ¨æˆ–è€…åœé æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·topLevelChanged;  æ›´æ–°å…¶Actionçš„çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::ExQTreeWidget *ui;</span><br><span class="line"></span><br><span class="line">    QLabel *m_labFlie;      <span class="comment">//çŠ¶æ€æ æ˜¾ç¤ºå½“å‰æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">    QPixmap m_curPixmap;    <span class="comment">//æ˜¾ç¤ºå½“å‰æ–‡ä»¶å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">float</span>   m_ratio;        <span class="comment">//å›¾ç‰‡ç¼©æ”¾æ¯”ä¾‹</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// EXQTREEWIDGET_H</span></span></span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„<strong>.cpp</strong>æ–‡ä»¶ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ExQTreeWidget.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ui_ExQTreeWidget.h"</span></span></span><br><span class="line"></span><br><span class="line">ExQTreeWidget::ExQTreeWidget(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent),</span><br><span class="line">    ui(<span class="keyword">new</span> Ui::ExQTreeWidget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;setupUi(<span class="keyword">this</span>);</span><br><span class="line">    setWindowTitle(QObject::tr(<span class="string">"QTreeWidgetå’ŒQDockWidgetçš„è®²è§£å’Œä½¿ç”¨"</span>));</span><br><span class="line"></span><br><span class="line">    setCentralWidget(ui-&gt;scrollArea);                <span class="comment">//è®¾ç½®scrollAreaä¸ºä¸­å¿ƒæ§ä»¶</span></span><br><span class="line">    initTree();</span><br><span class="line"></span><br><span class="line">    m_labFlie = <span class="keyword">new</span> QLabel(<span class="string">"å½“å‰æ–‡ä»¶çš„è·¯å¾„:"</span>, <span class="keyword">this</span>);</span><br><span class="line">    ui-&gt;statusBar-&gt;addWidget(m_labFlie);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ExQTreeWidget::~ExQTreeWidget()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ï¼ˆåªèƒ½å¤Ÿæœ‰å”¯ä¸€ï¼‰</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::initTree()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å‡†å¤‡å·¥ä½œ</span></span><br><span class="line">    ui-&gt;treeFiles-&gt;clear();</span><br><span class="line">    QString dataStr = <span class="string">""</span>;</span><br><span class="line">    QIcon icon;</span><br><span class="line">    icon.addFile(<span class="string">":/image/Image001.jpg"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºå”¯ä¸€rootçš„èŠ‚ç‚¹</span></span><br><span class="line">    QTreeWidgetItem* root = <span class="keyword">new</span> QTreeWidgetItem(treeItemType::itemRoot);</span><br><span class="line">    root-&gt;setIcon(treeColNum::colItem, icon);</span><br><span class="line">    root-&gt;setText(treeColNum::colItem, QString(<span class="string">"ç›¸ç°¿"</span>));</span><br><span class="line">    root-&gt;setText(treeColNum::colItemType, QString(<span class="string">"treeItemType"</span>));</span><br><span class="line">    root-&gt;setFlags(Qt::ItemIsSelectable | Qt::ItemIsUserCheckable | Qt::ItemIsEnabled | Qt::ItemIsAutoTristate);</span><br><span class="line">    root-&gt;setCheckState(treeColNum::colItem, Qt::Unchecked);</span><br><span class="line">    root-&gt;setData(treeColNum::colItem, Qt::UserRole, QVariant(dataStr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ é¡¶å±‚èŠ‚ç‚¹</span></span><br><span class="line">    ui-&gt;treeFiles-&gt;addTopLevelItem(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ ç›®å½•èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::addFolderItem(QTreeWidgetItem *parItem, QString dirName)</span><br><span class="line">&#123;</span><br><span class="line">    QIcon icon;</span><br><span class="line">    icon.addFile(<span class="string">":/image/Image006.jpg"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line">    QTreeWidgetItem* item = <span class="keyword">new</span> QTreeWidgetItem(treeItemType::itemFile);</span><br><span class="line">    QString folderName = getFinalFolderName(dirName);</span><br><span class="line">    item-&gt;setIcon(treeColNum::colItem, icon);</span><br><span class="line">    item-&gt;setText(treeColNum::colItem, folderName);</span><br><span class="line">    item-&gt;setText(treeColNum::colItemType, QString(<span class="string">"treeItemType"</span>));</span><br><span class="line">    item-&gt;setFlags(Qt::ItemIsSelectable | Qt::ItemIsUserCheckable | Qt::ItemIsEnabled | Qt::ItemIsAutoTristate);</span><br><span class="line">    item-&gt;setCheckState(treeColNum::colItem, Qt::Unchecked);</span><br><span class="line">    item-&gt;setData(treeColNum::colItem, Qt::UserRole, QVariant(dirName));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (parItem-&gt;type() == treeItemType::itemFile) &#123;                 <span class="comment">//è‹¥æ˜¯æ–‡ä»¶èŠ‚ç‚¹</span></span><br><span class="line">        parItem-&gt;addChild(item);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (parItem-&gt;type() == treeItemType::itemRoot) &#123;          <span class="comment">//è‹¥æ˜¯å”¯ä¸€rootèŠ‚ç‚¹</span></span><br><span class="line">        QTreeWidgetItem *root = ui-&gt;treeFiles-&gt;topLevelItem(<span class="number">0</span>);</span><br><span class="line">        root-&gt;addChild(item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å›¾ç‰‡èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::addImageItem(QTreeWidgetItem *parItem, QString fileName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (parItem == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    QIcon icon;</span><br><span class="line">    icon.addFile(<span class="string">":/image/Image014.jpg"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line">    QTreeWidgetItem* item = <span class="keyword">new</span> QTreeWidgetItem(treeItemType::itemImage);</span><br><span class="line">    QString folderName = getFinalFolderName(fileName);</span><br><span class="line">    item-&gt;setIcon(treeColNum::colItem, icon);</span><br><span class="line">    item-&gt;setText(treeColNum::colItem, folderName);</span><br><span class="line">    item-&gt;setText(treeColNum::colItemType, QString(<span class="string">"treeItemType"</span>));</span><br><span class="line">    item-&gt;setFlags(Qt::ItemIsSelectable | Qt::ItemIsUserCheckable | Qt::ItemIsEnabled | Qt::ItemIsAutoTristate);</span><br><span class="line">    item-&gt;setCheckState(treeColNum::colItem, Qt::Unchecked);</span><br><span class="line">    item-&gt;setData(treeColNum::colItem, Qt::UserRole, QVariant(fileName));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (parItem-&gt;type() == treeItemType::itemFile) &#123;                 <span class="comment">//è‹¥æ˜¯æ–‡ä»¶èŠ‚ç‚¹</span></span><br><span class="line">        parItem-&gt;addChild(item);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (parItem-&gt;type() == treeItemType::itemRoot) &#123;          <span class="comment">//è‹¥æ˜¯å”¯ä¸€rootèŠ‚ç‚¹</span></span><br><span class="line">        QTreeWidgetItem *root = ui-&gt;treeFiles-&gt;topLevelItem(<span class="number">0</span>);</span><br><span class="line">        root-&gt;addChild(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»å®Œæ•´çš„è·¯å¾„é‡Œé¢ï¼Œè·å–æœ€åçš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class="line">QString ExQTreeWidget::getFinalFolderName(<span class="keyword">const</span> QString &amp;pathName)</span><br><span class="line">&#123;</span><br><span class="line">    QString path = pathName;</span><br><span class="line">    <span class="keyword">int</span> cnt = pathName.count();</span><br><span class="line">    <span class="keyword">int</span> i = pathName.lastIndexOf(<span class="string">"/"</span>);</span><br><span class="line">    QString str = pathName.right(cnt - i - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†ä¼ è¿›æ¥çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼›æ¯éå†è¿‡è¯¥èŠ‚ç‚¹ï¼Œå°±åœ¨å…¶èŠ‚ç‚¹çš„ä¿¡æ¯åŠ ä¸€ä¸ª#</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::changeItemCaption(QTreeWidgetItem *parItem)</span><br><span class="line">&#123;</span><br><span class="line">    QString str = <span class="string">"# "</span> + parItem-&gt;text(treeColNum::colItem);</span><br><span class="line">    parItem-&gt;setText(treeColNum::colItem, str);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (parItem-&gt;childCount() &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; parItem-&gt;childCount(); i++) &#123;</span><br><span class="line">        changeItemCaption(parItem-&gt;child(i));                       <span class="comment">//å›è°ƒï¼Œè°ƒç”¨è‡ªå·±</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¾ç¤ºå½“å‰itemçš„å›¾ç‰‡ï¼ˆé»˜è®¤ä»¥é€‚é…é«˜åº¦ï¼‰</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::displayImage(QTreeWidgetItem *item)</span><br><span class="line">&#123;</span><br><span class="line">    QString fileName = item-&gt;data(treeColNum::colItem, Qt::UserRole).toString();</span><br><span class="line">    m_labFlie-&gt;setText(fileName);</span><br><span class="line">    m_curPixmap.load(fileName);                                     <span class="comment">//ä»æ–‡ä»¶è½½å…¥å›¾ç‰‡</span></span><br><span class="line">    on_actAdaptiveHeight_triggered();                               <span class="comment">//è‡ªåŠ¨é€‚åº”é«˜åº¦æ˜¾ç¤º</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;actAmplification-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actShrink-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actZoomRealSize-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actAdaptiveHeight-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">    ui-&gt;actAdaptiveWidth-&gt;setEnabled(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="comment">//å¢åŠ æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actAddFolder_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QString path = QFileDialog::getExistingDirectory();             <span class="comment">//é€‰æ‹©ç›®å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (! path.isEmpty()) &#123;</span><br><span class="line">        QTreeWidgetItem* item = ui-&gt;treeFiles-&gt;currentItem();       <span class="comment">//è·å–å½“å‰èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(item != <span class="literal">nullptr</span>)</span><br><span class="line">            addFolderItem(item, path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actAddFile_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QStringList <span class="built_in">list</span> = QFileDialog::getOpenFileNames(<span class="keyword">this</span>, <span class="string">"é€‰æ‹©å¤šä¸ªå°†è¦åŠ è½½çš„å›¾ç‰‡"</span>, <span class="string">""</span>, <span class="string">"Images(*.jpg, *.png, *.*)"</span>);         <span class="comment">//é€‰æ‹©ç›®å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (! <span class="built_in">list</span>.isEmpty()) &#123;</span><br><span class="line">        QTreeWidgetItem* parItem = <span class="literal">nullptr</span>;</span><br><span class="line">        QTreeWidgetItem* item = ui-&gt;treeFiles-&gt;currentItem();       <span class="comment">//è·å–å½“å‰èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item == <span class="literal">nullptr</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item-&gt;type() == treeItemType::itemImage) &#123;              <span class="comment">//è·å¾—çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">            parItem = item-&gt;parent();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            parItem = item;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">list</span>.size(); i++) &#123;</span><br><span class="line">            QString strName = <span class="built_in">list</span>.at(i);                          <span class="comment">//è·å¾—æ–‡ä»¶åç§°</span></span><br><span class="line">            addImageItem(parItem, strName);                        <span class="comment">//æ·»åŠ å›¾ç‰‡æ–‡ä»¶åˆ°æ–‡ä»¶èŠ‚ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actDeleFile_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    QTreeWidgetItem* parItem = <span class="literal">nullptr</span>;</span><br><span class="line">    QTreeWidgetItem* currItem = ui-&gt;treeFiles-&gt;currentItem();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currItem-&gt;type() != treeItemType::itemRoot)</span><br><span class="line">        parItem = currItem-&gt;parent();                              <span class="comment">//åªèƒ½å¤Ÿç”±å…¶çˆ¶èŠ‚ç‚¹åˆ é™¤</span></span><br><span class="line"><span class="comment">//    else</span></span><br><span class="line"><span class="comment">//        ui-&gt;treeFiles-&gt;takeTopLevelItem(0);                      //åˆ é™¤é¡¶å±‚èŠ‚ç‚¹ä½¿ç”¨è¿™ä¸ª</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currItem == <span class="literal">nullptr</span> || parItem == <span class="literal">nullptr</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    parItem-&gt;removeChild(currItem);                                <span class="comment">//ç§»é™¤æ²¡æœ‰ä»å†…å­˜ä¸­åˆ é™¤ï¼Œæ‰€ä»¥deleteåˆ é™¤</span></span><br><span class="line">    <span class="keyword">delete</span> currItem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†æ‰€æœ‰çš„é¡¶å±‚èŠ‚ç‚¹(æœ¬å¤„åªæœ‰ä¸€ä¸ªrooté¡¶å±‚èŠ‚ç‚¹)</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actScanItems_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ui-&gt;treeFiles-&gt;topLevelItemCount(); i++) &#123;</span><br><span class="line">        QTreeWidgetItem* currItem = ui-&gt;treeFiles-&gt;topLevelItem(i); <span class="comment">//é¡¶å±‚item</span></span><br><span class="line">        changeItemCaption(currItem);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”é«˜åº¦</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actAdaptiveHeight_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> height = ui-&gt;scrollArea-&gt;height();                        <span class="comment">//å¾—åˆ°scrollAreaçš„é«˜åº¦</span></span><br><span class="line">    <span class="keyword">int</span> realHeight = m_curPixmap.height();                        <span class="comment">//åŸå§‹å›¾ç‰‡çš„å®é™…é«˜åº¦</span></span><br><span class="line">    m_ratio = height * <span class="number">1.0</span> / realHeight;                          <span class="comment">//å½“å‰æ˜¾ç¤ºæ¯”ä¾‹ï¼Œå¿…é¡»è½¬æ¢ä¸ºæµ®ç‚¹æ•°</span></span><br><span class="line"></span><br><span class="line">    QPixmap pixmap = m_curPixmap.scaledToHeight(height - <span class="number">50</span>);     <span class="comment">//å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šé«˜åº¦</span></span><br><span class="line">    ui-&gt;labDisplay-&gt;setPixmap(pixmap);                            <span class="comment">//è®¾ç½®Labelçš„PixMap</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾ç‰‡è‡ªåŠ¨é€‚åº”å®½åº¦</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actAdaptiveWidth_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> width = ui-&gt;scrollArea-&gt;width();</span><br><span class="line">    <span class="keyword">int</span> realWidth = m_curPixmap.width();</span><br><span class="line">    m_ratio = width * <span class="number">1.0</span> / realWidth;</span><br><span class="line"></span><br><span class="line">    QPixmap pixmap = m_curPixmap.scaledToHeight(width - <span class="number">50</span>);</span><br><span class="line">    ui-&gt;labDisplay-&gt;setPixmap(pixmap);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å‰èŠ‚ç‚¹å˜åŒ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨åŠ è½½å½“å‰å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_treeFiles_currentItemChanged(QTreeWidgetItem *current, QTreeWidgetItem *previous)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (current != <span class="literal">nullptr</span> &amp;&amp; previous != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        displayImage(current);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¾å¤§</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actAmplification_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    m_ratio *= <span class="number">1.2</span>;                                             <span class="comment">//åœ¨å½“å‰æ¯”ä¾‹åŸºç¡€ä¸Šä¹˜ä»¥0.8</span></span><br><span class="line">    <span class="keyword">int</span> height = m_curPixmap.height() * m_ratio;                <span class="comment">// æ˜¾ç¤ºå®½åº¦</span></span><br><span class="line">    <span class="keyword">int</span> widht = m_curPixmap.width() * m_ratio;                  <span class="comment">// æ˜¾ç¤ºå®½åº¦</span></span><br><span class="line"></span><br><span class="line">    QPixmap pix = m_curPixmap.scaled(widht, height);            <span class="comment">//å›¾ç‰‡ç¼©æ”¾åˆ°æŒ‡å®šé«˜åº¦å’Œå®½åº¦ï¼Œä¿æŒé•¿å®½æ¯”ä¾‹</span></span><br><span class="line">    ui-&gt;labDisplay-&gt;setPixmap(pix);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¼©å°</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actShrink_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    m_ratio *= <span class="number">0.8</span>;</span><br><span class="line">    <span class="keyword">int</span> height = m_curPixmap.height() * m_ratio;</span><br><span class="line">    <span class="keyword">int</span> widht = m_curPixmap.width() * m_ratio;</span><br><span class="line"></span><br><span class="line">    QPixmap pix = m_curPixmap.scaled(widht, height);</span><br><span class="line">    ui-&gt;labDisplay-&gt;setPixmap(pix);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿˜åŸ</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actZoomRealSize_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    m_ratio = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> height = m_curPixmap.height();</span><br><span class="line">    <span class="keyword">int</span> widht = m_curPixmap.width();</span><br><span class="line"></span><br><span class="line">    QPixmap pix = m_curPixmap.scaled(widht, height);</span><br><span class="line">    ui-&gt;labDisplay-&gt;setPixmap(pix);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®Dockçª—å£æ˜¯å¦æµ®åŠ¨</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actDockFloating_triggered(<span class="keyword">bool</span> check)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;dockWidget-&gt;setFloating(check);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®Dockçª—å£æ˜¯å¦éšè—ä¸æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actDockVisible_triggered(<span class="keyword">bool</span> checked)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;dockWidget-&gt;setVisible(!checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€€å‡º</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_actQiut_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å•å‡»DockWidgetç»„ä»¶çš„æ ‡é¢˜æ çš„å…³é—­æŒ‰é’®æ—¶å€™ï¼Œä¼šéšè—åœ¨åœé åŒºåŸŸï¼Œå¹¶ä¸”å‘å°„ä¿¡å·visibilityChanged;  åœé åŒºåŸŸå¯è§æ€§å˜åŒ–</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_dockWidget_visibilityChanged(<span class="keyword">bool</span> visible)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;actDockVisible-&gt;setChecked(visible);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“æ‹–åŠ¨DockWidgetç»„ä»¶ï¼Œä½¿å…¶æµ®åŠ¨æˆ–è€…åœé æ—¶å€™ï¼Œä¼šå‘å°„ä¿¡å·topLevelChanged;  æ›´æ–°å…¶Actionçš„çŠ¶æ€</span></span><br><span class="line"><span class="keyword">void</span> ExQTreeWidget::on_dockWidget_topLevelChanged(<span class="keyword">bool</span> topLevel)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;actDockFloating-&gt;setChecked(topLevel);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><h2 id="æºç ä¸‹è½½ï¼š"><a href="#æºç ä¸‹è½½ï¼š" class="headerlink" title="æºç ä¸‹è½½ï¼š"></a>æºç ä¸‹è½½ï¼š</h2><p><a href="https://github.com/touwoyimuli/QtExamples" target="_blank" rel="noopener">https://github.com/touwoyimuli/QtExamples</a> ã€QtQTreeWidgetExã€‘</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  ç›®å½•æ ‘ç»„ä»¶&lt;code&gt;QTreeWidget&lt;/code&gt;å’Œåœé åŒºåŸŸç»„ä»¶&lt;code&gt;QDockWidget&lt;/code&gt;çš„å’Œ&lt;code&gt;QScrollArea&lt;/code&gt;ç”¨æ³•ï¼›ç„¶åå†™çš„ä¸€ä¸ªå°çš„ç›¸å†ŒæŸ¥çœ‹å™¨ä¾‹å­&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-12-08_18-38-19_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
      <category term="ä¸“æ  - Qtæ¨å€’é‡å­¦ç³»åˆ—" scheme="http://yoursite.com/categories/%E4%B8%93%E6%A0%8F-Qt%E6%8E%A8%E5%80%92%E9%87%8D%E5%AD%A6%E7%B3%BB%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>å¸¸ç”¨å¼€æºåè®®å›¾è§£åŒºåˆ«</title>
    <link href="http://yoursite.com/2019/11/29/%E5%B8%B8%E7%94%A8%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%9B%BE%E8%A7%A3%E5%8C%BA%E5%88%AB/"/>
    <id>http://yoursite.com/2019/11/29/å¸¸ç”¨å¼€æºåè®®å›¾è§£åŒºåˆ«/</id>
    <published>2019-11-29T13:33:03.000Z</published>
    <updated>2019-11-29T13:37:14.968Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  å…³äºä¸€äº›å¸¸ç”¨çš„å¼€æºçš„åè®®ï¼Œç”¨ä¸€ä¸ªå›¾å°±å¯ä»¥æ¸…æ¥šçš„è¡¨ç¤ºå‡ºæ¥äº†ï¼ˆè¯¥å›¾ç‰‡æ¥æºäºç½‘ç»œï¼‰ï¼›å…¶ä¸­ä½¿ç”¨æ¯”è¾ƒå¤šçš„å°±æ˜¯<code>Apache</code>å’Œ<code>LGPL</code>è¿™ä¸¤ä¸ªåè®®</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/image_mark.png"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103318386" target="_blank" rel="noopener">å¸¸ç”¨å¼€æºåè®®å›¾è§£åŒºåˆ«</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  å…³äºä¸€äº›å¸¸ç”¨çš„å¼€æºçš„åè®®ï¼Œç”¨ä¸€ä¸ªå›¾å°±å¯ä»¥æ¸…æ¥šçš„è¡¨ç¤ºå‡ºæ¥äº†ï¼ˆè¯¥å›¾ç‰‡æ¥æºäºç½‘ç»œï¼‰ï¼›å…¶ä¸­ä½¿ç”¨æ¯”è¾ƒå¤šçš„å°±æ˜¯&lt;code&gt;Apache&lt;/code&gt;å’Œ&lt;code&gt;LGPL&lt;/code&gt;è¿™ä¸¤ä¸ªåè®®&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/image_mark.png&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - æŠ€æœ¯ä¹‹å¤–" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-%E6%8A%80%E6%9C%AF%E4%B9%8B%E5%A4%96/"/>
    
    
      <category term="å¼€æºåè®®" scheme="http://yoursite.com/tags/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/"/>
    
  </entry>
  
  <entry>
    <title>hexoæ¡†æ¶Maupassantä¸»é¢˜è®¾ç½®:å½’çº³ä¸åˆ†é¡µ(æˆ–åˆ†é¡µæ•°),è®¾å®šrssè®¢é˜…ï¼Œå¼€å¯æœ¬åœ°æœç´¢</title>
    <link href="http://yoursite.com/2019/11/28/hexo%E6%A1%86%E6%9E%B6Maupassant%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AE:%E5%BD%92%E7%BA%B3%E4%B8%8D%E5%88%86%E9%A1%B5(%E6%88%96%E5%88%86%E9%A1%B5%E6%95%B0),%E8%AE%BE%E5%AE%9Arss%E8%AE%A2%E9%98%85%EF%BC%8C%E5%BC%80%E5%90%AF%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/"/>
    <id>http://yoursite.com/2019/11/28/hexoæ¡†æ¶Maupassantä¸»é¢˜è®¾ç½®:å½’çº³ä¸åˆ†é¡µ(æˆ–åˆ†é¡µæ•°),è®¾å®šrssè®¢é˜…ï¼Œå¼€å¯æœ¬åœ°æœç´¢/</id>
    <published>2019-11-27T16:19:27.000Z</published>
    <updated>2019-11-27T16:21:48.588Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  è¿™æ˜¯ä¹‹å‰ï¼Œå°†åšå®¢è¿ç§»è¿‡æ¥çš„æ—¶å€™ï¼Œä¸€äº›ä¸ªäººä¸ªæ€§åŒ–çš„æ“ä½œğŸ“’è®¾ç½®ï¼Œåœ¨æ­¤å­˜ä¸€ä¸‹ï¼Œç”¨æ¥ä»¥åè‡ªå·±å¤‡æŸ¥ï¼›åœ¨<code>hexo</code>ä¸­ï¼Œä½¿ç”¨çš„<code>Maupassant</code>ä¸»é¢˜ï¼Œä¸»è¦è®°å½•ğŸ“æ˜¯ä»¥ä¸‹çš„å‡ ä¸ªæ“ä½œï¼š</p><ul><li>ä¸»é¢˜è®¾ç½®å½’çº³ä¸åˆ†é¡µï¼ˆæˆ–è€…æŒ‡å®šåˆ†é¡µæ•°ï¼‰</li><li>è®¾ç½®<code>rss</code>è®¢é˜…</li><li>å¼€å¯æœ¬åœ°æœç´¢ï¼Œ å…³é—­<code>google</code>å’Œ<code>baidu</code>æœç´¢</li></ul><a id="more"></a><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103285926" target="_blank" rel="noopener">hexoæ¡†æ¶Maupassantä¸»é¢˜è®¾ç½®:å½’çº³ä¸åˆ†é¡µ(æˆ–åˆ†é¡µæ•°),è®¾å®šrssè®¢é˜…ï¼Œå¼€å¯æœ¬åœ°æœç´¢</a></p></blockquote><br><p>[TOC]</p><h2 id="hexoä¸­Maupassantä¸»é¢˜è®¾ç½®å½’çº³ä¸åˆ†é¡µ"><a href="#hexoä¸­Maupassantä¸»é¢˜è®¾ç½®å½’çº³ä¸åˆ†é¡µ" class="headerlink" title="hexoä¸­Maupassantä¸»é¢˜è®¾ç½®å½’çº³ä¸åˆ†é¡µ"></a><code>hexo</code>ä¸­<code>Maupassant</code>ä¸»é¢˜è®¾ç½®å½’çº³ä¸åˆ†é¡µ</h2><h3 id="æ–¹æ³•ä¸€ï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š"><a href="#æ–¹æ³•ä¸€ï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š"></a>æ–¹æ³•ä¸€ï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š</h3><p><strong>å¦‚ä¸‹æ˜¯æˆ‘åœ¨ï¼ˆ2019-11-03 æ—¶å€™æ­å»ºçš„<code>hexo</code>æ¡†æ¶æ—¶å€™ï¼Œæœ‰çš„æ•ˆæœï¼‰ï¼›</strong></p><p>æŸ¥çœ‹äº†ä¸€ä¸‹ç›¸å…³çš„é…ç½®æ–‡ä»¶<code>hexo/_config.yml</code>åœ¨2019-11-01ä¸‹è½½æ›´æ–°çš„ä¸€ä»½ï¼Œ ä¼šæ¯”2019-06-08ä¸‹è½½åˆå§‹åŒ–çš„<code>hexo/_config.yml</code>è¦å¤šå‡ è¡Œæ–‡ä»¶ï¼Œå…¶ä¸­éš”ä¸€æ®µå¤šå‡ è¡Œ;</p><ul><li><strong>å®ç°ä¸åˆ†é¡µæ–¹æ³•ï¼š</strong></li></ul><p>å°†<code>hexo/_config.yml</code>çš„è¿™ä¸€æ®µä»£ç ï¼Œ é»˜è®¤çš„10 ä¿®æ”¹ä¸º0ï¼Œ å³ä¾¿æ˜¯ä¸ç¿»é¡µ</p><p><strong>[è®¾ç½®å½’æ¡£ï¼Œè‹¥æ˜¯ä¸º0ï¼Œ åˆ™ä¸ç”¨ç¿»é¡µ]</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pagination </span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line">per_page: 0</span><br><span class="line">pagination_dir: page</span><br></pre></td></tr></table></figure><br><h3 id="æ–¹æ³•äºŒï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š"><a href="#æ–¹æ³•äºŒï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š"></a>æ–¹æ³•äºŒï¼ˆè®¾ç½®å½’çº³ä¸åˆ†é¡µï¼Œæˆ–å½’çº³åˆ†é¡µæ•°ï¼‰ï¼š</h3><p>å‚è€ƒï¼š <a href="https://www.nickyam.com/tech/hexo-maupassant-archives-show-all-in-one-page.html" target="_blank" rel="noopener">Hexo åšå®¢ Maupassant ä¸»é¢˜ä¸‹å½’æ¡£é¡µæ˜¾ç¤ºçš„é«˜çº§è®¾ç½®</a>  </p><p><strong>å¦‚ä¸‹æ˜¯æˆ‘åœ¨ï¼ˆ2019-06-08 æ—¶å€™æ­å»ºçš„<code>hexo</code>æ¡†æ¶æ—¶å€™ï¼Œæœ‰çš„æ•ˆæœï¼‰ï¼›</strong></p><p>å…ˆæ‰§è¡Œä¸‹é¢ä¸‰ä¸ªå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-archive --save</span><br><span class="line">npm install hexo-generator-tag --save</span><br></pre></td></tr></table></figure><p>å†åœ¨<code>hexo</code>çš„<code>_config.yml</code>é‡Œé¢é…ç½®æ–‡ä»¶, æ–°å¢åŠ å¦‚ä¸‹ç‰‡æ®µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®é¦–é¡µåˆ†é¡µä¹‹å‰é»˜è®¤å°±æœ‰ï¼Œè¿™é‡Œå°±ä¸é¢å¤–åŠ äº†</span></span><br><span class="line"><span class="comment"># index_generator:</span></span><br><span class="line"><span class="comment">#   per_page: 7</span></span><br><span class="line">archive_generator:</span><br><span class="line">  per_page: 0  <span class="comment">#å€¼ä¸º0è¡¨ç¤ºä¸åˆ†é¡µï¼ŒæŒ‰éœ€å¡«å†™</span></span><br><span class="line">  yearly: <span class="literal">true</span>  <span class="comment">#æ˜¯å¦æŒ‰å¹´ç”Ÿæˆå½’æ¡£</span></span><br><span class="line">  monthly: <span class="literal">false</span>  <span class="comment">#ä¸ºäº†åŠ å¿«ç”Ÿæˆé€Ÿåº¦ï¼ŒæŒ‰æœˆå½’æ¡£å°±ä¸è¦äº†</span></span><br><span class="line"><span class="comment"># ä¾è‘«èŠ¦ç”»ç“¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹åˆ†ç±»å±•ç¤ºé¡µã€æ ‡ç­¾é¡µç­‰è¿›è¡Œæ”¹é€ ï¼Œä»¥æœŸä¸é¦–é¡µç‹¬ç«‹æ§åˆ¶åˆ†é¡µæ¡æ•°</span></span><br><span class="line">tag_generator:</span><br><span class="line">  per_page: 40  <span class="comment">#å€¼ä¸º0è¡¨ç¤ºä¸åˆ†é¡µï¼ŒæŒ‰éœ€å¡«å†™</span></span><br><span class="line">category_generator:</span><br><span class="line">  per_page: 40  <span class="comment">#å€¼ä¸º0è¡¨ç¤ºä¸åˆ†é¡µï¼ŒæŒ‰éœ€å¡«å†™</span></span><br></pre></td></tr></table></figure><p>æœ€åæ•ˆæœä¼šé®è”½å¦‚ä¸‹(è‡ªå¸¦çš„)è¿™ç«¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line">per_page: 10</span><br><span class="line">pagination_dir: page</span><br></pre></td></tr></table></figure><br><h2 id="hexoä¸­Maupassantä¸»é¢˜è®¾ç½®rssè®¢é˜…"><a href="#hexoä¸­Maupassantä¸»é¢˜è®¾ç½®rssè®¢é˜…" class="headerlink" title="hexoä¸­Maupassantä¸»é¢˜è®¾ç½®rssè®¢é˜…"></a><code>hexo</code>ä¸­<code>Maupassant</code>ä¸»é¢˜è®¾ç½®rssè®¢é˜…</h2><p><strong>æœ¬èº«å°±æ˜¯è‡ªå¸¦æ”¯æŒ RSS è®¢é˜…çš„:</strong></p><ol><li><p>å®‰è£…<code>hexo-generator-feed</code></p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹ <code>hexo</code> é…ç½®</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#RSSè®¢é˜…</span></span><br><span class="line"><span class="attr">plugin:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br></pre></td></tr></table></figure><p> å…¶ä¸­ï¼Œfeed é…ç½®æ˜¯å¯é€‰é¡¹</p></li><li><p>ä¿®æ”¹ä¸»é¢˜é…ç½®</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">page:</span> <span class="string">rss</span></span><br><span class="line">    <span class="attr">directory:</span> <span class="string">atom.xml</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fa-rss</span></span><br></pre></td></tr></table></figure></li></ol><br><h2 id="å¼€å¯æœ¬åœ°æœç´¢ï¼Œ-å…³é—­googleå’Œbaiduæœç´¢"><a href="#å¼€å¯æœ¬åœ°æœç´¢ï¼Œ-å…³é—­googleå’Œbaiduæœç´¢" class="headerlink" title="å¼€å¯æœ¬åœ°æœç´¢ï¼Œ å…³é—­googleå’Œbaiduæœç´¢:"></a>å¼€å¯æœ¬åœ°æœç´¢ï¼Œ å…³é—­googleå’Œbaiduæœç´¢:</h2><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p> ç„¶ååœ¨<strong>themes/maupassant/_config.yml</strong>æ–‡ä»¶ï¼ŒæŠŠä¸‹é¢å‡ è¡Œçš„æ•°å€¼çš„å‚æ•°ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š                  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">google_search: <span class="literal">false</span> <span class="comment">## Use Google search, true/false.</span></span><br><span class="line">baidu_search: <span class="literal">false</span> <span class="comment">## Use Baidu search, true/false.</span></span><br><span class="line"></span><br><span class="line">self_search: <span class="literal">true</span> <span class="comment">## Use a jQuery-based local search engine, true/false.</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  è¿™æ˜¯ä¹‹å‰ï¼Œå°†åšå®¢è¿ç§»è¿‡æ¥çš„æ—¶å€™ï¼Œä¸€äº›ä¸ªäººä¸ªæ€§åŒ–çš„æ“ä½œğŸ“’è®¾ç½®ï¼Œåœ¨æ­¤å­˜ä¸€ä¸‹ï¼Œç”¨æ¥ä»¥åè‡ªå·±å¤‡æŸ¥ï¼›åœ¨&lt;code&gt;hexo&lt;/code&gt;ä¸­ï¼Œä½¿ç”¨çš„&lt;code&gt;Maupassant&lt;/code&gt;ä¸»é¢˜ï¼Œä¸»è¦è®°å½•ğŸ“æ˜¯ä»¥ä¸‹çš„å‡ ä¸ªæ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»é¢˜è®¾ç½®å½’çº³ä¸åˆ†é¡µï¼ˆæˆ–è€…æŒ‡å®šåˆ†é¡µæ•°ï¼‰&lt;/li&gt;
&lt;li&gt;è®¾ç½®&lt;code&gt;rss&lt;/code&gt;è®¢é˜…&lt;/li&gt;
&lt;li&gt;å¼€å¯æœ¬åœ°æœç´¢ï¼Œ å…³é—­&lt;code&gt;google&lt;/code&gt;å’Œ&lt;code&gt;baidu&lt;/code&gt;æœç´¢&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - hexo" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-hexo/"/>
    
    
  </entry>
  
  <entry>
    <title>gitè®¾ç½®å…¨å±€ä»£ç†ï¼Œä½¿å¾—git cloneèƒ½å¤Ÿç¨³å®šçš„æé€Ÿ800KB/S</title>
    <link href="http://yoursite.com/2019/11/27/git%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E4%BB%A3%E7%90%86%EF%BC%8C%E4%BD%BF%E5%BE%97git%20clone%E8%83%BD%E5%A4%9F%E7%A8%B3%E5%AE%9A%E7%9A%84%E6%8F%90%E9%80%9F/"/>
    <id>http://yoursite.com/2019/11/27/gitè®¾ç½®å…¨å±€ä»£ç†ï¼Œä½¿å¾—git cloneèƒ½å¤Ÿç¨³å®šçš„æé€Ÿ/</id>
    <published>2019-11-27T13:22:07.000Z</published>
    <updated>2019-12-12T04:22:02.261Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  è®¾ç½®<code>git</code>ä¼šèµ°å…¨å±€ä»£ç†ï¼Œä»è€Œè®©<code>git clon</code>æé«˜ä¸‹è½½é€Ÿåº¦ï¼Œä¸‹è½½é€Ÿåº¦ç¨³å®šåœ¨<code>800KB/S</code>ï¼Œä¸å†æ˜¯<code>å‡ KB/S</code>çš„é€Ÿåº¦ï¼Œè®©äººæªå¿ƒâ€˜</p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103504497" target="_blank" rel="noopener">gitè®¾ç½®å…¨å±€ä»£ç†ï¼Œä½¿å¾—git cloneèƒ½å¤Ÿç¨³å®šçš„æé€Ÿ800KB/S</a></p></blockquote><br><h2 id="èƒŒæ™¯éœ€æ±‚ï¼š"><a href="#èƒŒæ™¯éœ€æ±‚ï¼š" class="headerlink" title="èƒŒæ™¯éœ€æ±‚ï¼š"></a>èƒŒæ™¯éœ€æ±‚ï¼š</h2><p><strong>ä½¿ç”¨<code>git</code>æˆ–è€…<code>brew</code>æˆ–è€…<code>apt</code>æ—¶å€™ï¼Œ<code>å‡ KB/S</code>çš„ç½‘é€Ÿç”¨çš„è½ä¸‹äº†çœ¼æ³ªï¼›</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/EIn5WzKUUAEq74G.png"/><p><strong>è¿˜ç»å¸¸åˆ¤æ–­ä¸ºç½‘ç»œé”™è¯¯ä¸ºæ–­å¼€ï¼›åˆæ˜¯æ›´æ¢æºï¼Œåˆæ˜¯æ¶<code>vps</code>ï¼Œåˆæ˜¯ä»£ç†ç ”ç©¶ï¼Œä¸ºäº†ä¸‹è½½å®‰è£…ä¸€ä¸ªè½¯ä»¶ï¼Œé€šå¸¸è¦è€—å·¨æ—¶æ¥åšå‰æœŸå‡†å¤‡å·¥ä½œï¼›æ— æ„æ€çœ‹åˆ°<code>zhihu</code>çš„æ—¶å€™ï¼Œæˆ‘çœŸçš„å¿ä¸ä½çš„æƒ³å“­ï¼Œå°±ä¸èƒ½è®©æˆ‘ä»¬æ½œå¿ƒçš„ç ”ç©¶è®¾è®¡å’Œ<code>code</code>çš„åŸç†ï¼Œå˜å¾—æ›´åŠ æ–¹ä¾¿ä¸€äº›å¦?</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/EIn5WzLUEAAKed9_mark.png"/><p>å®é™…ä½“éªŒ<code>git+github</code>å‡ ä¸ªæœˆä¹‹åçš„æµ‹é€Ÿï¼šä¸€èˆ¬æ˜¯ä¸º<code>20~40KB/S</code>ï¼›æ™šä¸Šå®¹æ˜“<code>å°äº10KB/S</code>çš„é€Ÿåº¦ï¼›å°æ¦‚ç‡æ— æ³•æ‰“å¼€è¢«å¢™ï¼›å°äºå‰è€…çš„æ¦‚ç‡ä¸ºç¨³å®šçš„<code>å‡ M/S</code></p><br><h2 id="ç½‘ä¸Šéœ€æ±‚å®ƒæ³•"><a href="#ç½‘ä¸Šéœ€æ±‚å®ƒæ³•" class="headerlink" title="ç½‘ä¸Šéœ€æ±‚å®ƒæ³•:"></a>ç½‘ä¸Šéœ€æ±‚å®ƒæ³•:</h2><p>é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ï¼Œçœ‹çœ‹å…¶ä»–äººéƒ½æ˜¯æ€ä¹ˆæé«˜<code>git clone</code>çš„ä¸‹è½½é€Ÿåº¦çš„ï¼ŒæŸ¥è¯¢ä¸€ç•ªï¼Œæ–¹æ³•ä¸€å…±å¦‚ä¸‹ï¼Œè‹¥æ˜¯æœ‰æˆ‘æœªçŸ¥çš„æ–¹æ³•ï¼Œæ¬¢è¿è¡¥å……å’Œè¯„è®ºï¼š</p><ul><li>ä»…ä¿®æ”¹<code>hosts</code>æ–‡ä»¶</li><li>ä½¿ç”¨<code>vpn</code>ï¼Œå¼€å¯pacä»£ç†æˆ–è€…å…¨å±€ä»£ç†</li><li>ä½¿ç”¨æœåŠ¡å™¨ï¼Œæ­å»ºå…¬å¸çš„ç§æœ‰<code>gitLab</code>ï¼Œç„¶ååŒæ­¥è‡ªå·±æ‰€éœ€è¦çš„éƒ¨åˆ†<code>github</code>ä»“åº“</li></ul><p>ç»è¿‡å®é™…çš„æµ‹è¯•ä¸ä½¿ç”¨ä½“éªŒï¼Œå‘ç°ç¬¬ä¸€ä¸ªå¾ˆéš¾èµ·åˆ°ä½œç”¨ï¼Œé‡åˆ°è¢«å¢™çš„ä»ç„¶æ˜¯å¾’åŠ³ï¼Œä¸”å­˜åœ¨ä¸åŒåŒºåŸŸçš„ç½‘ç»œæœ‰å„è‡ªçš„æˆåŠŸæˆ–å¤±è´¥ï¼Œæ­¤æ–¹æ³•éš¾ä»¥å¤åˆ¶ï¼›æ–¹æ³•äºŒè€Œåˆ†ä¸ºä¸¤ç§ã€‚ä¸€ç§æ˜¯è‡ªå·±è´­ä¹°vpsæ­å»ºï¼Œå¦å¤–æ˜¯ç›´æ¥è´­ä¹°ç°æˆçš„çº¿è·¯æ¥ä½¿ç”¨ï¼Œå±äºæˆ‘æ¯”è¾ƒæ¨èçš„ä¸€ä¸ªï¼ŒèŠ±ç‚¹å°é’±é’±ğŸ’°ï¼Œå¯ä»¥é¿å…å¾ˆå¤šæ— ç”¨çš„ç”Ÿæ°”ï¼Œå¿ƒå¹³æ°”å’Œçš„æ•²ä»£ç ä¸å¥½å—ï¼Ÿæ–¹æ³•ä¸‰ï¼Œæˆ‘å…¬å¸å°±æ˜¯è¿™æ ·æ“ä½œçš„ï¼Œæ­¤å¤„ä¸åšæ¢ç©¶</p><br><h2 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h2><h3 id="æŸ¥çœ‹æ‰€æœ‰gité…ç½®"><a href="#æŸ¥çœ‹æ‰€æœ‰gité…ç½®" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰gité…ç½®:"></a>æŸ¥çœ‹æ‰€æœ‰gité…ç½®:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global -l</span><br></pre></td></tr></table></figure><h3 id="åªæ˜¯é’ˆå¯¹githubè¿›è¡Œä»£ç†ï¼š"><a href="#åªæ˜¯é’ˆå¯¹githubè¿›è¡Œä»£ç†ï¼š" class="headerlink" title="åªæ˜¯é’ˆå¯¹githubè¿›è¡Œä»£ç†ï¼š"></a>åªæ˜¯é’ˆå¯¹githubè¿›è¡Œä»£ç†ï¼š</h3><p><code>git</code>æä¾›çš„ä¸‹è½½æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯<code>ssh</code>ï¼Œå¦å¤–ä¸€ç§æ˜¯<code>https</code>çš„ä¸‹è½½æ–¹å¼ï¼›åº”è¯¥æ˜¯ä¸€æ¬¡å¯¹åº”ç€ç½‘ä¸Šçš„æ•™ç¨‹ä¸­çš„<code>socks5</code>å’Œ<code>https + http</code>çš„ä¸¤ç§ä¸‹è½½æ¨¡å¼ï¼›</p><p><font color=#FE7207 size=4 face="å¹¼åœ†"><strong>è®¾ç½®ä¹‹å‰ï¼Œä¸€å®šè¦æŸ¥çœ‹è‡ªå·±çš„IPå’Œç«¯å£æ˜¯ä¹Ÿæ˜¯å¦‚ä¸‹ï¼Œå…·ä½“IPå’Œç«¯å£ä»¥è‡ªå·±çš„ä¸ºå‡†ï¼Œä¸‹é¢æ˜¯ä¸€èˆ¬çš„é»˜è®¤æ•°å€¼</strong></font></p><h4 id="è®¾ç½®å…¨å±€ä»£ç†ï¼ˆhttps-httpï¼‰ï¼š"><a href="#è®¾ç½®å…¨å±€ä»£ç†ï¼ˆhttps-httpï¼‰ï¼š" class="headerlink" title="è®¾ç½®å…¨å±€ä»£ç†ï¼ˆhttps + httpï¼‰ï¼š"></a>è®¾ç½®å…¨å±€ä»£ç†ï¼ˆhttps + httpï¼‰ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy https://127.0.0.1:1080</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®å…¨å±€ä»£ç†ï¼ˆsocks5ï¼‰ï¼š"><a href="#è®¾ç½®å…¨å±€ä»£ç†ï¼ˆsocks5ï¼‰ï¼š" class="headerlink" title="è®¾ç½®å…¨å±€ä»£ç†ï¼ˆsocks5ï¼‰ï¼š"></a>è®¾ç½®å…¨å±€ä»£ç†ï¼ˆsocks5ï¼‰ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:1086</span><br><span class="line">git config --global https.https://github.com.proxy socks5://127.0.0.1:1086</span><br></pre></td></tr></table></figure><h3 id="å–æ¶ˆè®¾ç½®çš„ä»£ç†"><a href="#å–æ¶ˆè®¾ç½®çš„ä»£ç†" class="headerlink" title="å–æ¶ˆè®¾ç½®çš„ä»£ç†:"></a>å–æ¶ˆè®¾ç½®çš„ä»£ç†:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br></pre></td></tr></table></figure><br><h2 id="è®¾ç½®ä¹‹å"><a href="#è®¾ç½®ä¹‹å" class="headerlink" title="è®¾ç½®ä¹‹å:"></a>è®¾ç½®ä¹‹å:</h2><p><strong>è¯´æ˜ä¸€ä¸‹ï¼Œæˆ‘å·²ç»å¼€å¯äº†å…¨å±€ä»£ç†æ¨¡å¼çš„ï¼Œå› ä¸ºä»Šå¤©ï¼Œåœ¨ä¸å¼€ä»£ç†å’Œä»…ä»…åªå¼€pacä»£ç†æ¨¡å¼ä¸‹ï¼Œéƒ½æ˜¯æ— æ³•è®¿é—®<code>github</code>çš„ï¼Œå¯èƒ½æ˜¯é˜¶æ®µæ€§çš„æ­¤ç‰‡<code>IP</code>è¢«å¢™äº†å§ï¼ï¼</strong>ï¼çœŸçš„è®©äººç«å¤§~ï¼›åœ¨ç»ˆç«¯æµ‹è¯•<code>git clon</code>è‡ªå·±ä¸€ä¸ªä»“åº“ï¼Œä¸‹è½½é€Ÿåº¦ä¸º<strong>700-800KB/S</strong>å·¦å³ï¼Œ<strong>æ¯”è¾ƒç¨³å®š</strong>ï¼›ç½‘å¤šä¼ çš„è¾¾åˆ°ç¨³å®šçš„å‡ M/Sçš„é€Ÿåº¦ï¼Œæˆ‘åªæ˜¯å³°å€¼è¾¾åˆ°è¿‡ï¼Œç„¶åå°±é™é€Ÿä¸‹æ¥äº†ï¼Œä¹Ÿä¸çŸ¥é“éƒ¨åˆ†åšæ–‡æ˜¯å¦æˆªå›¾æ¥è¯¯å¯¼æ€§ï¼Ÿï¼Ÿï¼Ÿ å—¯ï¼Ÿï¼Ÿ<br>æˆ‘è®¾ç½®ä¹‹åï¼Œé…ç½®æˆªå›¾ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_19-41-32_mark.png"/><p>æ¯”è¾ƒç¨³å®šçš„é€Ÿåº¦ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_19-41-33_mark.png"/><br><h2 id="æ›´æ–°ï¼š"><a href="#æ›´æ–°ï¼š" class="headerlink" title="æ›´æ–°ï¼š"></a>æ›´æ–°ï¼š</h2><p>å‰ä¸¤å¤©ï¼ŒIPè¢«å¢™çš„åŸå› è¿‡äº†ä¸¤å¤©æ‰¾åˆ°äº†ï¼Œ æ˜¯åœ¨è¿™ä¸ªï¼›å±…ç„¶è¢«æˆ‘çŒœä¸­äº†ï¼Œè¿˜çœŸçš„æ˜¯ã€‚ã€‚ã€‚ã€‚ã€‚</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/IMG_9254_mark.JPEG"/><br><p><strong>å‚è€ƒï¼š</strong></p><p><a href="https://tding.top/archives/cbef72d4" target="_blank" rel="noopener">GitHub ä»£ç†è®¾ç½®</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  è®¾ç½®&lt;code&gt;git&lt;/code&gt;ä¼šèµ°å…¨å±€ä»£ç†ï¼Œä»è€Œè®©&lt;code&gt;git clon&lt;/code&gt;æé«˜ä¸‹è½½é€Ÿåº¦ï¼Œä¸‹è½½é€Ÿåº¦ç¨³å®šåœ¨&lt;code&gt;800KB/S&lt;/code&gt;ï¼Œä¸å†æ˜¯&lt;code&gt;å‡ KB/S&lt;/code&gt;çš„é€Ÿåº¦ï¼Œè®©äººæªå¿ƒâ€˜&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - ç§‘å­¦ä¸Šç½‘vpn" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91vpn/"/>
    
      <category term="å­¦ä¹  - git" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-git/"/>
    
    
  </entry>
  
  <entry>
    <title>åœ¨MacOSè§£å†³&quot;ä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç &quot;çš„æ–¹æ³•</title>
    <link href="http://yoursite.com/2019/11/26/%E5%9C%A8MacOS%E8%A7%A3%E5%86%B3%22%E4%BF%AE%E6%94%B9%E2%80%9CApplications%E2%80%9D%E9%9C%80%E8%A6%81%E8%BE%93%E5%85%A5%E7%AE%A1%E7%90%86%E5%91%98%E5%90%8D%E7%A7%B0%E5%92%8C%E5%AF%86%E7%A0%81%22%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2019/11/26/åœ¨MacOSè§£å†³&quot;ä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç &quot;çš„æ–¹æ³•/</id>
    <published>2019-11-26T13:40:14.000Z</published>
    <updated>2019-11-26T13:42:00.932Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>MacOS10.14.6</code>ä¸Šé¢ï¼Œå®‰è£…ä¸€äº›ç½‘ç«™ï¼ˆæˆ–å®˜ç½‘ï¼‰çš„ä¸‹è½½çš„ç¦»çº¿å®‰è£…åŒ…ï¼Œç»å¸¸ä¼šé‡åˆ°å®‰è£…è¿‡ç¨‹ä¸­ä¼šé‡åˆ°<font color=#D0087E size=4 face="å¹¼åœ†">â€œä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç â€</font>çš„é—®é¢˜ï¼Œä¸‹é¢æä¾›ä¸€ç§ç®€å•çš„è§£å†³æ–¹æ³•ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/download.jpg"/><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font> <a href="https://blog.csdn.net/qq_33154343/article/details/103265804" target="_blank" rel="noopener">åœ¨MacOSè§£å†³â€ä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç â€çš„æ–¹æ³•</a></p></blockquote><br><h2 id="å‡ºç°åŸå› "><a href="#å‡ºç°åŸå› " class="headerlink" title="å‡ºç°åŸå› :"></a>å‡ºç°åŸå› :</h2><p><code>appleç³»ç»Ÿ</code>å‡ºäºå®‰å…¨æ€§çš„è€ƒé‡ï¼Œå¯¹äºé <code>AppStore</code> å®˜æ–¹çš„éƒ½æ˜¯å»ºè®®æ…é‡ä¸‹è½½å’Œè­¦å‘Šç¤ºçš„é˜»æ­¢å®‰è£…ï¼Œä½†æ˜¯å¹¶éä¸€ç‚¹æœºä¼šéƒ½ä¸ç»™å®‰è£…ï¼›</p><br><h2 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h2><ul><li><font color=#D0087E size=4 face="å¹¼åœ†">æœ€ä½³è§£å†³ï¼š</font></li></ul><p>ç›´æ¥å°† <code>xxx.dmg</code> ä¸‹è½½å¥½çš„åº”ç”¨ç¨‹åºå®‰è£…ï¼ŒåŒå‡»æ‰“å¼€:ï¼ˆè‹¥ä¸‹è½½å°±æ˜¯<code>xxx.app</code>æ›´å¥½ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ­¥éª¤ï¼‰</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_18-25-34_mark.png"/><p>åœ¨ä¸‹å›¾ä¸­ï¼Œç›´æ¥å°†<code>xxx.app</code>ç›´æ¥æ‹–å…¥åˆ° <code>åº”ç”¨ç¨‹åº</code>ä¸­ï¼Œå¦‚ä¸‹å›¾ :</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124182943.png"/><p>ç„¶åå†<code>å¯åŠ¨</code>ä¸­å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†æ­¤é¡¹ç›®äº†</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124183126.png"/>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  åœ¨&lt;code&gt;MacOS10.14.6&lt;/code&gt;ä¸Šé¢ï¼Œå®‰è£…ä¸€äº›ç½‘ç«™ï¼ˆæˆ–å®˜ç½‘ï¼‰çš„ä¸‹è½½çš„ç¦»çº¿å®‰è£…åŒ…ï¼Œç»å¸¸ä¼šé‡åˆ°å®‰è£…è¿‡ç¨‹ä¸­ä¼šé‡åˆ°&lt;font color=#D0087E size=4 face=&quot;å¹¼åœ†&quot;&gt;â€œä¿®æ”¹â€œApplicationsâ€éœ€è¦è¾“å…¥ç®¡ç†å‘˜åç§°å’Œå¯†ç â€&lt;/font&gt;çš„é—®é¢˜ï¼Œä¸‹é¢æä¾›ä¸€ç§ç®€å•çš„è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/download.jpg&quot;/&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - ç¼–ç è§„èŒƒï¼Œè¾…åŠ©æŠ€å·§" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%EF%BC%8C%E8%BE%85%E5%8A%A9%E6%8A%80%E5%B7%A7/"/>
    
      <category term="å­¦ä¹  - ç§‘å­¦ä¸Šç½‘vpn" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91vpn/"/>
    
      <category term="å­¦ä¹  - Linux" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>åœ¨MacOSç¯å¢ƒä¸‹å®‰è£…QtCreatorä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨qt</title>
    <link href="http://yoursite.com/2019/11/25/%E5%9C%A8MacOS%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85QtCreator%E4%BD%9C%E4%B8%BAc++%E7%9A%84IDE%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%92%8C%E4%BD%BF%E7%94%A8qt/"/>
    <id>http://yoursite.com/2019/11/25/åœ¨MacOSç¯å¢ƒä¸‹å®‰è£…QtCreatorä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨qt/</id>
    <published>2019-11-24T16:01:23.000Z</published>
    <updated>2019-11-24T16:11:10.891Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>MacOS10.14.6</code>ç¯å¢ƒä¸‹å®‰è£…<code>QtCreator5.9.8</code>ä½œä¸º<code>c++</code>çš„<strong>IDE</strong>å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨<strong>qt</strong></p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font>  <a href="https://blog.csdn.net/qq_33154343/article/details/103231202" target="_blank" rel="noopener">åœ¨MacOSç¯å¢ƒä¸‹å®‰è£…QtCreatorä½œä¸ºc++çš„IDEå¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨qt</a></p></blockquote><br><h2 id="ä¸‹è½½QtCreatorï¼š"><a href="#ä¸‹è½½QtCreatorï¼š" class="headerlink" title="ä¸‹è½½QtCreatorï¼š"></a>ä¸‹è½½QtCreatorï¼š</h2><p><strong>qtå®˜ç½‘ä¸‹è½½åœ°å€ï¼š</strong> <a href="https://download.qt.io/archive/qt/" target="_blank" rel="noopener">https://download.qt.io/archive/qt/</a></p><p>æ¨èä¸‹è½½â¬‡ï¸çš„ç‰ˆæœ¬ï¼šä½¿ç”¨çš„<code>Neat Download manager</code>å¤šçº¿ç¨‹å·¥å…·ä¸‹è½½ï¼Œç›¸å½“äº<strong>win</strong>çš„<strong>IDM</strong>ä¸‹è½½å·¥å…·ï¼Œæœ‰æ­¤å·¥å…·ï¼Œä½•æ„é€Ÿåº¦ä¸æ»¡å¸¦å®½ä¸‹é™ï¼Ÿ</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124232717.png"/><br><h2 id="å®‰è£…QtCreatoræ­¥éª¤ï¼š"><a href="#å®‰è£…QtCreatoræ­¥éª¤ï¼š" class="headerlink" title="å®‰è£…QtCreatoræ­¥éª¤ï¼š"></a>å®‰è£…QtCreatoræ­¥éª¤ï¼š</h2><p>ä¸‹è½½ä¹‹åï¼Œç›´æ¥åŒå‡»ï¼Œæ‰“å¼€ï¼ŒæŒ‰ç…§å¦‚ä¸‹çš„æ“ä½œè¿è¡Œå³å¯ï¼Œä¸‹é¢ä¸ºå®Œæˆçš„æ¯ä¸€æ¯ä¸€ä¸ªè¯¦ç»†æ‰€æœ‰çš„æ­¥éª¤æˆªå›¾</p><ul><li>ç‚¹å‡»<strong>Next</strong>ä¸‹ä¸€æ­¥</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124232821.png"/><ul><li>ç‚¹å‡»<code>Skip</code>è·³è¿‡ï¼Œå¯ä»¥ä¸ç”¨å¡«å†™æ³¨å†Œä¿¡æ¯çš„</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124232838.png"/><ul><li>ç‚¹å‡»<code>ç»§ç»­</code></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191125000735.png"/><ul><li>ç‚¹å‡»<code>ç»§ç»­</code>ï¼Œä½¿ç”¨é»˜è®¤å®‰è£…è·¯å¾„å³å¯ã€åé¢ä¼šç”¨åˆ°è¿™ä¸ªè·¯å¾„ã€‘</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191125000750.png"/><ul><li>å‹¾é€‰å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ¨¡å—ï¼Œä¸€èˆ¬å®‰è£…<strong>MacOS+Sources+QtCreator</strong>ï¼ˆæˆ‘æ‰€è®¤ä¸ºçš„å¿…é¡»å®‰è£…ï¼‰å­¦ä¹ ä½¿ç”¨å¤Ÿäº†ï¼Œä½†æ˜¯ä¸ºäº†ç³»ç»Ÿçš„å­¦ä¹ ä¸€äº›æ–°çš„æ¨¡å—ï¼Œæ¨èå°†å¦‚ä¸‹çš„ä¹Ÿéƒ½å‹¾é€‰é¡¹ä¸Š</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_23-38-36.png"/><ul><li>ç‚¹å‡»<code>åŒæ„</code>å’Œ<code>ç»§ç»­</code>ï¼Œè®¤åŒè¿™äº›æ²¡æœ‰äººä¼šä»”ç»†çœ‹çš„è¿™äº›æ¡æ¬¾</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124234217.png"/><ul><li>å·²ç»æ­£å¼å¼€å§‹å®‰è£…äº†ï¼Œç‚¹å‡»<code>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</code>å¯ä»¥æŸ¥çœ‹å½“å‰å®‰è£…åˆ°å“ªé‡Œç»†èŠ‚çš„éƒ¨åˆ†ï¼ˆç­‰å¾…æ—¶é—´å¯ä»¥å»å–æ¯å’–å•¡ï¼‰</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124234353.png"/><ul><li>å®‰è£…å®Œæˆï¼Œç‚¹å‡»<code>å®Œæˆ</code>ï¼Œå³å¯æˆåŠŸè¿è¡ŒQtCreaotæ¥æ„‰å¿«çš„ç¼–ç äº†</li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191124234538.png"/><br><h2 id="å¯åŠ¨QtCreator"><a href="#å¯åŠ¨QtCreator" class="headerlink" title="å¯åŠ¨QtCreator:"></a>å¯åŠ¨QtCreator:</h2><p>æ‰“å¼€å¯åŠ¨ï¼Œå‘ç°å¹¶æ²¡æœ‰æˆ‘ç†Ÿæ‚‰çš„é‚£ä¸ªå›¾æ ‡ï¼Œæœç´¢ğŸ”ä¹Ÿæ²¡æœ‰çœ‹åˆ°ï¼›æ‰“å¼€<code>/Users/yuanyi/Qt5.9.8/Qt Creator.app</code>ï¼Œå…¶ä¸­yuanyiä¸ºä½ è‡ªå·±ç”µè„‘çš„ç”¨æˆ·å</p><p><strong>å¯åŠ¨QtCreatorå’Œå¤šå¼€QtCreatorçš„æ–¹æ³•åœ¨ä¸‹å›¾ä¸­</strong>ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_23-52-09_mark.png"/><p>å¼€å§‹ç¼–ç ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-24_23-59-56_mark.png"/>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  åœ¨&lt;code&gt;MacOS10.14.6&lt;/code&gt;ç¯å¢ƒä¸‹å®‰è£…&lt;code&gt;QtCreator5.9.8&lt;/code&gt;ä½œä¸º&lt;code&gt;c++&lt;/code&gt;çš„&lt;strong&gt;IDE&lt;/strong&gt;å¼€å‘å·¥å…·ï¼Œå­¦ä¹ å’Œä½¿ç”¨&lt;strong&gt;qt&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
    
  </entry>
  
  <entry>
    <title>git åˆ é™¤åˆšæäº¤åˆ°è¿œç¨‹åˆ†æ”¯çš„push commint</title>
    <link href="http://yoursite.com/2019/11/06/git%20%E5%88%A0%E9%99%A4%E5%88%9A%E6%8F%90%E4%BA%A4%E5%88%B0%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF%E7%9A%84push%20commint/"/>
    <id>http://yoursite.com/2019/11/06/git åˆ é™¤åˆšæäº¤åˆ°è¿œç¨‹åˆ†æ”¯çš„push commint/</id>
    <published>2019-11-06T13:17:00.000Z</published>
    <updated>2019-11-24T13:19:14.636Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åˆšåˆšä½¿ç”¨å¦å¤–ä¸€ä¸ªè´¦å·åœ¨æœ¬åœ°<code>commit</code>ï¼Œ ç„¶å<code>push self</code>äº†ï¼Œç„¶åæƒ³è¦åˆ é™¤æ­¤æ¬¡çš„è¿œç¨‹æäº¤ï¼›ä½†æ˜¯å…¨éƒ¨ä»£ç å’Œå·¥ä½œåŒºå†…å®¹ï¼Œ ç„¶åæ›´æ¢ä¸€ä¸ªæ­£ç¡®çš„gitè´¦å·ï¼ˆ <strong>user.name</strong> å’Œ <strong>user.email</strong> ï¼‰,å†æ¬¡ç”Ÿæˆä¸€æ¬¡<code>commit</code>ï¼Œå†<code>push self</code>ï¼›</p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font> <a href="https://blog.csdn.net/qq_33154343/article/details/102943552" target="_blank" rel="noopener">git åˆ é™¤åˆšæäº¤åˆ°è¿œç¨‹åˆ†æ”¯çš„push commint</a></p></blockquote><br><p>è¿™æ¬¡æ¯”è¾ƒç®€å•ï¼Œ ä½†æ˜¯æ„Ÿè§‰ä¼šæ¯”è¾ƒå®ç”¨ï¼Œç½‘ä¸Šæ•™ç¨‹å†™çš„æ¯”è¾ƒç¹çï¼Œæˆ‘çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD^                  //ç­‰ä»·äºgit reset -â€“mixed HEAD^ï¼Œæ’¤å›æœ¬åœ°ä¸Šä¸€æ¬¡çš„commitæäº¤ï¼Œä½†æ˜¯ä¿ç•™æ”¹åŠ¨ä»£ç å’Œå·¥ä½œåŒºå†…å®¹Â </span><br><span class="line">git push self master -f          //å› ä¸ºç‰ˆæœ¬è½åè¿œç¨‹åˆ†æ”¯ï¼Œæ•…åŠ ä¸Š-f</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  åˆšåˆšä½¿ç”¨å¦å¤–ä¸€ä¸ªè´¦å·åœ¨æœ¬åœ°&lt;code&gt;commit&lt;/code&gt;ï¼Œ ç„¶å&lt;code&gt;push self&lt;/code&gt;äº†ï¼Œç„¶åæƒ³è¦åˆ é™¤æ­¤æ¬¡çš„è¿œç¨‹æäº¤ï¼›ä½†æ˜¯å…¨éƒ¨ä»£ç å’Œå·¥ä½œåŒºå†…å®¹ï¼Œ ç„¶åæ›´æ¢ä¸€ä¸ªæ­£ç¡®çš„gitè´¦å·ï¼ˆ &lt;strong&gt;user.name&lt;/strong&gt; å’Œ &lt;strong&gt;user.email&lt;/strong&gt; ï¼‰,å†æ¬¡ç”Ÿæˆä¸€æ¬¡&lt;code&gt;commit&lt;/code&gt;ï¼Œå†&lt;code&gt;push self&lt;/code&gt;ï¼›&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - git" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-git/"/>
    
    
  </entry>
  
  <entry>
    <title>git cloneåï¼Œåœ¨æœ¬åœ°åˆ‡æ¢åˆ°è¿œç¨‹ä»“åº“çš„émasteråˆ†æ”¯</title>
    <link href="http://yoursite.com/2019/11/06/git%20clone%E5%90%8E%EF%BC%8C%E5%9C%A8%E6%9C%AC%E5%9C%B0%E5%88%87%E6%8D%A2%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E9%9D%9Emaster%E5%88%86%E6%94%AF/"/>
    <id>http://yoursite.com/2019/11/06/git cloneåï¼Œåœ¨æœ¬åœ°åˆ‡æ¢åˆ°è¿œç¨‹ä»“åº“çš„émasteråˆ†æ”¯/</id>
    <published>2019-11-06T13:09:00.000Z</published>
    <updated>2019-11-06T13:29:53.085Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong> å› ä¸ºæœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œ åœ¨<code>github</code>ä¸Šé¢çš„ä»“åº“æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆ<code>master</code>å’Œ<code>markdown</code>ï¼‰ï¼Œä¸”ä¸¤ä¸ªåˆ†æ”¯çš„å†…å®¹å®Œå…¨ä¸ç›¸åŒï¼Œç°åœ¨éœ€è¦å¦å¤–ä¸€å°ç”µè„‘ä¸Šé¢ï¼Œå…‹éš†ä¸‹æ¥æœ¬åœ°ä»“åº“ï¼Œä¸”åŒæ—¶èƒ½å¤Ÿåœ¨ä¸¤ä¸ªåˆ†æ”¯ä¸Šé¢éƒ½è¿›è¡Œä¸åŒçš„å¼€å‘</p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font> <a href="https://blog.csdn.net/qq_33154343/article/details/102943685" target="_blank" rel="noopener">git cloneåï¼Œåœ¨æœ¬åœ°åˆ‡æ¢åˆ°è¿œç¨‹ä»“åº“çš„émasteråˆ†æ”¯</a></p></blockquote><br><h2 id="ä¸‹é¢ä¸ºè‡ªå·±çš„ä»“åº“ä¸ºç¤ºèŒƒï¼š"><a href="#ä¸‹é¢ä¸ºè‡ªå·±çš„ä»“åº“ä¸ºç¤ºèŒƒï¼š" class="headerlink" title="ä¸‹é¢ä¸ºè‡ªå·±çš„ä»“åº“ä¸ºç¤ºèŒƒï¼š"></a>ä¸‹é¢ä¸ºè‡ªå·±çš„ä»“åº“ä¸ºç¤ºèŒƒï¼š</h2><ul><li><code>git clone</code>è¿œç¨‹ä»“åº“æ‹·è´åˆ°æœ¬åœ°ä»“åº“ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:touwoyimuli/touwoyimuli.github.io.git</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œçš„æ—¶å€™ï¼Œ å…¶å®æ˜¯å°†<strong>touwoyimuli.github.ioä»“åº“</strong>çš„æ‰€æœ‰åˆ†æ”¯å…¨éƒ¨éƒ½æ‹·è´ä¸‹æ¥çš„</p><ul><li>æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯<code>git branch -a</code>ï¼Œé»˜è®¤æ˜¯<code>æœ¬åœ°master</code>+<code>è¿œç¨‹origin: master</code>+<code>è¿œç¨‹origin: émasteråˆ†æ”¯ç­‰</code></li></ul><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-11-06_10-39_mark.png"/><ul><li>åˆ‡æ¢åˆ°æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯<code>markdown</code>ï¼ˆä¹Ÿå¯ä»¥ä¸ºå…¶ä»–åï¼‰ï¼›<code>markdown</code>ä¸ºæœ¬åœ°æ–°åˆ†æ”¯ï¼Œåé¢å¯¹åº”è¿œç¨‹çš„origin/markdownä¸ºè¿œç¨‹ä»“åº“çš„émasteråˆ†æ”¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b markdown origin/markdown</span><br></pre></td></tr></table></figure><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/2019-11-06_10-41_mark.png"/>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt; å› ä¸ºæœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œ åœ¨&lt;code&gt;github&lt;/code&gt;ä¸Šé¢çš„ä»“åº“æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆ&lt;code&gt;master&lt;/code&gt;å’Œ&lt;code&gt;markdown&lt;/code&gt;ï¼‰ï¼Œä¸”ä¸¤ä¸ªåˆ†æ”¯çš„å†…å®¹å®Œå…¨ä¸ç›¸åŒï¼Œç°åœ¨éœ€è¦å¦å¤–ä¸€å°ç”µè„‘ä¸Šé¢ï¼Œå…‹éš†ä¸‹æ¥æœ¬åœ°ä»“åº“ï¼Œä¸”åŒæ—¶èƒ½å¤Ÿåœ¨ä¸¤ä¸ªåˆ†æ”¯ä¸Šé¢éƒ½è¿›è¡Œä¸åŒçš„å¼€å‘&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - git" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-git/"/>
    
    
  </entry>
  
  <entry>
    <title>Qt Creator å…³é—­.cppæ–‡ä»¶å³ä¾§çš„é»„è‰²è­¦å‘Š</title>
    <link href="http://yoursite.com/2019/11/06/Qt%20Creator%20%E5%85%B3%E9%97%AD.cpp%E6%96%87%E4%BB%B6%E5%8F%B3%E4%BE%A7%E7%9A%84%E9%BB%84%E8%89%B2%E8%AD%A6%E5%91%8A/"/>
    <id>http://yoursite.com/2019/11/06/Qt Creator å…³é—­.cppæ–‡ä»¶å³ä¾§çš„é»„è‰²è­¦å‘Š/</id>
    <published>2019-11-06T12:41:26.000Z</published>
    <updated>2019-11-06T13:26:41.750Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç®€  è¿°ï¼š</strong>  åœ¨<code>Qt Creator</code>é‡Œé¢ï¼Œé»˜è®¤æ‰“å¼€ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œç‚¹å¼€ä¸€ä¸ª<code>*.cpp</code>æ–‡ä»¶é‡Œé¢ï¼Œæ˜¯å¾ˆå®¹æ˜“åœ¨å³ä¾§çœ‹åˆ°æˆç‰‡çš„é»„è‰²è­¦å‘Šâš ï¸æˆ–è€…çº¢é¢œè‰²çš„<code>error</code>æç¤ºï¼Œ æ€»æ˜¯è®©çœ‹çš„äººæ¯”è¾ƒææ…Œï¼Œç„¶ååœ¨æ­¤æ–‡ç« ä¸­ï¼Œç»™å‡ºå¦‚ä½•å…³é—­è¿™ä¸ªé»„è‰²ã€çº¢è‰²è­¦å‘Šçš„çš„æ–¹æ³•</p><a id="more"></a><p>[TOC]</p><blockquote><p><font color=#D0087E  size=4 face="å¹¼åœ†"><strong>æœ¬ç¯‡çš„<a href="https://blog.csdn.net/qq_33154343" target="_blank" rel="noopener">csdn</a>/<a href="https://touwoyimuli.github.io/" target="_blank" rel="noopener">github.io</a>åŒæ­¥åšæ–‡:</strong> </font> <a href="https://blog.csdn.net/qq_33154343/article/details/102943623" target="_blank" rel="noopener">Qt Creator å…³é—­.cppæ–‡ä»¶å³ä¾§çš„é»„è‰²è­¦å‘Š</a></p></blockquote><br><h2 id="å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š"><a href="#å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š" class="headerlink" title="å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š"></a>å…³é—­é»„è‰²è­¦å‘Šï¼ˆå’Œçº¢è‰²ï¼‰æç¤ºï¼š</h2><h3 id="æœªä¿®æ”¹ä¹‹å‰ï¼š"><a href="#æœªä¿®æ”¹ä¹‹å‰ï¼š" class="headerlink" title="æœªä¿®æ”¹ä¹‹å‰ï¼š"></a>æœªä¿®æ”¹ä¹‹å‰ï¼š</h3><p><strong>ç¼–ç¨‹ç¯å¢ƒï¼š</strong>  <code>MacOS 10.14.6 (18G103)</code>  </p><p><strong>ç¼–ç¨‹è½¯ä»¶ï¼š</strong> <code>Qt 5.12.5</code>ï¼Œ <code>Qt Creator 4.10.0</code></p><p>æœ‰ç€æ¯”è¾ƒå¤šçš„é»„è‰²ï¼ˆçº¢è‰²ï¼‰è­¦å‘Šï¼Œè™½ç„¶ä¸å½±å“ç¼–è¯‘ï¼Œ ä½†æ˜¯çœ‹èµ·æ¥å¾ˆä¸çˆ½ï¼š</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/Snipaste_2019-11-06_20-06-30_mark.png"/><h3 id="ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š"><a href="#ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š" class="headerlink" title="ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š"></a>ä¿®æ”¹æ–¹æ³•å’Œæ•ˆæœï¼š</h3><p><strong>æ­¥éª¤ï¼š</strong> ç‚¹å‡»å±å¹•å·¦ä¸Šè§’çš„<code>Qt Cretor - å…³äºæ’ä»¶ - Name - c++: ClangcodeModel</code>ï¼Œå°†è¿™ä¸€æ çš„å¯¹é’©âœ”ï¸å–æ¶ˆæ‰ï¼Œç„¶åé‡å¯<code>Qt Cretor</code>ï¼Œå†æ¬¡æ‰“å¼€ä¹‹åï¼Œ å°±å¥½äº†</p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191106203719.png"/><p><strong>æˆåŠŸé‡å¯åï¼š</strong></p><img src="https://raw.githubusercontent.com/touwoyimuli/FigureBed/blog-imange/img/20191106203852.png"/>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç®€  è¿°ï¼š&lt;/strong&gt;  åœ¨&lt;code&gt;Qt Creator&lt;/code&gt;é‡Œé¢ï¼Œé»˜è®¤æ‰“å¼€ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œç‚¹å¼€ä¸€ä¸ª&lt;code&gt;*.cpp&lt;/code&gt;æ–‡ä»¶é‡Œé¢ï¼Œæ˜¯å¾ˆå®¹æ˜“åœ¨å³ä¾§çœ‹åˆ°æˆç‰‡çš„é»„è‰²è­¦å‘Šâš ï¸æˆ–è€…çº¢é¢œè‰²çš„&lt;code&gt;error&lt;/code&gt;æç¤ºï¼Œ æ€»æ˜¯è®©çœ‹çš„äººæ¯”è¾ƒææ…Œï¼Œç„¶ååœ¨æ­¤æ–‡ç« ä¸­ï¼Œç»™å‡ºå¦‚ä½•å…³é—­è¿™ä¸ªé»„è‰²ã€çº¢è‰²è­¦å‘Šçš„çš„æ–¹æ³•&lt;/p&gt;
    
    </summary>
    
    
      <category term="å­¦ä¹  - qt" scheme="http://yoursite.com/categories/%E5%AD%A6%E4%B9%A0-qt/"/>
    
    
  </entry>
  
</feed>
